/*!
 * @quasar/quasar-ui-qcalendar v4.0.0-beta.12
 * (c) 2021 Jeff Galbraith <jeff@quasar.dev>
 * Released under the MIT License.
 */
import{reactive,ref,computed,withDirectives,h,watch,getCurrentInstance,onBeforeUnmount,defineComponent,onBeforeUpdate,onMounted,Transition,nextTick}from"vue";const PARSE_REGEX=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,PARSE_DATE=/^(\d{4})-(\d{1,2})(-(\d{1,2}))/,PARSE_TIME=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,DAYS_IN_MONTH=[0,31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP=[0,31,29,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_MIN=28,DAYS_IN_MONTH_MAX=31,MONTH_MAX=12,MONTH_MIN=1,DAY_MIN=1,DAYS_IN_WEEK=7,MINUTES_IN_HOUR=60,HOURS_IN_DAY=24,FIRST_HOUR=0,MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_DAY=864e5,MILLISECONDS_IN_WEEK=6048e5,Timestamp={date:"",time:"",year:0,month:0,day:0,weekday:0,hour:0,minute:0,doy:0,workweek:0,hasDay:!1,hasTime:!1,past:!1,current:!1,future:!1,disabled:!1,currentWeekday:!1},TimeObject={hour:0,minute:0};function today(){const e=new Date,a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return[n,padNumber(a,2),padNumber(t,2)].join("-")}function getStartOfWeek(e,a,t){let n=copyTimestamp(e);if(1===n.day||0===n.weekday)while(!a.includes(n.weekday))n=nextDay(n);return n=findWeekday(n,a[0],prevDay),n=updateFormatted(n),t&&(n=updateRelative(n,t,n.hasTime)),n}function getEndOfWeek(e,a,t){let n=copyTimestamp(e);const r=daysInMonth(n.year,n.month);if(r===n.day||6===n.weekday)while(!a.includes(n.weekday))n=prevDay(n);return n=findWeekday(n,a[a.length-1],nextDay),n=updateFormatted(n),t&&(n=updateRelative(n,t,n.hasTime)),n}function getStartOfMonth(e){const a=copyTimestamp(e);return a.day=DAY_MIN,updateFormatted(a),a}function getEndOfMonth(e){const a=copyTimestamp(e);return a.day=daysInMonth(a.year,a.month),updateFormatted(a),a}function parseTime(e){const a=Object.prototype.toString.call(e);switch(a){case"[object Number]":return e;case"[object String]":{const t=PARSE_TIME.exec(e);return t?60*parseInt(t[1],10)+parseInt(t[3]||0,10):!1}case"[object Object]":return"number"!==typeof e.hour||"number"!==typeof e.minute?!1:60*e.hour+e.minute}return!1}function validateTimestamp(e){return!!PARSE_REGEX.exec(e)}function compareTimestamps(e,a){return JSON.stringify(e)===JSON.stringify(a)}function compareDate(e,a){return getDate(e)===getDate(a)}function compareTime(e,a){return getTime(e)===getTime(a)}function compareDateTime(e,a){return getDateTime(e)===getDateTime(a)}function parsed(e){const a=PARSE_REGEX.exec(e);return a?{date:e,time:padNumber(parseInt(a[6],10)||0,2)+":"+padNumber(parseInt(a[8],10)||0,2),year:parseInt(a[1],10),month:parseInt(a[2],10),day:parseInt(a[4],10)||1,hour:isNaN(parseInt(a[6],10))?0:parseInt(a[6],10),minute:isNaN(parseInt(a[8],10))?0:parseInt(a[8],10),weekday:0,doy:0,workweek:0,hasDay:!!a[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function parseTimestamp(e,a){let t=parsed(e);return null===t?null:(t=updateFormatted(t),a&&updateRelative(t,a,t.hasTime),t)}function parseDate(e,a=!1){const t=a?"UTC":"";return updateFormatted({date:padNumber(e[`get${t}FullYear`](),4)+"-"+padNumber(e[`get${t}Month`]()+1,2)+"-"+padNumber(e[`get${t}Date`](),2),time:padNumber(e[`get${t}Hours`]()||0,2)+":"+padNumber(e[`get${t}Minutes`]()||0,2),year:e[`get${t}FullYear`](),month:e[`get${t}Month`]()+1,day:e[`get${t}Date`](),hour:e[`get${t}Hours`](),minute:e[`get${t}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function getDayIdentifier(e){return 1e8*e.year+1e6*e.month+1e4*e.day}function getTimeIdentifier(e){return 100*e.hour+e.minute}function getDayTimeIdentifier(e){return getDayIdentifier(e)+getTimeIdentifier(e)}function diffTimestamp(e,a,t){const n=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute),r=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute);return!0===t&&r<n?0:r-n}function updateRelative(e,a,t=!1){let n=getDayIdentifier(a),r=getDayIdentifier(e),d=n===r;return e.hasTime&&t&&d&&(n=getTimeIdentifier(a),r=getTimeIdentifier(e),d=n===r),e.past=r<n,e.current=d,e.future=r>n,e.currentWeekday=e.weekday===a.weekday,e}function updateMinutes(e,a,t){return e.hasTime=!0,e.hour=Math.floor(a/MINUTES_IN_HOUR),e.minute=a%MINUTES_IN_HOUR,e.time=getTime(e),t&&updateRelative(e,t,!0),e}function updateWeekday(e){return e.weekday=getWeekday(e),e}function updateDayOfYear(e){return e.doy=getDayOfYear(e),e}function updateWorkWeek(e){return e.workweek=getWorkWeek(e),e}function updateDisabled(e,a,t,n,r){const d=getDayIdentifier(e);if(void 0!==a){const o=getDayIdentifier(parsed(a));d<=o&&(e.disabled=!0)}if(!0!==e.disabled&&void 0!==t){const l=getDayIdentifier(parsed(t));d>=l&&(e.disabled=!0)}if(!0!==e.disabled&&Array.isArray(n)&&n.length>0)for(const u in n)if(n[u]===e.weekday){e.disabled=!0;break}if(!0!==e.disabled&&Array.isArray(r)&&r.length>0)for(const i in r)if(Array.isArray(r[i])&&2===r[i].length){const s=parsed(r[i][0]),c=parsed(r[i][1]);if(isBetweenDates(e,s,c)){e.disabled=!0;break}}else{const v=getDayIdentifier(parseTimestamp(r[i]+" 00:00"));if(v===d){e.disabled=!0;break}}return e}function updateFormatted(e){return e.hasTime=!0,e.time=getTime(e),e.date=getDate(e),e.weekday=getWeekday(e),e.doy=getDayOfYear(e),e.workweek=getWorkWeek(e),e}function getDayOfYear(e){if(0!==e.year)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function getWorkWeek(e){0===e.year&&(e=parseTimestamp(today()));const a=makeDate(e);if(isNaN(a))return 0;const t=new Date(a.getFullYear(),a.getMonth(),a.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);const d=(t-n)/MILLISECONDS_IN_WEEK;return 1+Math.floor(d)}function getWeekday(e){let a=e.weekday;if(e.hasDay){const t=Math.floor,n=e.day,r=(e.month+9)%MONTH_MAX+1,d=t(e.year/100),o=e.year%100-(e.month<=2?1:0);a=((n+t(2.6*r-.2)-2*d+o+t(o/4)+t(d/4))%7+7)%7}return a}function isLeapYear(e){return 1===(e%4===0^e%100===0^e%400===0)}function daysInMonth(e,a){return(isLeapYear(e)?DAYS_IN_MONTH_LEAP:DAYS_IN_MONTH)[a]}function copyTimestamp(e){return{...e}}function padNumber(e,a){let t=String(e);while(t.length<a)t="0"+t;return t}function getDate(e){let a=padNumber(e.year,4)+"-"+padNumber(e.month,2);return e.hasDay&&(a+="-"+padNumber(e.day,2)),a}function getTime(e){return e.hasTime?padNumber(e.hour,2)+":"+padNumber(e.minute,2):""}function getDateTime(e){return getDate(e)+" "+(e.hasTime?getTime(e):"00:00")}function nextDay(e){return++e.day,e.weekday=(e.weekday+1)%DAYS_IN_WEEK,e.day>DAYS_IN_MONTH_MIN&&e.day>daysInMonth(e.year,e.month)&&(e.day=DAY_MIN,++e.month,e.month>MONTH_MAX&&(e.month=MONTH_MIN,++e.year)),e}function prevDay(e){return e.day--,e.weekday=(e.weekday+6)%DAYS_IN_WEEK,e.day<DAY_MIN&&(e.month--,e.month<MONTH_MIN&&(e.year--,e.month=MONTH_MAX),e.day=daysInMonth(e.year,e.month)),e}function moveRelativeDays(e,a=nextDay,t=1,n=[0,1,2,3,4,5,6]){return relativeDays(e,a,t,n)}function relativeDays(e,a=nextDay,t=1,n=[0,1,2,3,4,5,6]){n.includes(e.weekday)||0!==e.weekday||a!==nextDay||++t;while(--t>=0)e=a(e),n.length<7&&!n.includes(e.weekday)&&++t;return e}function findWeekday(e,a,t=nextDay,n=6){while(e.weekday!==a&&--n>=0)e=t(e);return e}function getWeekdaySkips(a){const e=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let e=0;e<a.length;++e)n[a[e]]=1;for(let t=0;t<DAYS_IN_WEEK;++t){let a=1;for(let e=1;e<DAYS_IN_WEEK;++e){const r=(t+e)%DAYS_IN_WEEK;if(n[r])break;++a}e[t]=n[t]*a}return e}function createDayList(e,a,t,n,r,d,o=[],l=[],u=42,i=0){const s=getDayIdentifier(a),c=[];let v=copyTimestamp(e),p=0,m=p===s;if(s<getDayIdentifier(e))return c;while((!m||c.length<i)&&c.length<u){if(p=getDayIdentifier(v),m=m||p>s&&c.length>=i,m)break;if(0!==n[v.weekday]){const y=copyTimestamp(v);updateFormatted(y),updateRelative(y,t),updateDisabled(y,r,d,o,l),c.push(y),v=relativeDays(v,nextDay)}else v=relativeDays(v,nextDay)}return c}function createIntervalList(a,t,n,r,d){const o=[];for(let e=0;e<r;++e){const l=(t+e)*n,u=copyTimestamp(a);o.push(updateMinutes(u,l,d))}return o}function createNativeLocaleFormatter(n,r){const d=(e,a)=>"";return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?d:(a,e)=>{try{const t=new Intl.DateTimeFormat(n||void 0,r(a,e));return t.format(makeDateTime(a))}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> `+getDateTime(a)),d}}}function makeDate(e,a=!0){return a?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function makeDateTime(e,a=!0){return a?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function validateNumber(e){return isFinite(parseInt(e,10))}function maxTimestamp(e,a=!1){const t=!0===a?getDayTimeIdentifier:getDayIdentifier;return e.reduce((e,a)=>{return Math.max(t(e),t(a))===t(e)?e:a})}function minTimestamp(e,a=!1){const t=!0===a?getDayTimeIdentifier:getDayIdentifier;return e.reduce((e,a)=>{return Math.min(t(e),t(a))===t(e)?e:a})}function isBetweenDates(e,a,t,n){const r=getDayIdentifier(e)+(!0===n?getTimeIdentifier(e):0),d=getDayIdentifier(a)+(!0===n?getTimeIdentifier(a):0),o=getDayIdentifier(t)+(!0===n?getTimeIdentifier(t):0);return r>=d&&r<=o}function isOverlappingDates(e,a,t,n){const r=getDayIdentifier(e),d=getDayIdentifier(a),o=getDayIdentifier(t),l=getDayIdentifier(n);return r>=o&&r<=l||d>=o&&d<=l||o>=r&&d>=l}function addToDate(e,a){const n=copyTimestamp(e);let r;return __forEachObject(a,(e,a)=>{if(void 0!==n[a]){n[a]+=parseInt(e,10);const t=NORMALIZE_TYPES.indexOf(a);-1!==t&&(r=void 0===r?t:Math.min(t,r))}}),void 0!==r&&__normalize(n,NORMALIZE_TYPES[r]),updateFormatted(n),n}const NORMALIZE_TYPES=["minute","hour","day","month"];function __forEachObject(a,t){Object.keys(a).forEach(e=>t(a[e],e))}function __normalizeMinute(e){if(e.minute>=MINUTES_IN_HOUR||e.minute<0){const a=Math.floor(e.minute/MINUTES_IN_HOUR);e.minute-=a*MINUTES_IN_HOUR,e.hour+=a,__normalizeHour(e)}return e}function __normalizeHour(e){if(e.hour>=HOURS_IN_DAY||e.hour<0){const a=Math.floor(e.hour/HOURS_IN_DAY);e.hour-=a*HOURS_IN_DAY,e.day+=a,__normalizeDay(e)}return e}function __normalizeDay(a){__normalizeMonth(a);let t=daysInMonth(a.year,a.month);if(a.day>t){++a.month,a.month>MONTH_MAX&&__normalizeMonth(a);let e=a.day-t;t=daysInMonth(a.year,a.month);do{e>t&&(++a.month,a.month>MONTH_MAX&&__normalizeMonth(a),e-=t,t=daysInMonth(a.year,a.month))}while(e>t);a.day=e}else if(a.day<=0){let e=-1*a.day;--a.month,a.month<=0&&__normalizeMonth(a),t=daysInMonth(a.year,a.month);do{e>t&&(e-=t,--a.month,a.month<=0&&__normalizeMonth(a),t=daysInMonth(a.year,a.month))}while(e>t);a.day=t-e}return a}function __normalizeMonth(e){if(e.month>MONTH_MAX){const a=Math.floor(e.month/MONTH_MAX);e.month=e.month%MONTH_MAX,e.year+=a}else e.month<MONTH_MIN&&(e.month+=MONTH_MAX,--e.year);return e}function __normalize(e,a){switch(a){case"minute":return __normalizeMinute(e);case"hour":return __normalizeHour(e);case"day":return __normalizeDay(e);case"month":return __normalizeMonth(e)}}function daysBetween(e,a){const t=diffTimestamp(e,a,!0);return Math.floor(t/MILLISECONDS_IN_DAY)}function weeksBetween(e,a){let t=copyTimestamp(e),n=copyTimestamp(a);return t=findWeekday(t,0),n=findWeekday(n,6),Math.ceil(daysBetween(t,n)/DAYS_IN_WEEK)}const weekdayDateMap={Sun:new Date("2020-01-05T00:00:00.000Z"),Mon:new Date("2020-01-06T00:00:00.000Z"),Tue:new Date("2020-01-07T00:00:00.000Z"),Wed:new Date("2020-01-08T00:00:00.000Z"),Thu:new Date("2020-01-09T00:00:00.000Z"),Fri:new Date("2020-01-10T00:00:00.000Z"),Sat:new Date("2020-01-11T00:00:00.000Z")};function getWeekdayFormatter(){const r=(e,a)=>"",d={long:{timeZone:"UTC",weekday:"long"},short:{timeZone:"UTC",weekday:"short"},narrow:{timeZone:"UTC",weekday:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?r:e;function e(a,e,t){try{const n=new Intl.DateTimeFormat(t||void 0,d[e]||d["long"]);return n.format(weekdayDateMap[a])}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> day of week: `+a),r}}}function getWeekdayNames(a,t){const e=Object.keys(weekdayDateMap),n=getWeekdayFormatter();return e.map(e=>n(e,a,t))}function getMonthFormatter(){const d=(e,a)=>"",o={long:{timeZone:"UTC",month:"long"},short:{timeZone:"UTC",month:"short"},narrow:{timeZone:"UTC",month:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?d:e;function e(a,e,t){try{const n=new Intl.DateTimeFormat(t||void 0,o[e]||o["long"]),r=new Date;return r.setDate(1),r.setMonth(a),n.format(r)}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> month: `+a),d}}}function getMonthNames(a,t){const n=getMonthFormatter();return[...Array(12).keys()].map(e=>n(e,a,t))}function convertToUnit(e,a="px"){if(null!=e&&""!==e)return isNaN(e)?String(e):"auto"===e?e:""+Number(e)+a}function indexOf(a,t){for(let e=0;e<a.length;e++)if(!0===t(a[e],e))return e;return-1}function minCharWidth(e,a){return 0===a?e:e.slice(0,a)}var ResizeObserver$1={name:"ResizeObserver",mounted(e,{value:a}){if(a){const t={};t.callback=a,t.size={width:0,height:0},t.observer=new ResizeObserver(e=>{const a=e[0].contentRect;a.width===t.size.width&&a.height===t.size.height||(t.size.width=a.width,t.size.height=a.height,t.callback(t.size))}),t.observer.observe(e),e.__onResizeObserver=t}},beforeUnmount(e){if(e.__onResizeObserver){const a=e.__onResizeObserver["observer"];a.unobserve(e),delete e.__onResizeObserver}}};function useCalendar(a,t,{scrollArea:e,pane:n}){if(!t){const s="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(s),new Error(s)}const r=reactive({width:0,height:0}),d=ref(null);function o({width:e,height:a}){r.width=e,r.height=a}const l=computed(()=>{return!0!==a.noScroll&&e.value&&n.value&&r.height?e.value.offsetWidth-n.value.offsetWidth:0});function u(){}function i(){const e={ref:d,role:"complementary",lang:a.locale,class:{"q-calendar--dark":!0===a.dark,"q-calendar":!0,"q-calendar__bordered":!0===a.bordered}};return withDirectives(h("div",e,[t()]),[[ResizeObserver$1,o]])}return{rootRef:d,scrollWidth:l,__initCalendar:u,__renderCalendar:i}}const useCommonProps={modelValue:{type:String,default:today(),validator:e=>""===e||validateTimestamp(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>2===e.length},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let a=!0;e.forEach(e=>{!0!==["day","date","weekday","interval","time","resource","task"].includes(e)&&(a=!1)});return a}}};function useCommon(r,{startDate:e,endDate:a,times:t}){const n=computed(()=>getWeekdaySkips(r.weekdays)),d=computed(()=>parseTimestamp(e.value)),o=computed(()=>{if("0000-00-00"===a.value)return m(d.value);return parseTimestamp(a.value)}),l=computed(()=>{const t={timeZone:"UTC",day:"numeric"};return createNativeLocaleFormatter(r.locale,(e,a)=>t)}),u=computed(()=>{const t={timeZone:"UTC",weekday:"long"};const n={timeZone:"UTC",weekday:"short"};return createNativeLocaleFormatter(r.locale,(e,a)=>a?n:t)}),i=computed(()=>{const a={timeZone:"UTC",dateStyle:"full"};return createNativeLocaleFormatter(r.locale,e=>a)});function s(e,a){return e&&e.length>0&&e.includes(a.date)}function c(e,a){const t={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=getDayIdentifier(a),r=getDayIdentifier(parsed(e[0])),d=getDayIdentifier(parsed(e[1]));t.firstDay=r===n,t.lastDay=d===n,t.betweenDays=r<n&&d>n}return t}function v(e,a=!1,t=[],n=[],r=!1){const d=s(t,e),{firstDay:o,lastDay:l,betweenDays:u}=c(n,e);return{"q-past-day":!0!==o&&!0!==u&&!0!==l&&!0!==d&&!0!==a&&e.past,"q-future-day":!0!==o&&!0!==u&&!0!==l&&!0!==d&&!0!==a&&e.future,"q-outside":a,"q-current-day":e.current,"q-selected":d,"q-range-first":!0===o,"q-range":!0===u,"q-range-last":!0===l,"q-range-hover":!0===r&&(!0===o||!0===l||!0===u),"q-disabled-day disabled":!0===e.disabled}}function p(e){return getStartOfWeek(e,r.weekdays,t.today)}function m(e){return getEndOfWeek(e,r.weekdays,t.today)}function y(e){}return{weekdaySkips:n,parsedStart:d,parsedEnd:o,dayFormatter:l,weekdayFormatter:u,ariaDateFormatter:i,arrayHasDate:s,checkDays:c,getRelativeClasses:v,startOfWeek:p,endOfWeek:m,dayStyleDefault:y}}function scrollTo(e,a){e!==window?e.scrollTop=a:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a)}function scrollToHorizontal(e,a){e!==window?e.scrollLeft=a:window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)}function getVerticalScrollPosition(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function getHorizontalScrollPosition(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function animVerticalScrollTo(n,r,d=0){const o=void 0===arguments[3]?performance.now():arguments[3],l=getVerticalScrollPosition(n);d<=0?l!==r&&scrollTo(n,r):requestAnimationFrame(e=>{const a=e-o;const t=l+(r-l)/Math.max(a,d)*a;scrollTo(n,t);t!==r&&animVerticalScrollTo(n,r,d-a,e)})}function animHorizontalScrollTo(n,r,d=0){const o=void 0===arguments[3]?performance.now():arguments[3],l=getHorizontalScrollPosition(n);d<=0?l!==r&&scrollToHorizontal(n,r):requestAnimationFrame(e=>{const a=e-o;const t=l+(r-l)/Math.max(a,d)*a;setHorizontalScroll(n,t);t!==r&&animHorizontalScrollTo(n,r,d-a,e)})}const useIntervalProps={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:validateNumber},intervalMinutes:{type:[Number,String],default:60,validator:validateNumber},intervalStart:{type:[Number,String],default:0,validator:validateNumber},intervalCount:{type:[Number,String],default:24,validator:validateNumber},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},useSchedulerProps={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:validateNumber},resourceMinHeight:{type:[Number,String],default:70,validator:validateNumber},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},useAgendaProps={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:validateNumber},dayMinHeight:{type:[Number,String],default:40,validator:validateNumber}},useResourceProps={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:validateNumber},resourceMinHeight:{type:[Number,String],default:70,validator:validateNumber},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:validateNumber},noSticky:Boolean};function useInterval(d,{weekdaySkips:e,times:a,scrollArea:n,parsedStart:t,parsedEnd:r,maxDays:o,size:l,headerColumnRef:u}){const i=computed(()=>parseInt(d.intervalStart,10)),v=computed(()=>parseInt(d.intervalMinutes,10)),s=computed(()=>parseInt(d.intervalCount,10)),p=computed(()=>parseFloat(d.intervalHeight)),m=computed(()=>{let e=0;d.cellWidth?e=d.cellWidth:l.width>0&&u.value&&(e=u.value.offsetWidth/(d.columnCount>1?d.columnCount:o.value));return e}),c=computed(()=>i.value*v.value),y=computed(()=>s.value*p.value),f=computed(()=>s.value*m.value),h=computed(()=>w(t.value)),g=computed(()=>D(r.value)),_=computed(()=>{return createDayList(t.value,r.value,a.today,e.value,d.disabledBefore,d.disabledAfter,d.disabledWeekdays,d.disabledDays,o.value)}),k=computed(()=>{return _.value.map(e=>createIntervalList(e,i.value,v.value,s.value,a.now))});function w(e){return getStartOfWeek(e,d.weekdays,a.today)}function D(e){return getEndOfWeek(e,d.weekdays,a.today)}function T(e,a){return e&&e.length>0&&e.includes(getDateTime(a))}function b(e,a){const t={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=getDayTimeIdentifier(a),r=getDayTimeIdentifier(parsed(e[0])),d=getDayTimeIdentifier(parsed(e[1]));t.firstDay=r===n,t.lastDay=d===n,t.betweenDays=r<n&&d>n}return t}function I(e,a=[],t=[]){const n=T(a,e),{firstDay:r,lastDay:d,betweenDays:o}=b(t,e);return{"q-selected":n,"q-range-first":!0===r,"q-range":!0===o,"q-range-last":!0===d,"q-disabled-interval disabled":!0===e.disabled}}function C(e,a=0,t){return[]}const S=computed(()=>{const t={timeZone:"UTC",hour12:!d.hour24Format,hour:"2-digit",minute:"2-digit"};const n={timeZone:"UTC",hour12:!d.hour24Format,hour:"numeric",minute:"2-digit"};const r={timeZone:"UTC",hour12:!d.hour24Format,hour:"numeric"};return createNativeLocaleFormatter(d.locale,(e,a)=>a?0===e.minute?r:n:t)}),M=computed(()=>{const a={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return createNativeLocaleFormatter(d.locale,e=>a)});function F(e){const a=k.value[0][0],t=a.hour===e.hour&&a.minute===e.minute;return!t&&0===e.minute}function E(e){}function N(e){}function O(e,a,t=!1,n=void 0){let r=copyTimestamp(a);const d=e.currentTarget.getBoundingClientRect(),o=e,l=e,u=o.changedTouches||o.touches,i=(u&&u[0]?u[0]:l).clientY,s=(i-d.top)/p.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=addToDate(r,{minute:c})),n&&updateRelative(r,n,!0),r}function q(e,a,t=!1,n=void 0){let r=copyTimestamp(a);const d=e.currentTarget.getBoundingClientRect(),o=e,l=e,u=o.changedTouches||o.touches,i=(u&&u[0]?u[0]:l).clientY,s=(i-d.top)/p.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=addToDate(r,{minute:c})),n&&updateRelative(r,n,!0),r}function W(e,a,t=!1,n=void 0){let r=copyTimestamp(a);const d=e.currentTarget.getBoundingClientRect(),o=e,l=e,u=o.changedTouches||o.touches,i=(u&&u[0]?u[0]:l).clientX,s=(i-d.left)/m.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=addToDate(r,{minute:c})),n&&updateRelative(r,n,!0),r}function x(e,a){const t={timestamp:e};return t.timeStartPos=B,t.timeDurationHeight=L,void 0!==a&&(t.columnIndex=a),t}function A(e,a){const t={timestamp:copyTimestamp(e)};return t.timeStartPosX=Y,t.timeDurationWidth=P,void 0!==a&&(t.index=a),t}function H(e,a=0){const t=B(e);return!(!1===t||!n.value)&&(animVerticalScrollTo(n.value,t,a),!0)}function R(e,a=0){const t=Y(e);return!(!1===t||!n.value)&&(animHorizontalScrollTo(n.value,t,a),!0)}function L(e){return e/v.value*p.value}function P(e){return e/v.value*m.value}function U(e){return parseInt(e,10)*v.value/p.value}function V(e){return parseInt(e,10)*v.value/m.value}function B(e,a=!0){const t=parseTime(e);if(!1===t)return!1;const n=c.value,r=s.value*v.value,d=(t-n)/r;let o=d*y.value;return a&&(o<0&&(o=0),o>y.value&&(o=y.value)),o}function Y(e,a=!0){const t=parseTime(e);if(!1===t)return!1;const n=c.value,r=s.value*v.value,d=(t-n)/r;let o=d*f.value;return a&&(o<0&&(o=0),o>f.value&&(o=f.value)),o}return{parsedIntervalStart:i,parsedIntervalMinutes:v,parsedIntervalCount:s,parsedIntervalHeight:p,parsedCellWidth:m,parsedStartMinute:c,bodyHeight:y,bodyWidth:f,parsedWeekStart:h,parsedWeekEnd:g,days:_,intervals:k,intervalFormatter:S,ariaDateTimeFormatter:M,arrayHasDateTime:T,checkIntervals:b,getIntervalClasses:I,getResourceClasses:C,showIntervalLabelDefault:F,showResourceLabelDefault:E,styleDefault:N,getTimestampAtEventInterval:O,getTimestampAtEvent:q,getTimestampAtEventX:W,getScopeForSlot:x,getScopeForSlotX:A,scrollToTime:H,scrollToTimeX:R,timeDurationHeight:L,timeDurationWidth:P,heightToMinutes:U,widthToMinutes:V,timeStartPos:B,timeStartPosX:Y}}const useColumnProps={columnCount:{type:[Number,String],default:0,validator:validateNumber},columnIndexStart:{type:[Number,String],default:0,validator:validateNumber}},useMaxDaysProps={maxDays:{type:Number,default:1}},useTimesProps={now:{type:String,validator:e=>""===e||validateTimestamp(e),default:""}};function useTimes(e){const a=reactive({now:parseTimestamp("0000-00-00 00:00"),today:parseTimestamp("0000-00-00")}),t=computed(()=>e.now?parseTimestamp(e.now):d());function n(){a.now.current=a.today.current=!0,a.now.past=a.today.past=!1,a.now.future=a.today.future=!1}function r(){const e=t.value||d();o(e,a.now),l(e,a.now),o(e,a.today)}function d(){return parseDate(new Date)}function o(e,a){e.date!==a.date&&(a.year=e.year,a.month=e.month,a.day=e.day,a.weekday=e.weekday,a.date=e.date)}function l(e,a){e.time!==a.time&&(a.hour=e.hour,a.minute=e.minute,a.time=e.time)}return watch(()=>t,e=>r()),{times:a,parsedNow:t,setCurrent:n,updateCurrent:r,getNow:d,updateDay:o,updateTime:l}}function useRenderValues(r,{parsedView:d,parsedValue:o,times:l}){const e=computed(()=>{const e=o.value;let a=r.maxDays;let t=e;let n=e;switch(d.value){case"month":t=getStartOfMonth(e),n=getEndOfMonth(e),a=daysInMonth(t.year,t.month);break;case"week":case"week-agenda":case"week-scheduler":t=getStartOfWeek(e,r.weekdays,l.today),n=getEndOfWeek(t,r.weekdays,l.today),a=r.weekdays.length;break;case"day":case"scheduler":case"agenda":n=moveRelativeDays(copyTimestamp(n),nextDay,a>1?a-1:a,r.weekdays),updateFormatted(n);break;case"month-interval":case"month-scheduler":case"month-agenda":t=getStartOfMonth(e),n=getEndOfMonth(e),updateFormatted(n),a=daysInMonth(t.year,t.month);break;case"resource":a=1,n=moveRelativeDays(copyTimestamp(n),nextDay,a,r.weekdays),updateFormatted(n);break}return{start:t,end:n,maxDays:a}});return{renderValues:e}}const toCamelCase=e=>e.replace(/(-\w)/g,e=>e[1].toUpperCase());let $listeners,$emit;function getMouseEventHandlers(e,t){const a={};for(const n in e){const r=e[n],d=toCamelCase("on-"+n);if(void 0===$listeners)return void console.warn("$listeners has not been set up");if(void 0!==$listeners.value[d]){const o="on"+r.event.charAt(0).toUpperCase()+r.event.slice(1),l=e=>{const a=e;(void 0===r.button||a.buttons>0&&a.button===r.button)&&(r.prevent&&a.preventDefault(),r.stop&&a.stopPropagation(),$emit(n,t(a,n)));return r.result};o in a?Array.isArray(a[o])?a[o].push(l):a[o]=[a[o],l]:a[o]=l}}return a}function getDefaultMouseEventHandlers(e,a){return getMouseEventHandlers(getMouseEventName(e),a)}function getMouseEventName(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function getRawMouseEvents(e){return Object.keys(getMouseEventName(e))}function useMouse(e,a){return $emit=e,$listeners=a,{getMouseEventHandlers:getMouseEventHandlers,getDefaultMouseEventHandlers:getDefaultMouseEventHandlers,getMouseEventName:getMouseEventName,getRawMouseEvents:getRawMouseEvents}}const useMoveEmits=["moved"];function useMove(l,{parsedView:u,parsedValue:i,weekdaySkips:s,direction:c,maxDays:v,times:p,emittedValue:m,emit:y}){function e(t=1){if(0!==t){let e=copyTimestamp(i.value);const n=t>0,r=n?nextDay:prevDay,d=n?DAYS_IN_MONTH_MAX:DAY_MIN;let a=n?t:-t;c.value=n?"next":"prev";const o=s.value.filter(e=>0!==e).length;while(--a>=0)switch(u.value){case"month":e.day=d,r(e),updateWeekday(e);while(0===s.value[e.weekday])e=addToDate(e,{day:!0===n?1:-1});break;case"week":case"week-agenda":case"week-scheduler":relativeDays(e,r,o,l.weekdays);break;case"day":case"scheduler":case"agenda":relativeDays(e,r,v.value,l.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":e.day=d,r(e);break;case"resource":relativeDays(e,r,v.value,l.weekdays);break}updateWeekday(e),updateFormatted(e),updateDayOfYear(e),updateRelative(e,p.now),m.value=e.date,y("moved",e)}else m.value=today()}return{move:e}}const listenerRE=/^on[A-Z]/;function useEmitListeners(e=getCurrentInstance()){return{emitListeners:computed(()=>{const a={};void 0!==e.vnode&&null!==e.vnode&&null!==e.vnode.props&&Object.keys(e.vnode.props).forEach(e=>{!0===listenerRE.test(e)&&(a[e]=!0)});return a})}}function useFocusHelper(){return[h("span",{ariaHidden:"true",class:"q-calendar__focus-helper"})]}function useButton(e,a,t){const n=!0===e.focusable&&!0===e.focusType.includes("date");return a.tabindex=!0===n?0:-1,h("button",a,[t,!0===n&&useFocusHelper()])}const useCellWidthProps={cellWidth:[Number,String]};function useCellWidth(e){const a=computed(()=>void 0!==e.cellWidth);return{isSticky:a}}const useCheckChangeEmits=["change"];function useCheckChange(t,{days:n,lastStart:r,lastEnd:d}){function e(){if(n.value&&n.value.length>0){const e=n.value[0].date,a=n.value[n.value.length-1].date;if(null===r.value||null===d.value||e!==r.value||a!==d.value)return r.value=e,d.value=a,t("change",{start:e,end:a,days:n.value}),!0}return!1}return{checkChange:e}}function useEvents(){function e(a,{bubbles:t=!1,cancelable:n=!1}={}){try{return new CustomEvent(a,{bubbles:t,cancelable:n})}catch(e){const r=document.createEvent("Event");return r.initEvent(a,t,n),r}}function a(e,a){return[].concat(a).includes(e.keyCode)}return{createEvent:e,isKeyCode:a}}const isKeyCode=useEvents()["isKeyCode"],useNavigationProps={useNavigation:Boolean};function useKeyboard(t,{rootRef:n,focusRef:r,focusValue:d,datesRef:o,parsedView:l,emittedValue:u,weekdaySkips:i,direction:s,times:c}){let e=!1;function a(){!0!==e&&document&&(e=!0,document.addEventListener("keyup",f),document.addEventListener("keydown",y))}function v(){document&&(document.removeEventListener("keyup",f),document.removeEventListener("keydown",y),e=!1)}function p(e){if(void 0===e)return!1;if(document){const a=document.activeElement;if(a!==document.body&&!0===n.value.contains(a))return!0}return!1}function m(){let e=0;const a=setInterval(()=>{o.value[r.value]?(o.value[r.value].focus(),50!==++e&&document.activeElement!==o.value[r.value]||clearInterval(a)):clearInterval(a)},250)}function y(e){p(e)&&isKeyCode(e,[33,34,35,36,37,38,39,40])&&(e.stopPropagation(),e.preventDefault())}function f(e){if(p(e)&&isKeyCode(e,[33,34,35,36,37,38,39,40]))switch(e.keyCode){case 33:w();break;case 34:D();break;case 35:b();break;case 36:T();break;case 37:_();break;case 38:h();break;case 39:k();break;case 40:g();break}}function h(e){let a=copyTimestamp(d.value);if("month"===l.value){if(a=addToDate(a,{day:-7}),d.value.month!==a.month)return s.value="prev",void(u.value=a.date)}else"day"!==l.value&&"week"!==l.value&&"month-interval"!==l.value||(a=addToDate(a,{minute:parseInt(t.intervalMinutes)}));s.value="prev",r.value=a.date}function g(e){let a=copyTimestamp(d.value);if("month"===l.value){if(a=addToDate(a,{day:7}),d.value.month!==a.month)return s.value="next",void(u.value=a.date)}else"day"!==l.value&&"week"!==l.value&&"month-interval"!==l.value||(a=addToDate(a,{minute:parseInt(t.intervalMinutes)}));s.value="next",r.value=a.date}function _(e){let a=copyTimestamp(d.value);s.value="prev";do{a=addToDate(a,{day:-1})}while(0===i.value[a.weekday]);if("month"===l.value||"month-interval"===l.value){if(d.value.month!==a.month)return void(u.value=a.date)}else if("week"===l.value){if(a.weekday>d.value.weekday)return void(u.value=a.date)}else if("day"===l.value)return void(u.value=a.date);r.value=a.date}function k(e){let a=copyTimestamp(d.value);s.value="next";do{a=addToDate(a,{day:1})}while(0===i.value[a.weekday]);if("month"===l.value||"month-interval"===l.value){if(d.value.month!==a.month)return void(u.value=a.date)}else if("week"===l.value){if(a.weekday<d.value.weekday)return void(u.value=a.date)}else if("day"===l.value)return void(u.value=a.date);r.value=a.date}function w(e){let a=copyTimestamp(d.value);if("month"===l.value||"month-interval"===l.value){a=addToDate(a,{month:-1});const t=a.day<=15?1:-1;while(0===i.value[a.weekday])a=addToDate(a,{day:t})}else"day"===l.value?a=addToDate(a,{day:-1}):"week"===l.value&&(a=addToDate(a,{day:-7}));s.value="prev",r.value=a.date}function D(e){let a=copyTimestamp(d.value);if("month"===l.value||"month-interval"===l.value){a=addToDate(a,{month:1});const t=a.day<=15?1:-1;while(0===i.value[a.weekday])a=addToDate(a,{day:t})}else"day"===l.value?a=addToDate(a,{day:1}):"week"===l.value&&(a=addToDate(a,{day:7}));s.value="next",r.value=a.date}function T(e){let a=copyTimestamp(d.value);"month"===l.value||"month-interval"===l.value?a=getStartOfMonth(a):"week"===l.value&&(a=getStartOfWeek(a,t.weekdays,c.today));while(0===i.value[a.weekday])a=addToDate(a,{day:-1});r.value=a.date}function b(e){let a=copyTimestamp(d.value);"month"===l.value||"month-interval"===l.value?a=getEndOfMonth(a):"week"===l.value&&(a=getEndOfWeek(a,t.weekdays,c.today));while(0===i.value[a.weekday])a=addToDate(a,{day:-1});r.value=a.date}return onBeforeUnmount(()=>{v()}),watch(()=>t.useNavigation,e=>{(!0===e?a:v)()}),!0===t.useNavigation&&a(),{startNavigation:a,endNavigation:v,tryFocus:m}}var QCalendarAgenda=defineComponent({name:"QCalendarAgenda",directives:[ResizeObserver$1],props:{...useCommonProps,...useAgendaProps,...useColumnProps,...useMaxDaysProps,...useTimesProps,...useCellWidthProps,...useNavigationProps},emits:["update:model-value",...useCheckChangeEmits,...useMoveEmits,...getRawMouseEvents("-date"),...getRawMouseEvents("-head-day"),...getRawMouseEvents("-time")],setup(v,{slots:p,emit:l,expose:e}){const a=ref(null),t=ref(null),n=ref(null),m=ref(null),r=ref(null),y=ref({}),d=ref({}),o=ref({}),u=ref("next"),i=ref(today()),s=ref("0000-00-00"),c=ref(0),f=ref(v.modelValue),g=reactive({width:0,height:0}),_=ref(!1),k=ref(null),w=ref(null);watch(()=>v.view,()=>{c.value=0});const D=computed(()=>{if("month"===v.view)return"month-interval";return v.view}),T=getCurrentInstance();if(null===T)throw new Error("current instance is null");const b=useEmitListeners(T)["emitListeners"],I=useCellWidth(v)["isSticky"];watch(I,e=>{});const{times:C,setCurrent:S,updateCurrent:M}=useTimes(v);M(),S();const{weekdaySkips:F,parsedStart:E,parsedEnd:N,dayFormatter:O,weekdayFormatter:q,ariaDateFormatter:W,dayStyleDefault:x,getRelativeClasses:A}=useCommon(v,{startDate:i,endDate:s,times:C}),H=computed(()=>{return parseTimestamp(v.modelValue,C.now)||E.value||C.today});r.value=H.value,m.value=H.value.date;const R=useRenderValues(v,{parsedView:D,parsedValue:H,times:C})["renderValues"],{rootRef:L,scrollWidth:P,__initCalendar:U,__renderCalendar:V}=useCalendar(v,Me,{scrollArea:a,pane:t}),{days:B,parsedCellWidth:Y,getScopeForSlot:K}=useInterval(v,{weekdaySkips:F,times:C,scrollArea:a,parsedStart:E,parsedEnd:N,maxDays:c,size:g,headerColumnRef:n}),Q=useMove(v,{parsedView:D,parsedValue:H,weekdaySkips:F,direction:u,maxDays:c,times:C,emittedValue:f,emit:l})["move"],z=useMouse(l,b)["getDefaultMouseEventHandlers"],X=useCheckChange(l,{days:B,lastStart:k,lastEnd:w})["checkChange"],$=useEvents()["isKeyCode"],Z=useKeyboard(v,{rootRef:L,focusRef:m,focusValue:r,datesRef:y,days:B,parsedView:D,parsedValue:H,emittedValue:f,weekdaySkips:F,direction:u,times:C})["tryFocus"],j=computed(()=>{return B.value.length+(!0===G.value?v.leftColumnOptions.length:0)+(!0===J.value?v.rightColumnOptions.length:0)+B.value.length===1&&parseInt(v.columnCount,10)>0?parseInt(v.columnCount,10):0}),G=computed(()=>{return void 0!==v.leftColumnOptions&&Array.isArray(v.leftColumnOptions)}),J=computed(()=>{return void 0!==v.rightColumnOptions&&Array.isArray(v.rightColumnOptions)}),ee=computed(()=>{if(L.value){const e=g.width||L.value.getBoundingClientRect().width;if(e&&j.value)return(e-P.value)/j.value+"px"}return 100/j.value+"%"});function ae(){f.value=today()}function te(e=1){Q(e)}function ne(e=1){Q(-e)}function re({width:e,height:a}){g.width=e,g.height=a}function de(e){return e.date===f.value}function oe(t,n){const e=p["head-column"],a={column:t,index:n,days:B.value},r=!0===I.value?v.cellWidth:ee.value,d=!0===v.focusable&&v.focusType.includes("weekday"),o=void 0!==v.columnOptionsId?t[v.columnOptionsId]:void 0,l={maxWidth:r,width:r};return h("div",{key:o,tabindex:!0===d?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===d},style:l,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-column",a)?_.value=o:_.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-column",a)?_.value=o:_.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-column",a)?_.value=o:_.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-column",a)?_.value=o:_.value="")},...z("-head-column",(e,a)=>{return{scope:{column:t,index:n},event:e}})},[!0!==v.noDefaultHeaderText&&le(t),e&&e(a),useFocusHelper()])}function le(e){const a=p["head-column-label"],t={column:e},n=void 0!==v.columnOptionsLabel?e[v.columnOptionsLabel]:e.label,r=h("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[a&&a({scope:t}),!a&&h("span",{class:"ellipsis"},n)]);return"stacked"===v.dateHeader?r:h("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[r])}function ue(){return h("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":!0===I.value},style:{marginRight:P.value+"px"}},[ie()])}function ie(){return h("div",{ref:n,class:{"q-calendar-agenda__head--days__column":!0}},[se(),ce()])}function se(){return h("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ve()])}function ce(){const e=p["head-days-events"];return nextTick(()=>{if(o.value&&0===v.columnCount&&window)try{const e=window.getComputedStyle(o.value);d.value.parentElement.style.height=e.height,d.value.style.height=e.height}catch(e){}}),h("div",{class:{"q-calendar-agenda__head--days__event":!0}},[e&&h("div",{ref:d,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:B.value,ref:o}})]),...pe()])}function ve(){return 1===B.value.length&&parseInt(v.columnCount,10)>0?[!0===G.value&&v.leftColumnOptions.map((e,a)=>oe(e,a)),Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,a)=>a+parseInt(v.columnIndexStart,10)).map(e=>me(B.value[0],e)),!0===J.value&&v.rightColumnOptions.map((e,a)=>oe(e,a))]:[!0===G.value&&v.leftColumnOptions.map((e,a)=>oe(e,a)),B.value.map(e=>me(e)),!0===J.value&&v.rightColumnOptions.map((e,a)=>oe(e,a))]}function pe(){return 1===B.value.length&&parseInt(v.columnCount,10)>0?[Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,a)=>a+parseInt(v.columnIndexStart,10)).map(e=>fe(B.value[0],e))]:B.value.map(e=>fe(e))}function me(a,e){const t=p["head-day"],n=p["head-date"],r=!0!==v.noActiveDate&&de(a),d=K(a,e);d.activeDate=r,d.droppable=_.value===a.date,d.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(a.weekday);const o=!0===I.value?v.cellWidth:ee.value,l=v.weekdayStyle||x,u={width:o,maxWidth:o,...l({scope:d})};!0===I.value&&(u.minWidth=o);const i="function"===typeof v.weekdayClass?v.weekdayClass({scope:d}):{},s=!0===v.focusable&&v.focusType.includes("weekday"),c={key:a.date+(void 0!==e?"-"+e:""),ref:e=>{y.value[a.date]=e},tabindex:!0===s?0:-1,class:{"q-calendar-agenda__head--day":!0,...i,...A(a),"q-active-date":r,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===s},style:u,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-day",d)?_.value=a.date:_.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-day",d)?_.value=a.date:_.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-day",d)?_.value=a.date:_.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-day",d)?_.value=a.date:_.value="")},onFocus:e=>{!0===s&&(m.value=a.date)},...z("-head-day",e=>{return{scope:d,event:e}})};return h("div",c,[void 0!==t&&t({scope:d}),void 0===t&&ye(a),void 0===t&&n&&n({scope:d}),useFocusHelper()])}function ye(e){return"stacked"===v.dateHeader?[!0!==v.noDefaultHeaderText&&he(e),!0!==v.noDefaultHeaderBtn&&_e(e)]:"inline"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderText&&he(e),!0!==v.noDefaultHeaderBtn&&_e(e)])):"inverted"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderBtn&&_e(e),!0!==v.noDefaultHeaderText&&he(e)])):void 0}function fe(e,a){const t=p["head-day-event"],n=!0!==v.noActiveDate&&de(e),r=K(e,a);r.activeDate=n,r.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(e.weekday);const d=!0===I.value?v.cellWidth:ee.value,o={width:d,maxWidth:d};return!0===I.value&&(o.minWidth=d),h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-agenda__head--day__event":!0,...A(e),"q-active-date":n},style:o},[t&&t({scope:r})])}function he(e){const a=p["head-weekday-label"],t=K(e);t.shortWeekdayLabel=v.shortWeekdayLabel;const n={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return h("div",n,a&&a({scope:t})||ge(e,v.shortWeekdayLabel))}function ge(e,a){const t=q.value(e,a||v.weekdayBreakpoints[0]>0&&Y.value<=v.weekdayBreakpoints[0]);return h("span",{class:"q-calendar__ellipsis"},v.weekdayBreakpoints[1]>0&&Y.value<=v.weekdayBreakpoints[1]?minCharWidth(t,v.minWeekdayLabel):t)}function _e(e){const a={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+v.dateAlign]:!0}};return h("div",a,ke(e))}function ke(t){const e=!0!==v.noActiveDate&&de(t),a=O.value(t,!1),n=p["head-day-label"],r=p["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e,disabled:!!v.disabledWeekdays&&v.disabledWeekdays.includes(t.weekday)},o={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===v.dateType,"q-calendar__button--rounded":"rounded"===v.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&$(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&$(e,[13,32])&&(f.value=t.date,void 0!==b.value.onClickDate&&l("click-date",{scope:d}))},...z("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(f.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==v.noAria&&(o.ariaLabel=W.value(t)),r?r({scope:d}):useButton(v,o,n?n({scope:d}):a)}function we(){return h("div",{class:"q-calendar-agenda__body"},[De()])}function De(){return!0===I.value?h("div",{ref:a,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[be()]):!0===v.noScroll?Te():h("div",{ref:a,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[Te()])}function Te(){return h("div",{ref:t,class:"q-calendar-agenda__pane"},[be()])}function be(){const e=p["day-container"];return h("div",{class:"q-calendar-agenda__day-container"},[!0===I.value&&!0!==v.noHeader&&ue(),h("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...Ie()]),e&&e({scope:{days:B.value}})])}function Ie(){return 1===B.value.length&&parseInt(v.columnCount,10)>0?[!0===G.value&&v.leftColumnOptions.map((e,a)=>Ce(e,a)),Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,a)=>a+parseInt(v.columnIndexStart,10)).map(e=>Se(B.value[0],0,e)),!0===J.value&&v.rightColumnOptions.map((e,a)=>Ce(e,a))]:[!0===G.value&&v.leftColumnOptions.map((e,a)=>Ce(e,a)),B.value.map((e,a)=>Se(e)),!0===J.value&&v.rightColumnOptions.map((e,a)=>Ce(e,a))]}function Ce(e,a){const t=p.column,n={column:e,days:B.value,index:a},r=!0===I.value?v.cellWidth:ee.value,d=!0===v.focusable&&v.focusType.includes("day"),o=void 0!==v.columnOptionsId?e[v.columnOptionsId]:void 0;return h("div",{key:o,tabindex:!0===d?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===d},style:{maxWidth:r,width:r},onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"column",n)?_.value=o:_.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"column",n)?_.value=o:_.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"column",n)?_.value=o:_.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"column",n)?_.value=o:_.value="")},...z("-column",(e,a)=>{return{scope:n,event:e}})},[t&&t({scope:n})])}function Se(e,a,t){const n=p.day,r=K(e,t),d=!0===I.value?v.cellWidth:ee.value,o={width:d,maxWidth:d};return!0===I.value&&(o.minWidth=d),o.height=parseInt(v.dayHeight,10)>0?convertToUnit(parseInt(v.dayHeight,10)):"auto",parseInt(v.dayMinHeight,10)>0&&(o.minHeight=convertToUnit(parseInt(v.dayMinHeight,10))),h("div",{key:e.date+(void 0!==t?":"+t:""),class:{"q-calendar-agenda__day":!0,...A(e)},style:o},[n&&n({scope:r})])}function Me(){const{start:e,end:a,maxDays:t}=R.value;i.value===e.date&&s.value===a.date&&c.value===t||(i.value=e.date,s.value=a.date,c.value=t);const n=g.width>0,r=withDirectives(h("div",{class:"q-calendar-agenda",key:i.value},[!0===n&&!0!==I.value&&!0!==v.noHeader&&ue(),!0===n&&we()]),[[ResizeObserver$1,re]]);if(!0!==v.animated)return r;{const d="q-calendar--"+("prev"===u.value?v.transitionPrev:v.transitionNext);return h(Transition,{name:d,appear:!0},()=>r)}}return watch([B],X,{deep:!0,immediate:!0}),watch(()=>v.modelValue,(e,a)=>{if(f.value!==e){if(!0===v.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));u.value=t>=n?"next":"prev"}f.value=e}m.value=e}),watch(f,(e,a)=>{if(f.value!==v.modelValue){if(!0===v.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));u.value=t>=n?"next":"prev"}l("update:model-value",e)}}),watch(m,e=>{e&&(r.value=parseTimestamp(e))}),watch(r,e=>{y.value[m.value]?y.value[m.value].focus():Z()}),watch(()=>v.maxDays,e=>{c.value=e}),onBeforeUpdate(()=>{y.value={}}),onMounted(()=>{U()}),e({prev:ne,next:te,move:Q,moveToToday:ae,updateCurrent:M}),()=>V()}}),QCalendarDay=defineComponent({name:"QCalendarDay",directives:[ResizeObserver$1],props:{...useCommonProps,...useIntervalProps,...useColumnProps,...useMaxDaysProps,...useTimesProps,...useCellWidthProps,...useNavigationProps},emits:["update:model-value",...useCheckChangeEmits,...useMoveEmits,...getRawMouseEvents("-date"),...getRawMouseEvents("-interval"),...getRawMouseEvents("-head-intervals"),...getRawMouseEvents("-head-day"),...getRawMouseEvents("-time")],setup(p,{slots:m,emit:c,expose:e}){const a=ref(null),t=ref(null),n=ref(null),y=ref(null),r=ref(null),f=ref({}),d=ref({}),o=ref({}),l=ref("next"),u=ref(p.modelValue||today()),i=ref("0000-00-00"),s=ref(0),g=ref(p.modelValue),v=reactive({width:0,height:0}),_=ref(!1),k=ref(!1),w=ref(null),D=ref(null);watch(()=>p.view,()=>{s.value=0});const T=computed(()=>{if("month"===p.view)return"month-interval";return p.view}),b=getCurrentInstance();if(null===b)throw new Error("current instance is null");const I=useEmitListeners(b)["emitListeners"],C=useCellWidth(p)["isSticky"],{times:S,setCurrent:M,updateCurrent:F}=useTimes(p);F(),M();const{weekdaySkips:E,parsedStart:N,parsedEnd:O,dayFormatter:q,weekdayFormatter:W,ariaDateFormatter:x,dayStyleDefault:A,getRelativeClasses:H}=useCommon(p,{startDate:u,endDate:i,times:S}),R=computed(()=>{return parseTimestamp(p.modelValue,S.now)||N.value||S.today});r.value=R.value,y.value=R.value.date;const L=useRenderValues(p,{parsedView:T,parsedValue:R,times:S})["renderValues"],{rootRef:P,scrollWidth:U,__initCalendar:V,__renderCalendar:B}=useCalendar(p,Ke,{scrollArea:a,pane:t}),{days:Y,intervals:K,intervalFormatter:Q,ariaDateTimeFormatter:z,parsedCellWidth:X,getIntervalClasses:$,showIntervalLabelDefault:Z,styleDefault:j,getTimestampAtEventInterval:G,getTimestampAtEvent:J,getScopeForSlot:ee,scrollToTime:ae,heightToMinutes:te,timeDurationHeight:ne,timeStartPos:re}=useInterval(p,{weekdaySkips:E,times:S,scrollArea:a,parsedStart:N,parsedEnd:O,maxDays:s,size:v,headerColumnRef:n}),de=useMove(p,{parsedView:T,parsedValue:R,weekdaySkips:E,direction:l,maxDays:s,times:S,emittedValue:g,emit:c})["move"],oe=useMouse(c,I)["getDefaultMouseEventHandlers"],le=useCheckChange(c,{days:Y,lastStart:w,lastEnd:D})["checkChange"],ue=useEvents()["isKeyCode"],ie=useKeyboard(p,{rootRef:P,focusRef:y,focusValue:r,datesRef:f,days:Y,parsedView:T,parsedValue:R,emittedValue:g,weekdaySkips:E,direction:l,times:S})["tryFocus"],se=computed(()=>{{if("day"===T.value&&parseInt(p.columnCount,10)>1)return parseInt(p.columnCount,10);if("day"===T.value&&p.maxDays&&p.maxDays>1)return p.maxDays}return Y.value.length}),ce=computed(()=>{if(P.value)return parseInt(getComputedStyle(P.value).getPropertyValue("--calendar-intervals-width"),10);return 0}),ve=computed(()=>{if(P.value){const e=v.width||P.value.getBoundingClientRect().width;if(e&&ce.value&&se.value)return(e-U.value-ce.value)/se.value+"px"}return 100/se.value+"%"});function pe(){g.value=today()}function me(e=1){de(e)}function ye(e=1){de(-e)}function fe({width:e,height:a}){v.width=e,v.height=a}function he(e){return e.date===g.value}function ge(){return h("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":!0===C.value},style:{marginRight:U.value+"px"}},[_e(),ke()])}function _e(){const e=m["head-intervals"],a={timestamps:Y.value,days:Y.value,date:p.modelValue};return h("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":!0===C.value},...oe("-head-intervals",e=>{return{scope:a,event:e}})},[e&&e({scope:a})])}function ke(){return h("div",{ref:n,class:{"q-calendar-day__head--days__column":!0}},[we(),De()])}function we(){return h("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...Te()])}function De(){const e=m["head-days-events"];return nextTick(()=>{if(o.value&&0===parseInt(p.columnCount,10)&&window)try{const e=window.getComputedStyle(o.value);d.value.parentElement.style.height=e.height,d.value.style.height=e.height}catch(e){}}),h("div",{class:{"q-calendar-day__head--days__event":!0}},[e&&h("div",{ref:d,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:Y.value,ref:o}})]),...be()])}function Te(){return 1===Y.value.length&&parseInt(p.columnCount,10)>0?Array.apply(null,new Array(parseInt(p.columnCount,10))).map((e,a)=>a+parseInt(p.columnIndexStart,10)).map(e=>Ie(Y.value[0],e)):Y.value.map(e=>Ie(e))}function be(){return 1===Y.value.length&&parseInt(p.columnCount,10)>0?Array.apply(null,new Array(parseInt(p.columnCount,10))).map((e,a)=>a+parseInt(p.columnIndexStart,10)).map(e=>Se(Y.value[0],e)):Y.value.map(e=>Se(e))}function Ie(a,e){const t=m["head-day"],n=m["head-date"],r=!0!==p.noActiveDate&&he(a),d=ee(a,e);d.activeDate=r,d.droppable=_.value===a.date,d.disabled=!!p.disabledWeekdays&&p.disabledWeekdays.includes(a.weekday);const o=!0===C.value?p.cellWidth:ve.value,l=p.weekdayStyle||A,u={width:o,maxWidth:o,minWidth:o,...l({scope:d})};!0===C.value&&(u.minWidth=o);const i="function"===typeof p.weekdayClass?p.weekdayClass({scope:d}):{},s=!0===p.focusable&&p.focusType.includes("weekday"),c=a.date+(void 0!==e?"-"+e:""),v={key:c,ref:e=>{f.value[c]=e},tabindex:!0===s?0:-1,class:{"q-calendar-day__head--day":!0,...i,...H(a),"q-active-date":r,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===s},style:u,onFocus:e=>{!0===s&&(y.value=c)},onKeydown:e=>{!0!==a.disabled&&ue(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&ue(e,[13,32])&&(g.value=a.date)},...oe("-head-day",e=>{return{scope:d,event:e}}),onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"head-day",d)?_.value=a.date:_.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"head-day",d)?_.value=a.date:_.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"head-day",d)?_.value=a.date:_.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"head-day",d)?_.value=a.date:_.value="")}};return h("div",v,[void 0!==t&&t({scope:d}),void 0===t&&Oe(a,e),void 0===t&&Ce(a),void 0===t&&n&&n({scope:d}),void 0===t&&qe(a,e),useFocusHelper()])}function Ce(e){return"stacked"===p.dateHeader?[!0!==p.noDefaultHeaderText&&Me(e),!0!==p.noDefaultHeaderBtn&&Ee(e)]:"inline"===p.dateHeader?("left"===p.weekdayAlign&&"right"===p.dateAlign||"right"===p.weekdayAlign&&p.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==p.noDefaultHeaderText&&Me(e),!0!==p.noDefaultHeaderBtn&&Ee(e)])):"inverted"===p.dateHeader?("left"===p.weekdayAlign&&"right"===p.dateAlign||"right"===p.weekdayAlign&&p.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==p.noDefaultHeaderBtn&&Ee(e),!0!==p.noDefaultHeaderText&&Me(e)])):void 0}function Se(e,a){const t=m["head-day-event"],n=!0!==p.noActiveDate&&he(e),r=ee(e,a);r.activeDate=n,r.disabled=!!p.disabledWeekdays&&p.disabledWeekdays.includes(e.weekday);const d=!0===C.value?convertToUnit(X.value):ve.value,o={width:d,maxWidth:d,minWidth:d};return!0===C.value&&(o.minWidth=d),h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-day__head--day__event":!0,...H(e),"q-active-date":n},style:o},[t&&t({scope:r})])}function Me(e){const a=m["head-weekday-label"],t=!0===p.shortWeekdayLabel,n=ee(e);n.shortWeekdayLabel=p.shortWeekdayLabel,n.disabled=!!p.disabledWeekdays&&p.disabledWeekdays.includes(e.weekday);const r={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+p.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return h("div",r,a&&a({scope:n})||Fe(e,t))}function Fe(e,a){const t=W.value(e,a||p.weekdayBreakpoints[0]>0&&X.value<=p.weekdayBreakpoints[0]);return h("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},p.weekdayBreakpoints[1]>0&&X.value<=p.weekdayBreakpoints[1]?minCharWidth(t,p.minWeekdayLabel):t)}function Ee(e){const a={class:{"q-calendar-day__head--date":!0,["q-calendar__"+p.dateAlign]:!0}};return h("div",a,Ne(e))}function Ne(t){const e=!0!==p.noActiveDate&&he(t),a=q.value(t,!1),n=m["head-day-label"],r=m["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(t.weekday)},o={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===p.dateType,"q-calendar__button--rounded":"rounded"===p.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&ue(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&ue(e,[13,32])&&(g.value=t.date,void 0!==I.value.onClickDate&&c("click-date",{scope:d}))},...oe("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(g.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==p.noAria&&(o.ariaLabel=x.value(t)),r?r({scope:d}):useButton(p,o,n?n({scope:d}):a)}function Oe(e,a){const t=m["column-header-before"];if(t){const n={timestamp:e,columnIndex:a};return h("div",{class:"q-calendar-day__column-header--before"},[t({scope:n})])}}function qe(e,a){const t=m["column-header-after"];if(t){const n={timestamp:e,columnIndex:a};return h("div",{class:"q-calendar-day__column-header--after"},[t({scope:n})])}}function We(){return h("div",{class:"q-calendar-day__body"},[xe()])}function xe(){return!0===C.value?h("div",{ref:a,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[!0!==C.value&&Ve(),He()]):!0===p.noScroll?Ae():h("div",{ref:a,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[Ae()])}function Ae(){return h("div",{ref:t,class:"q-calendar-day__pane"},[Ve(),He()])}function He(){const e=m["day-container"];return h("div",{class:"q-calendar-day__day-container"},[!0===C.value&&!0!==p.noHeader&&ge(),h("div",{style:{display:"flex",flexDirection:"row"}},[!0===C.value&&Ve(),...Re()]),e&&e({scope:{days:Y.value}})])}function Re(){return 1===Y.value.length&&parseInt(p.columnCount,10)>0?Array.apply(null,new Array(parseInt(p.columnCount,10))).map((e,a)=>a+parseInt(p.columnIndexStart,10)).map(e=>Le(Y.value[0],0,e)):Y.value.map((e,a)=>Le(e,a))}function Le(e,a,t){const n=m["day-body"],r=ee(e,t),d=!0===C.value?p.cellWidth:ve.value,o={width:d,maxWidth:d,minWidth:d};return!0===C.value&&(o.minWidth=d),h("div",{key:e.date+(void 0!==t?":"+t:""),class:{"q-calendar-day__day":!0,...H(e)},style:o},[...Pe(a,t),n&&n({scope:r})])}function Pe(e,a){return K.value[e].map(e=>Ue(e,a))}function Ue(t,n){const e=convertToUnit(p.intervalHeight),a=p.intervalStyle||j,r=m["day-interval"],d=ee(t,n);d.droppable=k.value===getDayTimeIdentifier(t);const o="function"===typeof p.intervalClass?p.intervalClass({scope:d}):{},l=!0===p.focusable&&p.focusType.includes("interval"),u=getDateTime(t),i={key:u,tabindex:!0===l?0:-1,class:{"q-calendar-day__day-interval":0===t.minute,"q-calendar-day__day-interval--section":0!==t.minute,...o,...$(t,p.selectedDates,p.selectedStartEndDates),"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===l},style:{height:e,...a({scope:d})},onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"interval",d)?k.value=getDayTimeIdentifier(t):k.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"interval",d)?k.value=getDayTimeIdentifier(t):k.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"interval",d)?k.value=getDayTimeIdentifier(t):k.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"interval",d)?k.value=getDayTimeIdentifier(t):k.value="")},onKeydown:e=>{ue(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{if(ue(e,[13,32])){const a=ee(t,n);g.value=a.timestamp.date,void 0!==I.value.onClickTime&&c("click-time",{scope:a,event:e})}},...oe("-time",e=>{const a=ee(G(e,t,p.timeClicksClamped,S.now),n);return{scope:a,event:e}})};!0!==p.noAria&&(i.ariaLabel=z.value(t));const s=r?r({scope:d}):void 0;return h("div",i,[s,useFocusHelper()])}function Ve(){const e={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":!0===C.value},...oe("-interval",e=>{const a=J(e,N.value,p.timeClicksClamped,S.now);return{scope:{timestamp:a},event:e}})};return h("div",e,Be())}function Be(){return K.value[0].map(e=>Ye(e))}function Ye(e){const a=m["interval-label"],t=convertToUnit(p.intervalHeight),n=p.shortIntervalLabel,r=p.showIntervalLabel||Z,d=r(e),o=d?Q.value(e,n):void 0;return h("div",{key:e.time,class:{"q-calendar-day__interval":0===e.minute,"q-calendar-day__interval--section":0!==e.minute},style:{height:t}},[h("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[a?a({scope:{timestamp:e,label:o}}):o])])}function Ke(){const{start:e,end:a,maxDays:t}=L.value;u.value===e.date&&i.value===a.date&&s.value===t||(u.value=e.date,i.value=a.date,s.value=t);const n=v.width>0,r=withDirectives(h("div",{key:u.value,class:"q-calendar-day"},[!0===n&&!0!==C.value&&!0!==p.noHeader&&ge(),n&&We()]),[[ResizeObserver$1,fe]]);if(!0!==p.animated)return r;{const d="q-calendar--"+("prev"===l.value?p.transitionPrev:p.transitionNext);return h(Transition,{name:d,appear:!0},()=>r)}}return watch([Y],le,{deep:!0,immediate:!0}),watch(()=>p.modelValue,(e,a)=>{if(g.value!==p.modelValue){if(!0===p.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));l.value=t>=n?"next":"prev"}g.value=e}y.value=e}),watch(g,(e,a)=>{if(g.value!==p.modelValue){if(!0===p.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));l.value=t>=n?"next":"prev"}c("update:model-value",e)}}),watch(y,e=>{e&&(r.value=parseTimestamp(e))}),watch(r,e=>{f.value[y.value]?f.value[y.value].focus():ie()}),watch(()=>p.maxDays,e=>{s.value=e}),onBeforeUpdate(()=>{f.value={};d.value={};o.value={}}),onMounted(()=>{V()}),e({prev:ye,next:me,move:de,moveToToday:pe,updateCurrent:F,timeStartPos:re,timeDurationHeight:ne,heightToMinutes:te,scrollToTime:ae}),()=>B()}});const useMonthProps={dayHeight:{type:[Number,String],default:0,validator:validateNumber},dayMinHeight:{type:[Number,String],default:0,validator:validateNumber},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:validateNumber,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||validateNumber(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function useMonth(r,a,{weekdaySkips:n,times:d,parsedStart:t,parsedEnd:o,size:l,headerColumnRef:u}){const e=computed(()=>parseInt(r.minWeeks,10)),i=computed(()=>e.value*r.weekdays.length),s=computed(()=>k(D(t.value))),c=computed(()=>w(T(o.value))),v=computed(()=>{let e=0;r.cellWidth?e=r.cellWidth:l.width>0&&u.value&&(e=u.value.offsetWidth/r.weekdays.length);return e}),p=computed(()=>{return createDayList(s.value,c.value,d.today,n.value,r.disabledBefore,r.disabledAfter,r.disabledWeekdays,r.disabledDays,Number.MAX_SAFE_INTEGER,i.value)}),m=computed(()=>{const e=d.today;const a=k(e);const t=w(e);return createDayList(a,t,e,n,r.disabledBefore,r.disabledAfter,r.disabledWeekdays,r.disabledDays,r.weekdays.length,r.weekdays.length)}),y=computed(()=>{const t={timeZone:"UTC",month:"long"};const n={timeZone:"UTC",month:"short"};return createNativeLocaleFormatter(r.locale,(e,a)=>a?n:t)}),f=computed(()=>{switch(r.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(r.breakpoint,10)}}),h=computed(()=>{switch(r.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return r.monthLabelSize}});let g=!0;const _=computed(()=>{const e=!0===r.miniMode||"auto"===r.miniMode&&void 0!==r.breakpoint&&l.width<f.value;!0===g&&(g=!1,a("mini-mode",e));return e});function k(e){return getStartOfWeek(e,r.weekdays,d.today)}function w(e){return getEndOfWeek(e,r.weekdays,d.today)}function D(e){return getStartOfMonth(e)}function T(e){return getEndOfMonth(e)}function b(e){const a=getDayIdentifier(e);return a<getDayIdentifier(t.value)||a>getDayIdentifier(o.value)}return watch(_,e=>{a("mini-mode",e)}),{parsedCellWidth:v,parsedMinWeeks:e,parsedMinDays:i,parsedMonthStart:s,parsedMonthEnd:c,parsedBreakpoint:f,parsedMonthLabelSize:h,days:p,todayWeek:m,isMiniMode:_,monthFormatter:y,isOutside:b}}var QCalendarMonth=defineComponent({name:"QCalendarMonth",directives:[ResizeObserver$1],props:{...useCommonProps,...useMonthProps,...useTimesProps,...useCellWidthProps,...useNavigationProps},emits:["update:model-value",...useCheckChangeEmits,...useMoveEmits,"mini-mode",...getRawMouseEvents("-date"),...getRawMouseEvents("-day"),...getRawMouseEvents("-head-workweek"),...getRawMouseEvents("-head-day"),...getRawMouseEvents("-workweek")],setup(p,{slots:m,emit:c,expose:e}){const a=ref(null),t=ref(null),n=ref(null),y=ref(null),r=ref(null),v=ref({}),o=ref([]),l=ref([]),d=ref("next"),u=ref(p.modelValue||today()),i=ref("0000-00-00"),s=ref(0),f=ref(p.modelValue),g=reactive({width:0,height:0}),_=ref(!1),k=ref(!1),w=ref(null),D=ref(null),T=computed(()=>{return"month"}),b=getCurrentInstance();if(null===b)throw new Error("current instance is null");const I=useEmitListeners(b)["emitListeners"],C=useCellWidth(p)["isSticky"];watch(C,e=>{});const{times:S,setCurrent:M,updateCurrent:F}=useTimes(p);F(),M();const{weekdaySkips:E,parsedStart:N,parsedEnd:O,dayFormatter:q,weekdayFormatter:W,ariaDateFormatter:x,dayStyleDefault:A,getRelativeClasses:H}=useCommon(p,{startDate:u,endDate:i,times:S}),R=computed(()=>{return parseTimestamp(p.modelValue,S.now)||N.value||S.today});r.value=R.value,y.value=R.value.date;const L=computed(()=>{const e={};void 0!==p.dayPadding&&(e.padding=p.dayPadding);e.minWidth=re.value;e.maxWidth=re.value;e.width=re.value;return e}),P=useRenderValues(p,{parsedView:T,times:S,parsedValue:R})["renderValues"],{rootRef:U,__initCalendar:V,__renderCalendar:B}=useCalendar(p,Ee,{scrollArea:a,pane:t}),{days:Y,todayWeek:K,isMiniMode:Q,parsedCellWidth:z,parsedMonthLabelSize:X,isOutside:$,monthFormatter:Z}=useMonth(p,c,{weekdaySkips:E,times:S,parsedStart:N,parsedEnd:O,size:g,headerColumnRef:n}),j=useMove(p,{parsedView:T,parsedValue:R,weekdaySkips:E,direction:d,maxDays:s,times:S,emittedValue:f,emit:c})["move"],G=useMouse(c,I)["getDefaultMouseEventHandlers"],J=useCheckChange(c,{days:Y,lastStart:w,lastEnd:D})["checkChange"],ee=useEvents()["isKeyCode"],ae=useKeyboard(p,{rootRef:U,focusRef:y,focusValue:r,datesRef:v,days:Y,parsedView:T,parsedValue:R,emittedValue:f,weekdaySkips:E,direction:d,times:S})["tryFocus"],te=computed(()=>{if(U.value)return!0===p.showWorkWeeks?parseInt(getComputedStyle(U.value).getPropertyValue(!0===Q.value?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0;return 0}),ne=computed(()=>{return p.weekdays.length}),re=computed(()=>{if(U.value){const e=g.width||U.value.getBoundingClientRect().width;if(e&&ne.value)return(e-te.value)/ne.value+"px"}return 100/ne.value+"%"}),de=computed(()=>{return!0===p.focusable&&p.focusType.includes("day")&&!0!==Q.value}),oe=computed(()=>{return!0===p.focusable&&p.focusType.includes("date")&&!0!==de.value});function le(){f.value=today()}function ue(e=1){j(e)}function ie(e=1){j(-e)}function se({width:e,height:a}){g.width=e,g.height=a}function ce(e){return e.date===f.value}function ve(a){for(let e=0;e<a.length;++e)if(!0===a[e].current)return{timestamp:a[e]};return{timestamp:!1}}function pe(){if(!0!==Q.value&&0===p.dayHeight){const e=m.week;if(void 0!==e&&window)for(const a in o.value){const t=o.value[a];if(void 0!==t){const n=l.value[a];if(void 0!==n){const r=window.getComputedStyle(t),d=parseFloat(r.marginTop,10)+parseFloat(r.marginBottom,10);t.clientHeight+d>n.clientHeight&&(n.style.height=t.clientHeight+d+"px")}}}}}function me(){return h("div",{class:"q-calendar-month__body"},[...De()])}function ye(){return h("div",{role:"presentation",class:"q-calendar-month__head"},[!0===p.showWorkWeeks&&he(),h("div",{class:"q-calendar-month__head--wrapper"},[fe()])])}function fe(){return h("div",{ref:n,class:{"q-calendar-month__head--weekdays":!0}},[...ge()])}function he(){const e=m["head-workweek"],a={start:N.value,end:O.value,miniMode:Q.value};return h("div",{class:"q-calendar-month__head--workweek",...G("-head-workweek",e=>{return{scope:a,event:e}})},e?e({scope:a}):"#")}function ge(){return K.value.map((e,a)=>_e(e,a))}function _e(a,e){const t=m["head-day"],n=Y.value.filter(e=>e.weekday===a.weekday),r=n[0].weekday,d=!0!==p.noActiveDate&&ce(a),o={activeDate:d,weekday:r,timestamp:a,days:n,index:e,miniMode:Q.value,droppable:_.value===a.weekday,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(a.weekday)},l="function"===typeof p.weekdayClass?p.weekdayClass({scope:o}):{},u=!0===p.focusable&&p.focusType.includes("weekday"),i=re.value,s=p.weekdayStyle||A,c={width:i,maxWidth:i,minWidth:i,...s({scope:o})},v={key:a.date+(void 0!==e?"-"+e:""),tabindex:!0===u?0:-1,class:{"q-calendar-month__head--weekday":!0,...l,"q-disabled-day disabled":!0===o.disabled,["q-calendar__"+p.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":!0===u},style:c,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"head-day",o)?_.value=a.weekday:_.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"head-day",o)?_.value=a.weekday:_.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"head-day",o)?_.value=a.weekday:_.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"head-day",o)?_.value=a.weekday:_.value="")},onFocus:e=>{!0===u&&(y.value=a.date)},...G("-head-day",e=>{return{scope:o,event:e}})};return!0!==p.noAria&&(v.ariaLabel=W.value(a,!1)),h("div",v,[void 0===t&&we(a,p.shortWeekdayLabel||Q.value),void 0!==t&&t({scope:o}),ke(a,e),!0===u&&useFocusHelper()])}function ke(a,e){const t=m["head-day-event"],n=!0!==p.noActiveDate&&ce(a),r=Y.value.filter(e=>e.weekday===a.weekday),d=r[0].weekday,o={weekday:d,timestamp:a,days:r,index:e,miniMode:Q.value,activeDate:n,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(a.weekday)},l=re.value,u=p.weekdayStyle||A,i={width:l,maxWidth:l,minWidth:l,...u({scope:o})};return h("div",{key:"event-"+a.date+(void 0!==e?"-"+e:""),class:{"q-calendar-month__head--event":!0},style:i},[void 0!==t&&t({scope:o})])}function we(e,a){const t=W.value(e,a||p.weekdayBreakpoints[0]>0&&z.value<=p.weekdayBreakpoints[0]);return h("span",{class:"q-calendar__ellipsis"},!0===Q.value&&!0===p.shortWeekdayLabel||p.weekdayBreakpoints[1]>0&&z.value<=p.weekdayBreakpoints[1]?minCharWidth(t,p.minWeekdayLabel):t)}function De(){const a=p.weekdays.length,t=[];for(let e=0;e<Y.value.length;e+=a)t.push(Te(Y.value.slice(e,e+a),e/a));return t}function Te(e,a){const t=m.week,n=p.weekdays,r={week:e,weekdays:n,miniMode:Q.value},d={};return d.height=p.dayHeight>0&&!0!==Q.value?convertToUnit(parseInt(p.dayHeight,10)):"auto",p.dayMinHeight>0&&!0!==Q.value&&(d.minHeight=convertToUnit(parseInt(p.dayMinHeight,10))),h("div",{key:e[0].date,ref:e=>{l.value[a]=e},class:"q-calendar-month__week--wrapper",style:d},[!0===p.showWorkWeeks?be(e):void 0,h("div",{class:"q-calendar-month__week"},[h("div",{class:"q-calendar-month__week--days"},e.map((e,a)=>Ie(e))),!0!==Q.value&&void 0!==t?h("div",{ref:e=>{o.value[a]=e},class:"q-calendar-month__week--events"},t({scope:r})):void 0])])}function be(e){const a=m.workweek,t=e.length>2?e[2]:e[0],n=ve(e)["timestamp"],r=Number(t.workweek).toLocaleString(p.locale),d={workweekLabel:r,week:e,miniMode:Q.value};return h("div",{key:t.workweek,class:{"q-calendar-month__workweek":!0,...H(!1!==n?n:t,!1)},...G("-workweek",e=>{return{scope:d,event:e}})},a?a({scope:d}):r)}function Ie(a){const e=m.day,t=p.dayStyle||A,n=$(a),r=!0!==p.noActiveDate&&R.value.date===a.date,d=!1===n&&!0===p.showMonthLabel&&Y.value.find(e=>e.month===a.month).day===a.day,o={outside:n,timestamp:a,miniMode:Q.value,activeDate:r,hasMonth:d,droppable:k.value===a.date,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(a.weekday)},l=Object.assign({...L.value},t({scope:o})),u="function"===typeof p.dayClass?p.dayClass({scope:o}):{},i={key:a.date,ref:e=>{!0===de.value&&(v.value[a.date]=e)},tabindex:!0===de.value?0:-1,class:{"q-calendar-month__day":!0,...u,...H(a,n,p.selectedDates,p.selectedStartEndDates,p.hover),"q-active-date":!0===r,disabled:!0!==p.enableOutsideDays&&!0===n,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===de.value},style:l,onFocus:e=>{!0===de.value&&(y.value=a.date)},onKeydown:e=>{!0!==n&&!0!==a.disabled&&ee(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==n&&!0!==a.disabled&&ee(e,[13,32])&&(e.stopPropagation(),e.preventDefault(),void 0!==I.value.onClickDay&&!0!==Q.value&&c("click-day",{scope:o,event:e}))},...G("-day",e=>{return{scope:o,event:e}})},s={onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"day",o)?k.value=a.date:k.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"day",o)?k.value=a.date:k.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"day",o)?k.value=a.date:k.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"day",o)?k.value=a.date:k.value="")}};return!0!==n&&Object.assign(i,s),!0!==p.noAria&&(i.ariaLabel=x.value(a)),h("div",i,[Ce(a,n,d),h("div",{class:{"q-calendar-month__day--content":!0}},e?e({scope:o}):void 0),!0===de.value&&useFocusHelper()])}function Ce(e,a,t){let n,r;const d=[Se(e,a)];!0!==Q.value&&!0===t&&g.width>340&&(r=Fe(e,a)),!0!==Q.value&&!0===p.showDayOfYearLabel&&void 0===r&&g.width>300&&(n=Me(e,a)),"left"===p.dateAlign?(void 0!==n&&d.push(n),void 0!==r&&d.push(r)):"right"===p.dateAlign?(void 0!==n&&d.unshift(n),void 0!==r&&d.unshift(r)):(n=void 0,r=void 0);const o={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+p.dateAlign]:void 0===n&&void 0===r,"q-calendar__justify":void 0!==n||void 0!==r}};return h("div",o,d)}function Se(t,a){if(!0!==a||!0!==p.noOutsideDays){const e=q.value(t,!1),n=m["head-day-label"],r=m["head-day-button"],d=p.selectedDates&&p.selectedDates.length>0&&p.selectedDates.includes(t.date),o=!0!==p.noActiveDate&&ce(t),l={dayLabel:e,timestamp:t,outside:a,activeDate:o,selectedDate:d,miniMode:Q.value,disabled:!!p.disabledWeekdays&&p.disabledWeekdays.includes(t.weekday)},u={key:t.date,ref:e=>{!0===oe.value&&(v.value[t.date]=e)},tabindex:!0===oe.value?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===p.dateType,"q-calendar__button--rounded":"rounded"===p.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===oe.value},disabled:!0===t.disabled||!0!==p.enableOutsideDays&&!0===a,onFocus:e=>{!0===oe.value&&(y.value=t.date)},onKeydown:e=>{!0!==a&&!0!==t.disabled&&ee(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0===oe.value&&!0!==a&&!0!==t.disabled&&ee(e,[13,32])&&(e.stopPropagation(),e.preventDefault(),f.value=t.date,void 0!==I.value.onClickDate&&c("click-date",{scope:l,event:e}))},...G("-date",(e,a)=>{e.stopPropagation();"click-date"!==a&&"contextmenu-date"!==a||(f.value=t.date);return{scope:l,event:e}})};return!0!==p.noAria&&(u.ariaLabel=x.value(t)),[r?r({scope:l}):useButton(p,u,n?n({scope:l}):e),!0===oe.value&&useFocusHelper()]}}function Me(e,a){if(!0!==a||!0!==p.noOutsideDays){const t=m["day-of-year"],n={timestamp:e};return h("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},t?t({scope:n}):e.doy)}}function Fe(e,a){if(!0!==a||!0!==p.noOutsideDays){const t=m["month-label"],n=Z.value(e,p.shortMonthLabel||g.width<500),r={monthLabel:n,timestamp:e,miniMode:Q.value},d={};return!0!==Q.value&&void 0!==X.value&&(d.fontSize=X.value),h("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:d},[t?t({scope:r}):!0!==Q.value?n:void 0])}}function Ee(){const{start:e,end:a}=P.value;u.value=e.date,i.value=a.date;const t=g.width>0,n=withDirectives(h("div",{class:{"q-calendar-mini":!0===Q.value,"q-calendar-month":!0},key:u.value},[!0===t&&!0!==p.noHeader&&ye(),!0===t&&me()]),[[ResizeObserver$1,se]]);if(!0!==p.animated)return n;{const r="q-calendar--"+("prev"===d.value?p.transitionPrev:p.transitionNext);return h(Transition,{name:r,appear:!0},()=>n)}}return watch([Y],J,{deep:!0,immediate:!0}),watch(()=>p.modelValue,(e,a)=>{if(f.value!==e){if(!0===p.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));d.value=t>=n?"next":"prev"}f.value=e}y.value=e}),watch(f,(e,a)=>{if(f.value!==p.modelValue){if(!0===p.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));d.value=t>=n?"next":"prev"}c("update:model-value",e)}}),watch(y,e=>{e&&(r.value=parseTimestamp(e),f.value!==e&&(f.value=e))}),watch(r,e=>{v.value[y.value]?v.value[y.value].focus():ae()}),onBeforeUpdate(()=>{v.value={};o.value=[];l.value=[];nextTick(()=>{pe()})}),onMounted(()=>{V();pe()}),e({prev:ie,next:ue,move:j,moveToToday:le,updateCurrent:F}),()=>B()}}),QCalendarResource=defineComponent({name:"QCalendarResource",props:{...useCommonProps,...useResourceProps,...useIntervalProps,...useColumnProps,...useMaxDaysProps,...useTimesProps,...useNavigationProps},emits:["update:model-value","update:model-resources","resource-expanded",...useCheckChangeEmits,...useMoveEmits,...getRawMouseEvents("-date"),...getRawMouseEvents("-interval"),...getRawMouseEvents("-head-day"),...getRawMouseEvents("-time"),...getRawMouseEvents("-head-resources"),...getRawMouseEvents("-resource")],setup(p,{slots:m,emit:v,expose:e}){const a=ref(null),t=ref(null),n=ref(null),r=ref(null),y=ref(null),d=ref(null),f=ref({}),g=ref({}),o=ref("next"),l=ref(today()),u=ref("0000-00-00"),i=ref(0),s=ref(p.modelValue),c=reactive({width:0,height:0}),_=ref(!1),k=ref(!1),w=ref(!1),D=ref(null),T=ref(null);watch(()=>p.view,()=>{i.value=0});const b=computed(()=>{if("month"===p.view)return"month-interval";return p.view}),I=computed(()=>{return parseInt(p.cellWidth,10)}),C=getCurrentInstance();if(null===C)throw new Error("current instance is null");const S=useEmitListeners(C)["emitListeners"],{times:M,setCurrent:F,updateCurrent:E}=useTimes(p);E(),F();const{weekdaySkips:N,parsedStart:O,parsedEnd:q,dayStyleDefault:W}=useCommon(p,{startDate:l,endDate:u,times:M}),x=computed(()=>{return parseTimestamp(p.modelValue,M.now)||O.value||M.today});d.value=x.value,y.value=x.value.date;const A=useRenderValues(p,{parsedView:b,times:M,parsedValue:x})["renderValues"],{rootRef:H,__initCalendar:R,__renderCalendar:L}=useCalendar(p,we,{scrollArea:a,pane:t}),{days:P,intervals:U,intervalFormatter:V,styleDefault:B,scrollToTimeX:Y,timeDurationWidth:K,timeStartPosX:Q,widthToMinutes:z}=useInterval(p,{weekdaySkips:N,times:M,scrollArea:a,parsedStart:O,parsedEnd:q,maxDays:i,size:c,headerColumnRef:r}),X=useMove(p,{parsedView:b,parsedValue:x,weekdaySkips:N,direction:o,maxDays:i,times:M,emittedValue:s,emit:v})["move"],$=useMouse(v,S)["getDefaultMouseEventHandlers"],Z=useCheckChange(v,{days:P,lastStart:D,lastEnd:T})["checkChange"],j=useEvents()["isKeyCode"],G=useKeyboard(p,{rootRef:H,focusRef:y,focusValue:d,datesRef:f,days:P,parsedView:b,parsedValue:x,emittedValue:s,weekdaySkips:N,direction:o,times:M})["tryFocus"],J=computed(()=>{const e=parseInt(p.resourceHeight,10);if(0===e)return"auto";return e}),ee=computed(()=>{return parseInt(p.resourceMinHeight,10)}),ae=computed(()=>{return parseInt(p.intervalHeaderHeight,10)});function te(){s.value=today()}function ne(e=1){X(e)}function re(e=1){X(-e)}function de({width:e,height:a}){c.width=e,c.height=a}function oe(e){return e.date===s.value}function le(){const e={height:convertToUnit(ae.value)};return h("div",{ref:n,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":!0!==p.noSticky},style:e},[ue(),ie()])}function ue(){const e=m["head-resources"],a=convertToUnit(ae.value),t={timestamps:U,date:p.modelValue,resources:p.modelResources};return h("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":!0!==p.noSticky},style:{height:a},...$("-head-resources",e=>{return{scope:t,event:e}})},[e&&e({scope:t})])}function ie(){return h("div",{ref:r,class:{"q-calendar-resource__head--intervals":!0}},[U.value.map(e=>e.map((e,a)=>se(e,a)))])}function se(e,a){const t=m["interval-label"],n=!0!==p.noActiveDate&&oe(e),r=convertToUnit(I.value),d=convertToUnit(ae.value),o=p.shortIntervalLabel,l=V.value(e,o),u={timestamp:e,index:a,label:l};u.droppable=_.value===l;const i=p.intervalStyle||W,s={width:r,maxWidth:r,minWidth:r,height:d,...i({scope:u})},c="function"===typeof p.intervalClass?p.intervalClass({scope:u}):{},v=!0===p.focusable&&p.focusType.includes("interval");return h("div",{key:l,tabindex:!0===v?0:-1,class:{"q-calendar-resource__head--interval":!0,...c,"q-active-date":n,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===v},style:s,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"interval",u)?_.value=l:_.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"interval",u)?_.value=l:_.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"interval",u)?_.value=l:_.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"interval",u)?_.value=l:_.value="")},onFocus:e=>{!0===v&&(y.value=l)},...$("-interval",e=>{return{scope:u,event:e}})},[t?t({scope:u}):l,useFocusHelper()])}function ce(){return h("div",{class:"q-calendar-resource__body"},[ve()])}function ve(){return h("div",{ref:a,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[me()])}function pe(){return h("div",{},"No resources have been defined")}function me(){return h("div",{class:"q-calendar-resource__day--container"},[le(),void 0===p.modelResources&&pe(),void 0!==p.modelResources&&ye()])}function ye(){const e={class:"q-calendar-resource__resources--body"};return h("div",e,fe())}function fe(e=void 0,t=0,n=!0){return void 0===e&&(e=p.modelResources),e.map((e,a)=>{return he(e,a,t,void 0!==e.children?e.expanded:n)})}function he(e,a,t=0,n=!0){const r={};r.height="auto"===J.value?J.value:convertToUnit(J.value),ee.value>0&&(r.minHeight=convertToUnit(ee.value));const d=h("div",{key:e[p.resourceKey]+"-"+a,class:{"q-calendar-resource__resource--row":!0},style:r},[ge(e,a,t,n),_e(e,a)]);return void 0!==e.children?[d,h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[fe(e.children,t+1,!1===n?n:e.expanded)])]:[d]}function ge(a,e,t=0,n=!0){const r=m["resource-label"],d={};d.height=void 0!==a.height?convertToUnit(parseInt(a.height,10)):J.value?convertToUnit(J.value):"auto",ee.value>0&&(d.minHeight=convertToUnit(ee.value));const o=p.resourceStyle||B,l=a[p.resourceLabel],u=!0===p.focusable&&p.focusType.includes("resource")&&!0===n,i={resource:a,timestamps:U,resourceIndex:e,indentLevel:t,label:l},s=a[p.resourceKey];i.droppable=k.value===s;const c="function"===typeof p.resourceClass?p.resourceClass({scope:i}):{};return h("div",{key:a[p.resourceKey]+"-"+e,ref:e=>{g.value[a[p.resourceKey]]=e},tabindex:!0===u?0:-1,class:{"q-calendar-resource__resource":0===t,"q-calendar-resource__resource--section":0!==t,...c,"q-calendar__sticky":!0!==p.noSticky,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===u},style:{...d,...o({scope:i})},onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"resource",i)?k.value=s:k.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"resource",i)?k.value=s:k.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"resource",i)?k.value=s:k.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"resource",i)?k.value=s:k.value="")},onKeydown:e=>{j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{j(e,[13,32])&&void 0!==S.value.onClickResource&&v("click-resource",{scope:i,event:e})},...$("-resource",e=>{return{scope:i,event:e}})},[[h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation();a.expanded=!a.expanded;v("resource-expanded",{expanded:a.expanded,scope:i})}}),h("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*t+2+"px"}},[r?r({scope:i}):l]),useFocusHelper()]])}function _e(a,t){const e=m["resource-intervals"],n={resource:a,timestamps:U,resourceIndex:t,timeStartPosX:Q,timeDurationWidth:K};return h("div",{class:"q-calendar-resource__resource--intervals"},[U.value.map(e=>e.map(e=>ke(a,e,t))),e&&e({scope:n})])}function ke(a,e,t){const n=m["resource-interval"],r=!0!==p.noActiveDate&&oe(e),d={activeDate:r,resource:a,timestamp:e,resourceIndex:t},o=a[p.resourceKey],l=e.time+"-"+o;d.droppable=w.value===l;const u=!0===p.focusable&&p.focusType.includes("time"),i=p.intervalStyle||W,s=convertToUnit(I.value),c={width:s,maxWidth:s,minWidth:s,...i({scope:d})};return c.height=void 0!==a.height?convertToUnit(parseInt(a.height,10)):J.value>0?convertToUnit(J.value):"auto",ee.value>0&&(c.minHeight=convertToUnit(ee.value)),h("div",{key:l,ref:e=>{f.value[a[p.resourceKey]]=e},tabindex:!0===u?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":r,"q-calendar__hoverable":!0===p.hoverable,"q-calendar__focusable":!0===u},style:c,onDragenter:e=>{void 0!==p.dragEnterFunc&&"function"===typeof p.dragEnterFunc&&(!0===p.dragEnterFunc(e,"time",d)?w.value=l:w.value="")},onDragover:e=>{void 0!==p.dragOverFunc&&"function"===typeof p.dragOverFunc&&(!0===p.dragOverFunc(e,"time",d)?w.value=l:w.value="")},onDragleave:e=>{void 0!==p.dragLeaveFunc&&"function"===typeof p.dragLeaveFunc&&(!0===p.dragLeaveFunc(e,"time",d)?w.value=l:w.value="")},onDrop:e=>{void 0!==p.dropFunc&&"function"===typeof p.dropFunc&&(!0===p.dropFunc(e,"time",d)?w.value=l:w.value="")},onFocus:e=>{!0===u&&(y.value=l)},...$("-time",e=>{return{scope:d,event:e}})},[n&&n({scope:d}),useFocusHelper()])}function we(){const{start:e,end:a,maxDays:t}=A.value;l.value===e.date&&u.value===a.date&&i.value===t||(l.value=e.date,u.value=a.date,i.value=t);const n=c.width>0,r=withDirectives(h("div",{class:"q-calendar-resource",key:l.value},[!0===n&&ce()]),[[ResizeObserver$1,de]]);if(!0!==p.animated)return r;{const d="q-calendar--"+("prev"===o.value?p.transitionPrev:p.transitionNext);return h(Transition,{name:d,appear:!0},()=>r)}}return watch([P],Z,{deep:!0,immediate:!0}),watch(()=>p.modelValue,(e,a)=>{if(s.value!==e){if(!0===p.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));o.value=t>=n?"next":"prev"}s.value=e}y.value=e}),watch(s,(e,a)=>{if(s.value!==p.modelValue){if(!0===p.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));o.value=t>=n?"next":"prev"}v("update:model-value",e)}}),watch(y,e=>{e&&(d.value=parseTimestamp(e))}),watch(d,e=>{f.value[y.value]?f.value[y.value].focus():G()}),onBeforeUpdate(()=>{f.value={};g.value={}}),onMounted(()=>{R()}),e({prev:re,next:ne,move:X,moveToToday:te,updateCurrent:E,timeStartPosX:Q,timeDurationWidth:K,widthToMinutes:z,scrollToTimeX:Y}),()=>L()}}),QCalendarScheduler=defineComponent({name:"QCalendarScheduler",directives:[ResizeObserver$1],props:{...useCommonProps,...useSchedulerProps,...useColumnProps,...useMaxDaysProps,...useTimesProps,...useCellWidthProps,...useNavigationProps},emits:["update:model-value","update:model-resources","resource-expanded",...useCheckChangeEmits,...useMoveEmits,...getRawMouseEvents("-date"),...getRawMouseEvents("-day-resource"),...getRawMouseEvents("-head-resources"),...getRawMouseEvents("-head-day"),...getRawMouseEvents("-resource")],setup(f,{slots:g,emit:_,expose:e}){const a=ref(null),t=ref(null),n=ref(null),p=ref(null),r=ref(null),m=ref({}),v=ref({}),d=ref({}),o=ref({}),l=ref("next"),u=ref(f.modelValue||today()),i=ref("0000-00-00"),s=ref(0),k=ref(f.modelValue),c=reactive({width:0,height:0}),y=ref(!1),w=ref(!1),D=ref(null),T=ref(null);watch(()=>f.view,()=>{s.value=0});const b=computed(()=>{if("month"===f.view)return"month-interval";return f.view}),I=getCurrentInstance();if(null===I)throw new Error("current instance is null");const C=useEmitListeners(I)["emitListeners"],S=useCellWidth(f)["isSticky"],{times:M,setCurrent:F,updateCurrent:E}=useTimes(f);E(),F();const{weekdaySkips:N,parsedStart:O,parsedEnd:q,dayFormatter:W,weekdayFormatter:x,ariaDateFormatter:A,dayStyleDefault:H,getRelativeClasses:R}=useCommon(f,{startDate:u,endDate:i,times:M}),L=computed(()=>{return parseTimestamp(f.modelValue,M.now)||O.value||M.today});r.value=L.value,p.value=L.value.date;const P=useRenderValues(f,{parsedView:b,parsedValue:L,times:M})["renderValues"],{rootRef:U,scrollWidth:V,__initCalendar:B,__renderCalendar:Y}=useCalendar(f,Ae,{scrollArea:a,pane:t}),{days:K,parsedCellWidth:Q,styleDefault:z}=useInterval(f,{weekdaySkips:N,times:M,scrollArea:a,parsedStart:O,parsedEnd:q,maxDays:s,size:c,headerColumnRef:n}),X=useMove(f,{parsedView:b,parsedValue:L,weekdaySkips:N,direction:l,maxDays:s,times:M,emittedValue:k,emit:_})["move"],$=useMouse(_,C)["getDefaultMouseEventHandlers"],Z=useCheckChange(_,{days:K,lastStart:D,lastEnd:T})["checkChange"],j=useEvents()["isKeyCode"],G=useKeyboard(f,{rootRef:U,focusRef:p,focusValue:r,datesRef:m,days:K,parsedView:b,parsedValue:L,emittedValue:k,weekdaySkips:N,direction:l,times:M})["tryFocus"],J=computed(()=>{{if("day"===b.value&&parseInt(f.columnCount,10)>1)return parseInt(f.columnCount,10);if("day"===b.value&&f.maxDays&&f.maxDays>1)return f.maxDays}return K.value.length}),ee=computed(()=>{if(U.value)return parseInt(getComputedStyle(U.value).getPropertyValue("--calendar-resources-width"),10);return 0}),ae=computed(()=>{const e=parseInt(f.resourceHeight,10);if(0===e)return"auto";return e}),te=computed(()=>{return parseInt(f.resourceMinHeight,10)}),ne=computed(()=>{if(U.value){const e=c.width||U.value.getBoundingClientRect().width;if(e&&ee.value&&J.value)return(e-V.value-ee.value)/J.value+"px"}return 100/J.value+"%"});function re(){k.value=today()}function de(e=1){X(e)}function oe(e=1){X(-e)}function le({width:e,height:a}){c.width=e,c.height=a}function ue(e){return e.date===k.value}function ie(){return h("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":!0===S.value},style:{marginRight:V.value+"px"}},[se(),ce()])}function se(){const e=g["head-resources"],a={days:K.value,timestamps:K.value,date:f.modelValue,resources:f.modelResources};return h("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":!0===S.value},...$("-head-resources",e=>{return{scope:a,event:e}})},[e&&e({scope:a})])}function ce(){return h("div",{ref:n,class:{"q-calendar-scheduler__head--days__column":!0}},[ve(),pe()])}function ve(){return h("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...me()])}function pe(){const e=g["head-days-events"];return nextTick(()=>{if(o.value&&0===parseInt(f.columnCount,10)&&window)try{const e=window.getComputedStyle(o.value);d.value.parentElement.style.height=e.height,d.value.style.height=e.height}catch(e){}}),h("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[e&&h("div",{ref:d,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{timestamps:K.value,days:K.value,ref:o}})]),...ye()])}function me(){return 1===K.value.length&&parseInt(f.columnCount,10)>0?Array.apply(null,new Array(parseInt(f.columnCount,10))).map((e,a)=>a+parseInt(f.columnIndexStart,10)).map(e=>fe(K.value[0],e)):K.value.map(e=>fe(e))}function ye(){return 1===K.value.length&&parseInt(f.columnCount,10)>0?Array.apply(null,new Array(parseInt(f.columnCount,10))).map((e,a)=>a+parseInt(f.columnIndexStart,10)).map(e=>ge(K.value[0],e)):K.value.map(e=>ge(e))}function fe(a,e){const t=g["head-day"],n=g["head-date"],r=!0!==f.noActiveDate&&ue(a),d={timestamp:a,activeDate:r,droppable:y.value===a.date,disabled:!!f.disabledWeekdays&&f.disabledWeekdays.includes(a.weekday)};void 0!==e&&(d.columnIndex=e);const o=!0===S.value?convertToUnit(Q.value):ne.value,l=f.weekdayStyle||H,u={width:o,maxWidth:o,minWidth:o,...l({scope:d})};!0===S.value&&(u.minWidth=o);const i="function"===typeof f.weekdayClass?f.weekdayClass({scope:d}):{},s=!0===f.focusable&&f.focusType.includes("weekday"),c=a.date+(void 0!==e?"-"+e:""),v={key:c,ref:e=>{m.value[c]=e},tabindex:!0===s?0:-1,class:{"q-calendar-scheduler__head--day":!0,...i,...R(a),"q-active-date":r,"q-calendar__hoverable":!0===f.hoverable,"q-calendar__focusable":!0===s},style:u,onFocus:e=>{!0===s&&(p.value=c)},onKeydown:e=>{!0!==a.disabled&&j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&j(e,[13,32])&&(k.value=a.date)},...$("-head-day",e=>{return{scope:d,event:e}}),onDragenter:e=>{void 0!==f.dragEnterFunc&&"function"===typeof f.dragEnterFunc&&(!0===f.dragEnterFunc(e,"head-day",d)?y.value=a.date:y.value="")},onDragover:e=>{void 0!==f.dragOverFunc&&"function"===typeof f.dragOverFunc&&(!0===f.dragOverFunc(e,"head-day",d)?y.value=a.date:y.value="")},onDragleave:e=>{void 0!==f.dragLeaveFunc&&"function"===typeof f.dragLeaveFunc&&(!0===f.dragLeaveFunc(e,"head-day",d)?y.value=a.date:y.value="")},onDrop:e=>{void 0!==f.dropFunc&&"function"===typeof f.dropFunc&&(!0===f.dropFunc(e,"head-day",d)?y.value=a.date:y.value="")}};return h("div",v,[void 0!==t&&t({scope:d}),void 0===t&&Te(a,e),void 0===t&&he(a),void 0===t&&n&&n({scope:d}),void 0===t&&be(a,e),useFocusHelper()])}function he(e){return"stacked"===f.dateHeader?[!0!==f.noDefaultHeaderText&&_e(e),!0!==f.noDefaultHeaderBtn&&we(e)]:"inline"===f.dateHeader?("left"===f.weekdayAlign&&"right"===f.dateAlign||"right"===f.weekdayAlign&&f.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==f.noDefaultHeaderText&&_e(e),!0!==f.noDefaultHeaderBtn&&we(e)])):"inverted"===f.dateHeader?("left"===f.weekdayAlign&&"right"===f.dateAlign||"right"===f.weekdayAlign&&f.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==f.noDefaultHeaderBtn&&we(e),!0!==f.noDefaultHeaderText&&_e(e)])):void 0}function ge(e,a){const t=g["head-day-event"],n=!0!==f.noActiveDate&&ue(e),r={timestamp:e,activeDate:n,droppable:y.value===e.date,disabled:!!f.disabledWeekdays&&f.disabledWeekdays.includes(e.weekday)};void 0!==a&&(r.columnIndex=a);const d=!0===S.value?convertToUnit(Q.value):ne.value,o={width:d,maxWidth:d,minWidth:d};return!0===S.value&&(o.minWidth=d),h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-scheduler__head--day__event":!0,...R(e),"q-active-date":n},style:o},[t&&t({scope:r})])}function _e(e){const a=g["head-weekday-label"],t=!0===f.shortWeekdayLabel,n={timestamp:e,shortWeekdayLabel:t},r={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+f.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return h("div",r,a&&a({scope:n})||ke(e,t))}function ke(e,a){const t=x.value(e,a||f.weekdayBreakpoints[0]>0&&Q.value<=f.weekdayBreakpoints[0]);return h("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},f.weekdayBreakpoints[1]>0&&Q.value<=f.weekdayBreakpoints[1]?minCharWidth(t,f.minWeekdayLabel):t)}function we(e){const a={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+f.dateAlign]:!0}};return h("div",a,De(e))}function De(t){const e=!0!==f.noActiveDate&&ue(t),a=W.value(t,!1),n=g["head-day-label"],r=g["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e},o={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===f.dateType,"q-calendar__button--rounded":"rounded"===f.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&j(e,[13,32])&&(k.value=t.date,void 0!==C.value.onClickDate&&_("click-date",{scope:d}))},...$("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(k.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==f.noAria&&(o.ariaLabel=A.value(t)),r?r({scope:d}):useButton(f,o,n?n({scope:d}):a)}function Te(e,a){const t=g["column-header-before"];if(t){const n={timestamp:e,columnIndex:a};return h("div",{class:"q-calendar-scheduler__column-header--before"},[t({scope:n})])}}function be(e,a){const t=g["column-header-after"];if(t){const n={timestamp:e,columnIndex:a};return h("div",{class:"q-calendar-scheduler__column-header--after"},[t({scope:n})])}}function Ie(){return h("div",{class:"q-calendar-scheduler__body"},[Ce()])}function Ce(){return!0===S.value?h("div",{ref:a,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[!0!==S.value&&Oe(),Me()]):!0===f.noScroll?Se():h("div",{ref:a,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[Se()])}function Se(){return h("div",{ref:t,class:"q-calendar-scheduler__pane"},[Me()])}function Me(){return h("div",{class:"q-calendar-scheduler__day--container"},[!0===S.value&&!0!==f.noHeader&&ie(),Fe()])}function Fe(e=void 0,t=0,n=!0){return void 0===e&&(e=f.modelResources),e.map((e,a)=>{return Ee(e,a,t,void 0!==e.children?e.expanded:n)})}function Ee(e,a,t=0,n=!0){const r={};r.height=void 0!==e.height?convertToUnit(parseInt(e.height,10)):ae.value?convertToUnit(ae.value):"auto",te.value>0&&(r.minHeight=convertToUnit(te.value));const d=h("div",{key:e[f.resourceKey]+"-"+a,class:{"q-calendar-scheduler__resource--row":!0},style:r},[Ne(e,a,t,n),Oe(e,a,t,n)]);return void 0!==e.children?[d,h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[Fe(e.children,t+1,!1===n?n:e.expanded)])]:[d]}function Ne(a,e,t=0,n=!0){const r=g["resource-label"],d={};d.height=void 0!==a.height?convertToUnit(parseInt(a.height,10)):ae.value?convertToUnit(ae.value):"auto",parseInt(f.resourceMinHeight,10)>0&&(d.minHeight=convertToUnit(parseInt(f.resourceMinHeight,10)));const o=f.resourceStyle||z,l=a[f.resourceLabel],u=!0===f.focusable&&f.focusType.includes("resource")&&!0===n,i={resource:a,timestamps:K.value,days:K.value,resourceIndex:e,indentLevel:t,label:l},s=a[f.resourceKey];i.droppable=w.value===s;const c="function"===typeof f.resourceClass?f.resourceClass({scope:i}):{};return h("div",{key:a[f.resourceKey]+"-"+e,ref:e=>{v.value[a[f.resourceKey]]=e},tabindex:!0===u?0:-1,class:{"q-calendar-scheduler__resource":0===t,"q-calendar-scheduler__resource--section":0!==t,...c,"q-calendar__sticky":!0===S.value,"q-calendar__hoverable":!0===f.hoverable,"q-calendar__focusable":!0===u},style:{...d,...o({scope:i})},onDragenter:e=>{void 0!==f.dragEnterFunc&&"function"===typeof f.dragEnterFunc&&(!0===f.dragEnterFunc(e,"resource",i)?w.value=s:w.value="")},onDragover:e=>{void 0!==f.dragOverFunc&&"function"===typeof f.dragOverFunc&&(!0===f.dragOverFunc(e,"resource",i)?w.value=s:w.value="")},onDragleave:e=>{void 0!==f.dragLeaveFunc&&"function"===typeof f.dragLeaveFunc&&(!0===f.dragLeaveFunc(e,"resource",i)?w.value=s:w.value="")},onDrop:e=>{void 0!==f.dropFunc&&"function"===typeof f.dropFunc&&(!0===f.dropFunc(e,"resource",i)?w.value=s:w.value="")},onKeydown:e=>{j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{j(e,[13,32])&&void 0!==C.value.onClickResource&&_("click-resource",{scope:i,event:e})},...$("-resource",e=>{return{scope:i,event:e}})},[[h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation();a.expanded=!a.expanded;_("resource-expanded",{expanded:a.expanded,scope:i})}}),h("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*t+2+"px"}},[r?r({scope:i}):l]),useFocusHelper()]])}function Oe(e,a,t=0,n=!0){const r=g["resource-days"],d=!0===S.value?convertToUnit(Q.value):ne.value,o={resource:e,resourceIndex:a,indentLevel:t,expanded:n,cellWidth:d,timestamps:K.value,days:K.value},l={};l.height=parseInt(f.resourceHeight,10)>0?convertToUnit(parseInt(f.resourceHeight,10)):"auto",parseInt(f.resourceMinHeight,10)>0&&(l.minHeight=convertToUnit(parseInt(f.resourceMinHeight,10)));const u={class:"q-calendar-scheduler__resource--days",style:l};return h("div",u,[...qe(e,a,t,n),r&&r({scope:o})])}function qe(a,t,n=0,r=!0){return 1===K.value.length&&parseInt(f.columnCount,10)>0?Array.apply(null,new Array(parseInt(f.columnCount,10))).map((e,a)=>a+parseInt(f.columnIndexStart,10)).map(e=>We(K.value[0],e,a,t,n,r)):K.value.map(e=>We(e,void 0,a,t,n,r))}function We(e,a,t,n,r=0,d=!0){const o=g.day,l=f.dayStyle||H,u=!0!==f.noActiveDate&&L.value.date===e.date,i=e.date+":"+t[f.resourceKey]+(void 0!==a?":"+a:""),s=w.value===i,c={timestamp:e,columnIndex:a,resource:t,resourceIndex:n,indentLevel:r,activeDate:u,droppable:s},v=!0===S.value?convertToUnit(Q.value):ne.value,p={width:v,maxWidth:v,...l({scope:c})};p.height=parseInt(f.resourceHeight,10)>0?convertToUnit(parseInt(f.resourceHeight,10)):"auto",parseInt(f.resourceMinHeight,10)>0&&(p.minHeight=convertToUnit(parseInt(f.resourceMinHeight,10)));const m="function"===typeof f.dayClass?f.dayClass({scope:c}):{},y=!0===f.focusable&&f.focusType.includes("day")&&!0===d;return h("div",{key:e.date+(void 0!==a?":"+a:""),tabindex:!0===y?0:-1,class:{"q-calendar-scheduler__day":0===r,"q-calendar-scheduler__day--section":0!==r,...m,...R(e),"q-calendar__hoverable":!0===f.hoverable,"q-calendar__focusable":!0===y},style:p,onDragenter:e=>{void 0!==f.dragEnterFunc&&"function"===typeof f.dragEnterFunc&&(!0===f.dragEnterFunc(e,"day",c)?w.value=i:w.value="")},onDragover:e=>{void 0!==f.dragOverFunc&&"function"===typeof f.dragOverFunc&&(!0===f.dragOverFunc(e,"day",c)?w.value=i:w.value="")},onDragleave:e=>{void 0!==f.dragLeaveFunc&&"function"===typeof f.dragLeaveFunc&&(!0===f.dragLeaveFunc(e,"day",c)?w.value=i:w.value="")},onDrop:e=>{void 0!==f.dropFunc&&"function"===typeof f.dropFunc&&(!0===f.dropFunc(e,"day",c)?w.value=i:w.value="")},onKeydown:e=>{j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{j(e,[13,32])&&(k.value=c.timestamp.date,void 0!==C.value.onClickResource&&_("click-resource",{scope:c,event:e}))},...$("-day-resource",e=>{return{scope:c,event:e}})},[o&&o({scope:c}),useFocusHelper()])}function xe(){return h("div",{},"No resources have been defined")}function Ae(){const{start:e,end:a,maxDays:t}=P.value;u.value===e.date&&i.value===a.date&&s.value===t||(u.value=e.date,i.value=a.date,s.value=t);const n=c.width>0,r=f.modelResources&&f.modelResources.length>0,d=withDirectives(h("div",{key:u.value,class:"q-calendar-scheduler"},[!0===n&&!0===r&&!0!==S.value&&!0!==f.noHeader&&ie(),!0===n&&!0===r&&Ie(),!1===r&&xe()]),[[ResizeObserver$1,le]]);if(!0!==f.animated)return d;{const o="q-calendar--"+("prev"===l.value?f.transitionPrev:f.transitionNext);return h(Transition,{name:o,appear:!0},()=>d)}}return watch([K],Z,{deep:!0,immediate:!0}),watch(()=>f.modelValue,(e,a)=>{if(k.value!==f.modelValue){if(!0===f.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));l.value=t>=n?"next":"prev"}k.value=e}p.value=e}),watch(k,(e,a)=>{if(k.value!==f.modelValue){if(!0===f.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));l.value=t>=n?"next":"prev"}_("update:model-value",e)}}),watch(p,e=>{e&&(r.value=parseTimestamp(e))}),watch(r,e=>{m.value[p.value]?m.value[p.value].focus():G()}),watch(()=>f.maxDays,e=>{s.value=e}),onBeforeUpdate(()=>{m.value={};d.value={};o.value={};v.value={}}),onMounted(()=>{B()}),e({prev:oe,next:de,move:X,moveToToday:re,updateCurrent:E}),()=>Y()}});const useTaskProps={modelValue:{type:String,default:today(),validator:e=>""===e||validateTimestamp(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>validateNumber(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>2===e.length},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let a=!0;e.forEach(e=>{!0!==["day","date","weekday","interval","resource","task"].includes(e)&&(a=!1)});return a}},taskWidth:{type:Number,default:200,validator:e=>validateNumber(e)&&e>0}};function useTask(a,e,{weekdaySkips:t,times:n}){const r=computed(()=>{{if("day"===a.view)return parseTimestamp(a.modelValue);if("week"===a.view)return getStartOfWeek(parseTimestamp(a.modelValue),a.weekdays,n.today);if("month"===a.view)return getStartOfMonth(parseTimestamp(a.modelValue),a.weekdays,n.today);throw new Error(`QCalendarTask: unknown 'view' type (${a.view})`)}}),d=computed(()=>{{if("day"===a.view){if(1===a.viewCount)return r.value;let e=copyTimestamp(r.value);return e=addToDate(e,{day:a.viewCount-1}),e}if("week"===a.view){if(1===a.viewCount)return getEndOfWeek(parseTimestamp(a.modelValue),a.weekdays,n.today);{let e=copyTimestamp(r.value);return e=addToDate(e,{day:(a.viewCount-1)*DAYS_IN_WEEK}),getEndOfWeek(e,a.weekdays,n.today)}}if("month"!==a.view)throw new Error(`QCalendarTask: unknown 'view' type (${a.view})`);if(1===a.viewCount)return getEndOfMonth(parseTimestamp(a.modelValue),a.weekdays,n.today);{let e=copyTimestamp(r.value);return e=addToDate(e,{month:a.viewCount}),getEndOfMonth(e,a.weekdays,n.today)}}}),o=computed(()=>{return createDayList(r.value,d.value,n.today,t.value,a.disabledBefore,a.disabledAfter,a.disabledWeekdays,a.disabledDays,Number.MAX_SAFE_INTEGER)});return{days:o,parsedStartDate:r,parsedEndDate:d}}var QCalendarTask=defineComponent({name:"QCalendarTask",directives:[ResizeObserver$1],props:{...useTimesProps,...useNavigationProps,...useTaskProps},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...useCheckChangeEmits,...useMoveEmits,...getRawMouseEvents("-date"),...getRawMouseEvents("-day"),...getRawMouseEvents("-head-day")],setup(c,{slots:v,emit:i,expose:e}){const a=ref(null),t=ref(null),d=ref("next"),o=ref(c.modelValue||today()),l=ref("0000-00-00"),n=ref(0),p=ref(c.modelValue),m=ref(null),r=ref(null),y=ref({}),u=reactive({width:0,height:0}),f=ref(!1),s=ref(null),g=ref(null);watch(()=>c.view,()=>{n.value=0});const _=computed(()=>{if("month"===c.view)return"month-interval";return c.view}),k=getCurrentInstance();if(null===k)throw new Error("current instance is null");const w=useEmitListeners(k)["emitListeners"],{times:D,setCurrent:T,updateCurrent:b}=useTimes(c);b(),T();const{weekdaySkips:I,parsedStart:C,dayFormatter:S,weekdayFormatter:M,ariaDateFormatter:F,dayStyleDefault:E,getRelativeClasses:N}=useCommon(c,{startDate:o,endDate:l,times:D}),O=computed(()=>{return parseTimestamp(c.modelValue,D.now)||C.value||D.today});r.value=O.value,m.value=O.value.date;const q=useRenderValues(c,{parsedView:_,times:D,parsedValue:O})["renderValues"],{rootRef:W,__initCalendar:x,__renderCalendar:A}=useCalendar(c,Oe,{scrollArea:a,pane:t}),{days:H,parsedStartDate:R,parsedEndDate:L}=useTask(c,i,{weekdaySkips:I,times:D}),P=useMove(c,{parsedView:_,parsedValue:O,weekdaySkips:I,direction:d,maxDays:n,times:D,emittedValue:p,emit:i})["move"],U=useMouse(i,w)["getDefaultMouseEventHandlers"],V=useCheckChange(i,{days:H,lastStart:s,lastEnd:g})["checkChange"],B=useEvents()["isKeyCode"],Y=useKeyboard(c,{rootRef:W,focusRef:m,focusValue:r,datesRef:y,days:H,parsedView:_,parsedValue:O,emittedValue:p,weekdaySkips:I,direction:d,times:D})["tryFocus"],K=ref(!0),Q=computed(()=>{if(void 0!==c.cellWidth)return parseInt(c.cellWidth,10);return 150}),z=computed(()=>{return!0===c.focusable&&c.focusType.includes("day")&&!0!==isMiniMode.value}),X=computed(()=>{return!0===c.focusable&&c.focusType.includes("date")&&!0!==z.value}),$=computed(()=>{return!0===c.focusable&&c.focusType.includes("weekday")}),Z=computed(()=>{return parseInt(c.dayHeight,10)}),j=computed(()=>{return parseInt(c.dayMinHeight,10)});function G(){p.value=today()}function J(e=1){P(e)}function ee(e=1){P(-e)}function ae({width:e,height:a}){u.width=e,u.height=a}function te(e){return e.date===p.value}function ne(e,a,t){const n=v.day,r=c.dayStyle||E,d=!0!==c.noActiveDate&&O.value.date===e.date,o={timestamp:e,task:a,taskIndex:t,activeDate:d},l=convertToUnit(Q.value),u={width:l,minWidth:l,maxWidth:l,...r({scope:o})},i="function"===typeof c.dayClass?c.dayClass({scope:o}):{};return h("div",{tabindex:!0===z.value?0:-1,class:{"q-calendar-task__task--day":!0,...i,...N(e),"q-active-date":!0===d,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===z.value},style:u,onFocus:e=>{z.value},...U("-day",e=>{return{scope:o,event:e}}),onDragenter:e=>{void 0!==c.dragEnterFunc&&"function"===typeof c.dragEnterFunc&&(!0===c.dragEnterFunc(e,"day",o)?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:e=>{void 0!==c.dragOverFunc&&"function"===typeof c.dragOverFunc&&(!0===c.dragOverFunc(e,"day",o)?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:e=>{void 0!==c.dragLeaveFunc&&"function"===typeof c.dragLeaveFunc&&(!0===c.dragLeaveFunc(e,"day",o)?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:e=>{void 0!==c.dropFunc&&"function"===typeof c.dropFunc&&(!0===c.dropFunc(e,"day",o)?dragOverResource.value=dragValue:dragOverResource.value="")}},[n&&n({scope:o}),useFocusHelper()])}function re(a,t){return H.value.map(e=>ne(e,a,t))}function de(e,a){const t=v.days,n={timestamps:H.value,days:H.value,task:e,taskIndex:a,cellWidth:Q.value};return h("div",{class:"q-calendar-task__task--days-row"},[re(e,a),t&&t({scope:n})])}function oe(a,e,t=0,n=!0){const r=v.task,d={start:R.value,end:L.value,task:a,taskIndex:e,expanded:n},o=convertToUnit(c.taskWidth),l={width:o,minWidth:o,maxWidth:o},u=!0===c.focusable&&c.focusType.includes("task");return h("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":!0===K.value,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===u},style:l},[h("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*t+"px"}},[h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation();a.expanded=!a.expanded;i("task-expanded",{expanded:a.expanded,scope:d})}})]),r&&r({scope:d}),useFocusHelper()])}function le(e,a,t=0,n=!0){const r=void 0!==e.height?convertToUnit(parseInt(e.height,10)):Z.value>0?convertToUnit(Z.value):"auto",d=j.value>0?convertToUnit(j.value):void 0,o={height:r};void 0!==d&&(o.minHeight=d);const l=h("div",{key:e[c.taskKey]+"-"+a,class:{"q-calendar-task__task":0===t,"q-calendar-task__task--section":0!==t},style:o},[oe(e,a,t,n),de(e,a)]);return void 0!==e.children?[l,h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[ue(e.children,t+1,!1===n?n:e.expanded)])]:[l]}function ue(e=void 0,t=0,n=!0){return void 0===e&&(e=c.modelTasks),e.map((e,a)=>{return le(e,a,t,void 0!==e.children?e.expanded:n)})}function ie(){return h("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":!0===K.value}},[ue()])}function se(e,a){const t=v["footer-task"],n={start:R.value,end:L.value,footer:e,index:a},r=convertToUnit(c.taskWidth),d={width:r,minWidth:r,maxWidth:r};return h("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":!0===K.value},style:d},[t&&t({scope:n})])}function ce(e,a,t){const n=v["footer-day"],r={timestamp:e,footer:a,index:t},d=convertToUnit(Q.value),o={width:d,minWidth:d,maxWidth:d},l="function"===typeof c.footerDayClass?c.footerDayClass({scope:r}):{};return h("div",{class:{"q-calendar-task__footer--day":!0,...l,...N(e),"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===z.value},style:o},[n&&n({scope:r})])}function ve(a,t){return h("div",{class:"q-calendar-task__footer--day-wrapper"},[H.value.map(e=>ce(e,a,t))])}function pe(){const t=!0===c.focusable&&c.focusType.includes("task");return c.modelFooter.map((e,a)=>{return h("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===t}},{default:()=>[se(e,a),ve(e,a)]})})}function me(){return h("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":!0===K.value}},pe())}function ye(){return h("div",{class:{"q-calendar-task__container":!0}},[!0!==c.noHeader&&Fe(),ie(),me()])}function fe(){const e=v["head-tasks"],a={start:R.value,end:L.value},t=convertToUnit(parseInt(c.taskWidth,10)),n={width:t,minWidth:t,maxWidth:t};return h("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":!0===K.value},style:n},[e&&e({scope:a})])}function he(e,a){const t=v["title-task"],n=convertToUnit(parseInt(c.taskWidth,10)),r={width:n,minWidth:n,maxWidth:n},d={start:R.value,end:L.value,cellWidth:n,title:e,index:a};return h("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":!0===K.value},style:r},[t&&t({scope:d})])}function ge(e){const a=v["head-weekday-label"],t=!0!==c.noActiveDate&&te(e),n={activeDate:t,timestamp:e,disabled:!!c.disabledWeekdays&&c.disabledWeekdays.includes(e.weekday)},r={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+c.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return h("div",r,a&&a({scope:n})||_e(e,c.shortWeekdayLabel))}function _e(e,a){const t=M.value(e,a||c.weekdayBreakpoints[0]>0&&Q.value<=c.weekdayBreakpoints[0]);return h("span",{class:"q-calendar__ellipsis"},c.weekdayBreakpoints[1]>0&&Q.value<=c.weekdayBreakpoints[1]?minCharWidth(t,c.minWeekdayLabel):t)}function ke(e){const a={class:{"q-calendar-task__head--date":!0,["q-calendar__"+c.dateAlign]:!0}};return h("div",a,we(e))}function we(t){const e=!0!==c.noActiveDate&&te(t),a=S.value(t,!1),n=v["head-day-label"],r=v["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e},o=t.date,l={key:o,tabindex:!0===X.value?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===c.dateType,"q-calendar__button--rounded":"rounded"===c.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===X.value},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&B(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&B(e,[13,32])&&(p.value=t.date,void 0!==w.value.onClickDate&&i("click-date",{scope:d}))},...U("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(p.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==c.noAria&&(l.ariaLabel=F.value(t)),r?r({scope:d}):useButton(c,l,n?n({scope:d}):a)}function De(e){return"stacked"===c.dateHeader?[!0!==c.noDefaultHeaderText&&ge(e),!0!==c.noDefaultHeaderBtn&&ke(e)]:"inline"===c.dateHeader?("left"===c.weekdayAlign&&"right"===c.dateAlign||"right"===c.weekdayAlign&&c.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==c.noDefaultHeaderText&&ge(e),!0!==c.noDefaultHeaderBtn&&ke(e)])):"inverted"===c.dateHeader?("left"===c.weekdayAlign&&"right"===c.dateAlign||"right"===c.weekdayAlign&&c.dateAlign,h("div",{class:"q-calendar__header--inline"},[!0!==c.noDefaultHeaderBtn&&ke(e),!0!==c.noDefaultHeaderText&&ge(e)])):void 0}function Te(e,a,t){const n=v["title-day"],r=convertToUnit(Q.value),d={width:r,minWidth:r,maxWidth:r},o={timestamp:e,title:a,index:t,cellWidth:Q.value},l="function"===typeof c.dayClass?c.dayClass({scope:o}):{},u=!0===c.focusable&&c.focusType.includes("day");return h("div",{class:{"q-calendar-task__title--day":!0,...l,...N(e),"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===u},style:d},[n&&n({scope:o}),useFocusHelper()])}function be(a){const e=v["head-day"],t=v["head-date"],n=!0!==c.noActiveDate&&te(a),r={timestamp:a,activeDate:n,droppable:f.value=a.date,disabled:!!c.disabledWeekdays&&c.disabledWeekdays.includes(a.weekday)},d=c.weekdayStyle||E,o="function"===typeof c.weekdayClass?c.weekdayClass({scope:r}):{},l=convertToUnit(Q.value),u={width:l,minWidth:l,maxWidth:l,...d({scope:r})},i=a.date,s={key:i,ref:e=>{y.value[i]=e},tabindex:!0===$.value?0:-1,class:{"q-calendar-task__head--day":!0,...o,...N(a),"q-active-date":n,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===$.value},style:u,onFocus:e=>{!0===$.value&&(m.value=i)},onKeydown:e=>{!0!==a.disabled&&B(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&B(e,[13,32])&&(p.value=a.date)},...U("-head-day",e=>{return{scope:r,event:e}}),onDragenter:e=>{void 0!==c.dragEnterFunc&&"function"===typeof c.dragEnterFunc&&(!0===c.dragEnterFunc(e,"head-day",r)?f.value=a.date:f.value="")},onDragover:e=>{void 0!==c.dragOverFunc&&"function"===typeof c.dragOverFunc&&(!0===c.dragOverFunc(e,"head-day",r)?f.value=a.date:f.value="")},onDragleave:e=>{void 0!==c.dragLeaveFunc&&"function"===typeof c.dragLeaveFunc&&(!0===c.dragLeaveFunc(e,"head-day",r)?f.value=a.date:f.value="")},onDrop:e=>{void 0!==c.dropFunc&&"function"===typeof c.dropFunc&&(!0===c.dropFunc(e,"head-day",r)?f.value=a.date:f.value="")}};return h("div",s,[void 0!==e&&e({scope:r}),void 0===e&&De(a),void 0===e&&t&&t({scope:r}),useFocusHelper()])}function Ie(){return H.value.map(e=>be(e))}function Ce(a,t){return H.value.map(e=>Te(e,a,t))}function Se(){return h("div",{class:{"q-calendar-task__head--days":!0}},[...Ie()])}function Me(e,a){return h("div",{class:{"q-calendar-task__title--days":!0}},[...Ce(e,a)])}function Fe(){return h("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":!0===K.value},style:{}},[h("div",{style:{position:"relative",display:"flex"}},[fe(),Se()]),c.modelTitle.map((e,a)=>h("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[he(e,a),Me(e,a)]))])}function Ee(){return h("div",{class:"q-calendar-task__body"},[Ne()])}function Ne(){return h("div",{ref:a,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[ye()])}function Oe(){const{start:e,end:a}=q.value;o.value=e.date,l.value=a.date;const t=u.width>0,n=withDirectives(h("div",{key:o.value,class:"q-calendar-task"},[!0===t&&Ee()]),[[ResizeObserver$1,ae]]);if(!0!==c.animated)return n;{const r="q-calendar--"+("prev"===d.value?c.transitionPrev:c.transitionNext);return h(Transition,{name:r,appear:!0},()=>n)}}return watch([H],V,{deep:!0,immediate:!0}),watch(()=>c.modelValue,(e,a)=>{if(p.value!==e){if(!0===c.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));d.value=t>=n?"next":"prev"}p.value=e}m.value=e}),watch(p,(e,a)=>{if(p.value!==c.modelValue){if(!0===c.animated){const t=getDayIdentifier(parsed(e)),n=getDayIdentifier(parsed(a));d.value=t>=n?"next":"prev"}i("update:model-value",e)}}),watch(m,e=>{e&&(r.value=parseTimestamp(e))}),watch(r,e=>{y.value[m.value]?y.value[m.value].focus():Y()}),onBeforeUpdate(()=>{y.value={}}),onMounted(()=>{x()}),e({prev:ee,next:J,move:P,moveToToday:G,updateCurrent:b}),()=>A()}}),QCalendar=defineComponent({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...useCommonProps,...useMonthProps,...useTimesProps,...useCellWidthProps,...useNavigationProps,...useIntervalProps,...useSchedulerProps,...useResourceProps,...useMaxDaysProps,...useTaskProps},setup(e,{attrs:a,slots:t,expose:n}){const r=ref(null),d=computed(()=>{switch(e.mode){case"agenda":return QCalendarAgenda;case"resource":return QCalendarResource;case"scheduler":return QCalendarScheduler;case"month":return QCalendarMonth;case"day":return QCalendarDay;case"task":return QCalendarTask;case"day":default:return QCalendarDay}});function o(){r.value.moveToToday()}function l(e=-1){r.value.move(e)}function u(e=1){r.value.next(e)}function i(e=1){r.value.prev(e)}function s(){r.value.updateCurrent()}function c(e,a=!0){return r.value.timeStartPos(e,a)}function v(e,a=!0){return r.value.timeStartPosX(e,a)}function p(e){return r.value.timeDurationWidth(e)}function m(e){return r.value.timeDurationHeight(e)}function y(e){return r.value.heightToMinutes(e)}function f(e){return r.value.widthToMinutes(minutes)}function g(e){return r.value.scrollToTime(e)}function _(e){return r.value.scrollToTimeX(e)}return n({prev:i,next:u,move:l,moveToToday:o,updateCurrent:s,timeStartPos:c,timeStartPosX:v,timeDurationWidth:p,timeDurationHeight:m,heightToMinutes:y,widthToMinutes:f,scrollToTime:g,scrollToTimeX:_}),()=>h(d.value,{ref:r,...e,...a},t)}});const version="4.0.0-beta.12";var index={version:version,QCalendar:QCalendar,QCalendarAgenda:QCalendarAgenda,QCalendarDay:QCalendarDay,QCalendarMonth:QCalendarMonth,QCalendarResource:QCalendarResource,QCalendarScheduler:QCalendarScheduler,QCalendarTask:QCalendarTask,PARSE_REGEX:PARSE_REGEX,PARSE_DATE:PARSE_DATE,PARSE_TIME:PARSE_TIME,DAYS_IN_MONTH:DAYS_IN_MONTH,DAYS_IN_MONTH_LEAP:DAYS_IN_MONTH_LEAP,DAYS_IN_MONTH_MIN:DAYS_IN_MONTH_MIN,DAYS_IN_MONTH_MAX:DAYS_IN_MONTH_MAX,MONTH_MAX:MONTH_MAX,MONTH_MIN:MONTH_MIN,DAY_MIN:DAY_MIN,DAYS_IN_WEEK:DAYS_IN_WEEK,MINUTES_IN_HOUR:MINUTES_IN_HOUR,HOURS_IN_DAY:HOURS_IN_DAY,FIRST_HOUR:FIRST_HOUR,MILLISECONDS_IN_MINUTE:MILLISECONDS_IN_MINUTE,MILLISECONDS_IN_HOUR:MILLISECONDS_IN_HOUR,MILLISECONDS_IN_DAY:MILLISECONDS_IN_DAY,MILLISECONDS_IN_WEEK:MILLISECONDS_IN_WEEK,Timestamp:Timestamp,TimeObject:TimeObject,today:today,getStartOfWeek:getStartOfWeek,getEndOfWeek:getEndOfWeek,getStartOfMonth:getStartOfMonth,getEndOfMonth:getEndOfMonth,parseTime:parseTime,validateTimestamp:validateTimestamp,parsed:parsed,parseTimestamp:parseTimestamp,parseDate:parseDate,getDayIdentifier:getDayIdentifier,getTimeIdentifier:getTimeIdentifier,getDayTimeIdentifier:getDayTimeIdentifier,diffTimestamp:diffTimestamp,updateRelative:updateRelative,updateMinutes:updateMinutes,updateWeekday:updateWeekday,updateDayOfYear:updateDayOfYear,updateWorkWeek:updateWorkWeek,updateDisabled:updateDisabled,updateFormatted:updateFormatted,getDayOfYear:getDayOfYear,getWorkWeek:getWorkWeek,getWeekday:getWeekday,isLeapYear:isLeapYear,daysInMonth:daysInMonth,copyTimestamp:copyTimestamp,padNumber:padNumber,getDate:getDate,getTime:getTime,getDateTime:getDateTime,nextDay:nextDay,prevDay:prevDay,moveRelativeDays:moveRelativeDays,relativeDays:relativeDays,findWeekday:findWeekday,getWeekdaySkips:getWeekdaySkips,createDayList:createDayList,createIntervalList:createIntervalList,createNativeLocaleFormatter:createNativeLocaleFormatter,makeDate:makeDate,makeDateTime:makeDateTime,validateNumber:validateNumber,maxTimestamp:maxTimestamp,minTimestamp:minTimestamp,isBetweenDates:isBetweenDates,isOverlappingDates:isOverlappingDates,daysBetween:daysBetween,weeksBetween:weeksBetween,addToDate:addToDate,compareTimestamps:compareTimestamps,compareDate:compareDate,compareTime:compareTime,compareDateTime:compareDateTime,getWeekdayFormatter:getWeekdayFormatter,getWeekdayNames:getWeekdayNames,getMonthFormatter:getMonthFormatter,getMonthNames:getMonthNames,convertToUnit:convertToUnit,indexOf:indexOf,install(e,a){e.component(QCalendar.name,QCalendar),e.component(QCalendarAgenda.name,QCalendarAgenda),e.component(QCalendarDay.name,QCalendarDay),e.component(QCalendarMonth.name,QCalendarMonth),e.component(QCalendarResource.name,QCalendarResource),e.component(QCalendarScheduler.name,QCalendarScheduler),e.component(QCalendarTask.name,QCalendarTask)}},Plugin=Object.freeze({__proto__:null,version:version,QCalendar:QCalendar,QCalendarAgenda:QCalendarAgenda,QCalendarDay:QCalendarDay,QCalendarMonth:QCalendarMonth,QCalendarResource:QCalendarResource,QCalendarScheduler:QCalendarScheduler,QCalendarTask:QCalendarTask,PARSE_REGEX:PARSE_REGEX,PARSE_DATE:PARSE_DATE,PARSE_TIME:PARSE_TIME,DAYS_IN_MONTH:DAYS_IN_MONTH,DAYS_IN_MONTH_LEAP:DAYS_IN_MONTH_LEAP,DAYS_IN_MONTH_MIN:DAYS_IN_MONTH_MIN,DAYS_IN_MONTH_MAX:DAYS_IN_MONTH_MAX,MONTH_MAX:MONTH_MAX,MONTH_MIN:MONTH_MIN,DAY_MIN:DAY_MIN,DAYS_IN_WEEK:DAYS_IN_WEEK,MINUTES_IN_HOUR:MINUTES_IN_HOUR,HOURS_IN_DAY:HOURS_IN_DAY,FIRST_HOUR:FIRST_HOUR,MILLISECONDS_IN_MINUTE:MILLISECONDS_IN_MINUTE,MILLISECONDS_IN_HOUR:MILLISECONDS_IN_HOUR,MILLISECONDS_IN_DAY:MILLISECONDS_IN_DAY,MILLISECONDS_IN_WEEK:MILLISECONDS_IN_WEEK,Timestamp:Timestamp,TimeObject:TimeObject,today:today,getStartOfWeek:getStartOfWeek,getEndOfWeek:getEndOfWeek,getStartOfMonth:getStartOfMonth,getEndOfMonth:getEndOfMonth,parseTime:parseTime,validateTimestamp:validateTimestamp,parsed:parsed,parseTimestamp:parseTimestamp,parseDate:parseDate,getDayIdentifier:getDayIdentifier,getTimeIdentifier:getTimeIdentifier,getDayTimeIdentifier:getDayTimeIdentifier,diffTimestamp:diffTimestamp,updateRelative:updateRelative,updateMinutes:updateMinutes,updateWeekday:updateWeekday,updateDayOfYear:updateDayOfYear,updateWorkWeek:updateWorkWeek,updateDisabled:updateDisabled,updateFormatted:updateFormatted,getDayOfYear:getDayOfYear,getWorkWeek:getWorkWeek,getWeekday:getWeekday,isLeapYear:isLeapYear,daysInMonth:daysInMonth,copyTimestamp:copyTimestamp,padNumber:padNumber,getDate:getDate,getTime:getTime,getDateTime:getDateTime,nextDay:nextDay,prevDay:prevDay,moveRelativeDays:moveRelativeDays,relativeDays:relativeDays,findWeekday:findWeekday,getWeekdaySkips:getWeekdaySkips,createDayList:createDayList,createIntervalList:createIntervalList,createNativeLocaleFormatter:createNativeLocaleFormatter,makeDate:makeDate,makeDateTime:makeDateTime,validateNumber:validateNumber,maxTimestamp:maxTimestamp,minTimestamp:minTimestamp,isBetweenDates:isBetweenDates,isOverlappingDates:isOverlappingDates,daysBetween:daysBetween,weeksBetween:weeksBetween,addToDate:addToDate,compareTimestamps:compareTimestamps,compareDate:compareDate,compareTime:compareTime,compareDateTime:compareDateTime,getWeekdayFormatter:getWeekdayFormatter,getWeekdayNames:getWeekdayNames,getMonthFormatter:getMonthFormatter,getMonthNames:getMonthNames,convertToUnit:convertToUnit,indexOf:indexOf,default:index});export{DAYS_IN_MONTH,DAYS_IN_MONTH_LEAP,DAYS_IN_MONTH_MAX,DAYS_IN_MONTH_MIN,DAYS_IN_WEEK,DAY_MIN,FIRST_HOUR,HOURS_IN_DAY,MILLISECONDS_IN_DAY,MILLISECONDS_IN_HOUR,MILLISECONDS_IN_MINUTE,MILLISECONDS_IN_WEEK,MINUTES_IN_HOUR,MONTH_MAX,MONTH_MIN,PARSE_DATE,PARSE_REGEX,PARSE_TIME,QCalendar,QCalendarAgenda,QCalendarDay,QCalendarMonth,QCalendarResource,QCalendarScheduler,QCalendarTask,TimeObject,Timestamp,addToDate,compareDate,compareDateTime,compareTime,compareTimestamps,convertToUnit,copyTimestamp,createDayList,createIntervalList,createNativeLocaleFormatter,daysBetween,daysInMonth,Plugin as default,diffTimestamp,findWeekday,getDate,getDateTime,getDayIdentifier,getDayOfYear,getDayTimeIdentifier,getEndOfMonth,getEndOfWeek,getMonthFormatter,getMonthNames,getStartOfMonth,getStartOfWeek,getTime,getTimeIdentifier,getWeekday,getWeekdayFormatter,getWeekdayNames,getWeekdaySkips,getWorkWeek,indexOf,isBetweenDates,isLeapYear,isOverlappingDates,makeDate,makeDateTime,maxTimestamp,minTimestamp,moveRelativeDays,nextDay,padNumber,parseDate,parseTime,parseTimestamp,parsed,prevDay,relativeDays,today,updateDayOfYear,updateDisabled,updateFormatted,updateMinutes,updateRelative,updateWeekday,updateWorkWeek,validateNumber,validateTimestamp,version,weeksBetween};