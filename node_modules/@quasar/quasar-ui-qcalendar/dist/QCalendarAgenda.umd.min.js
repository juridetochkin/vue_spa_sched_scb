/*!
 * @quasar/quasar-ui-qcalendar v4.0.0-beta.12
 * (c) 2021 Jeff Galbraith <jeff@quasar.dev>
 * Released under the MIT License.
 */
(function(e,t){"object"===typeof exports&&"undefined"!==typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define(["vue"],t):(e="undefined"!==typeof globalThis?globalThis:e||self,e.QCalendarAgenda=t(e.Vue))})(this,function(Fe){"use strict";const a=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,e=/^(\d{4})-(\d{1,2})(-(\d{1,2}))/,n=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=[0,31,29,31,30,31,30,31,31,30,31,30,31],t=28,h=31,l=12,u=1,p=1,d=7,i=60,s=24,c=0,v=6e4,m=36e5,f=864e5,y=6048e5,g={date:"",time:"",year:0,month:0,day:0,weekday:0,hour:0,minute:0,doy:0,workweek:0,hasDay:!1,hasTime:!1,past:!1,current:!1,future:!1,disabled:!1,currentWeekday:!1},w={hour:0,minute:0};function Oe(){const e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return[n,B(t,2),B(a,2)].join("-")}function z(e,t,a){let n=K(e);if(1===n.day||0===n.weekday)while(!t.includes(n.weekday))n=Z(n);return n=te(n,t[0],J),n=W(n),a&&(n=j(n,a,n.hasTime)),n}function $(e,t,a){let n=K(e);const r=U(n.year,n.month);if(r===n.day||6===n.weekday)while(!t.includes(n.weekday))n=J(n);return n=te(n,t[t.length-1],Z),n=W(n),a&&(n=j(n,a,n.hasTime)),n}function I(e){const t=K(e);return t.day=p,W(t),t}function C(e){const t=K(e);return t.day=U(t.year,t.month),W(t),t}function P(e){const t=Object.prototype.toString.call(e);switch(t){case"[object Number]":return e;case"[object String]":{const a=n.exec(e);return a?60*parseInt(a[1],10)+parseInt(a[3]||0,10):!1}case"[object Object]":return"number"!==typeof e.hour||"number"!==typeof e.minute?!1:60*e.hour+e.minute}return!1}function k(e){return!!a.exec(e)}function b(e,t){return JSON.stringify(e)===JSON.stringify(t)}function D(e,t){return V(e)===V(t)}function _(e,t){return Y(e)===Y(t)}function T(e,t){return Q(e)===Q(t)}function Ae(e){const t=a.exec(e);return t?{date:e,time:B(parseInt(t[6],10)||0,2)+":"+B(parseInt(t[8],10)||0,2),year:parseInt(t[1],10),month:parseInt(t[2],10),day:parseInt(t[4],10)||1,hour:isNaN(parseInt(t[6],10))?0:parseInt(t[6],10),minute:isNaN(parseInt(t[8],10))?0:parseInt(t[8],10),weekday:0,doy:0,workweek:0,hasDay:!!t[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function qe(e,t){let a=Ae(e);return null===a?null:(a=W(a),t&&j(a,t,a.hasTime),a)}function S(e,t=!1){const a=t?"UTC":"";return W({date:B(e[`get${a}FullYear`](),4)+"-"+B(e[`get${a}Month`]()+1,2)+"-"+B(e[`get${a}Date`](),2),time:B(e[`get${a}Hours`]()||0,2)+":"+B(e[`get${a}Minutes`]()||0,2),year:e[`get${a}FullYear`](),month:e[`get${a}Month`]()+1,day:e[`get${a}Date`](),hour:e[`get${a}Hours`](),minute:e[`get${a}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function Me(e){return 1e8*e.year+1e6*e.month+1e4*e.day}function F(e){return 100*e.hour+e.minute}function X(e){return Me(e)+F(e)}function O(e,t,a){const n=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute),r=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute);return!0===a&&r<n?0:r-n}function j(e,t,a=!1){let n=Me(t),r=Me(e),o=n===r;return e.hasTime&&a&&o&&(n=F(t),r=F(e),o=n===r),e.past=r<n,e.current=o,e.future=r>n,e.currentWeekday=e.weekday===t.weekday,e}function A(e,t,a){return e.hasTime=!0,e.hour=Math.floor(t/i),e.minute=t%i,e.time=Y(e),a&&j(e,a,!0),e}function q(e){return e.weekday=L(e),e}function M(e){return e.doy=N(e),e}function x(e){return e.workweek=H(e),e}function E(e,t,a,n,r){const o=Me(e);if(void 0!==t){const u=Me(Ae(t));o<=u&&(e.disabled=!0)}if(!0!==e.disabled&&void 0!==a){const l=Me(Ae(a));o>=l&&(e.disabled=!0)}if(!0!==e.disabled&&Array.isArray(n)&&n.length>0)for(const d in n)if(n[d]===e.weekday){e.disabled=!0;break}if(!0!==e.disabled&&Array.isArray(r)&&r.length>0)for(const i in r)if(Array.isArray(r[i])&&2===r[i].length){const s=Ae(r[i][0]),c=Ae(r[i][1]);if(ce(e,s,c)){e.disabled=!0;break}}else{const v=Me(qe(r[i]+" 00:00"));if(v===o){e.disabled=!0;break}}return e}function W(e){return e.hasTime=!0,e.time=Y(e),e.date=V(e),e.weekday=L(e),e.doy=N(e),e.workweek=H(e),e}function N(e){if(0!==e.year)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function H(e){0===e.year&&(e=qe(Oe()));const t=ue(e);if(isNaN(t))return 0;const a=new Date(t.getFullYear(),t.getMonth(),t.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const n=new Date(a.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=a.getTimezoneOffset()-n.getTimezoneOffset();a.setHours(a.getHours()-r);const o=(a-n)/y;return 1+Math.floor(o)}function L(e){let t=e.weekday;if(e.hasDay){const a=Math.floor,n=e.day,r=(e.month+9)%l+1,o=a(e.year/100),u=e.year%100-(e.month<=2?1:0);t=((n+a(2.6*r-.2)-2*o+u+a(u/4)+a(o/4))%7+7)%7}return t}function R(e){return 1===(e%4===0^e%100===0^e%400===0)}function U(e,t){return(R(e)?o:r)[t]}function K(e){return{...e}}function B(e,t){let a=String(e);while(a.length<t)a="0"+a;return a}function V(e){let t=B(e.year,4)+"-"+B(e.month,2);return e.hasDay&&(t+="-"+B(e.day,2)),t}function Y(e){return e.hasTime?B(e.hour,2)+":"+B(e.minute,2):""}function Q(e){return V(e)+" "+(e.hasTime?Y(e):"00:00")}function Z(e){return++e.day,e.weekday=(e.weekday+1)%d,e.day>t&&e.day>U(e.year,e.month)&&(e.day=p,++e.month,e.month>l&&(e.month=u,++e.year)),e}function J(e){return e.day--,e.weekday=(e.weekday+6)%d,e.day<p&&(e.month--,e.month<u&&(e.year--,e.month=l),e.day=U(e.year,e.month)),e}function G(e,t=Z,a=1,n=[0,1,2,3,4,5,6]){return ee(e,t,a,n)}function ee(e,t=Z,a=1,n=[0,1,2,3,4,5,6]){n.includes(e.weekday)||0!==e.weekday||t!==Z||++a;while(--a>=0)e=t(e),n.length<7&&!n.includes(e.weekday)&&++a;return e}function te(e,t,a=Z,n=6){while(e.weekday!==t&&--n>=0)e=a(e);return e}function ae(t){const e=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let e=0;e<t.length;++e)n[t[e]]=1;for(let a=0;a<d;++a){let t=1;for(let e=1;e<d;++e){const r=(a+e)%d;if(n[r])break;++t}e[a]=n[a]*t}return e}function ne(e,t,a,n,r,o,u=[],l=[],d=42,i=0){const s=Me(t),c=[];let v=K(e),m=0,f=m===s;if(s<Me(e))return c;while((!f||c.length<i)&&c.length<d){if(m=Me(v),f=f||m>s&&c.length>=i,f)break;if(0!==n[v.weekday]){const y=K(v);W(y),j(y,a),E(y,r,o,u,l),c.push(y),v=ee(v,Z)}else v=ee(v,Z)}return c}function re(t,a,n,r,o){const u=[];for(let e=0;e<r;++e){const l=(a+e)*n,d=K(t);u.push(A(d,l,o))}return u}function oe(n,r){const o=(e,t)=>"";return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?o:(t,e)=>{try{const a=new Intl.DateTimeFormat(n||void 0,r(t,e));return a.format(le(t))}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> `+Q(t)),o}}}function ue(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function le(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function de(e){return isFinite(parseInt(e,10))}function ie(e,t=!1){const a=!0===t?X:Me;return e.reduce((e,t)=>{return Math.max(a(e),a(t))===a(e)?e:t})}function se(e,t=!1){const a=!0===t?X:Me;return e.reduce((e,t)=>{return Math.min(a(e),a(t))===a(e)?e:t})}function ce(e,t,a,n){const r=Me(e)+(!0===n?F(e):0),o=Me(t)+(!0===n?F(t):0),u=Me(a)+(!0===n?F(a):0);return r>=o&&r<=u}function ve(e,t,a,n){const r=Me(e),o=Me(t),u=Me(a),l=Me(n);return r>=u&&r<=l||o>=u&&o<=l||u>=r&&o>=l}function me(e,t){const n=K(e);let r;return ye(t,(e,t)=>{if(void 0!==n[t]){n[t]+=parseInt(e,10);const a=fe.indexOf(t);-1!==a&&(r=void 0===r?a:Math.min(a,r))}}),void 0!==r&&ke(n,fe[r]),W(n),n}const fe=["minute","hour","day","month"];function ye(t,a){Object.keys(t).forEach(e=>a(t[e],e))}function he(e){if(e.minute>=i||e.minute<0){const t=Math.floor(e.minute/i);e.minute-=t*i,e.hour+=t,pe(e)}return e}function pe(e){if(e.hour>=s||e.hour<0){const t=Math.floor(e.hour/s);e.hour-=t*s,e.day+=t,ge(e)}return e}function ge(t){we(t);let a=U(t.year,t.month);if(t.day>a){++t.month,t.month>l&&we(t);let e=t.day-a;a=U(t.year,t.month);do{e>a&&(++t.month,t.month>l&&we(t),e-=a,a=U(t.year,t.month))}while(e>a);t.day=e}else if(t.day<=0){let e=-1*t.day;--t.month,t.month<=0&&we(t),a=U(t.year,t.month);do{e>a&&(e-=a,--t.month,t.month<=0&&we(t),a=U(t.year,t.month))}while(e>a);t.day=a-e}return t}function we(e){if(e.month>l){const t=Math.floor(e.month/l);e.month=e.month%l,e.year+=t}else e.month<u&&(e.month+=l,--e.year);return e}function ke(e,t){switch(t){case"minute":return he(e);case"hour":return pe(e);case"day":return ge(e);case"month":return we(e)}}function be(e,t){const a=O(e,t,!0);return Math.floor(a/f)}function De(e,t){let a=K(e),n=K(t);return a=te(a,0),n=te(n,6),Math.ceil(be(a,n)/d)}const _e={Sun:new Date("2020-01-05T00:00:00.000Z"),Mon:new Date("2020-01-06T00:00:00.000Z"),Tue:new Date("2020-01-07T00:00:00.000Z"),Wed:new Date("2020-01-08T00:00:00.000Z"),Thu:new Date("2020-01-09T00:00:00.000Z"),Fri:new Date("2020-01-10T00:00:00.000Z"),Sat:new Date("2020-01-11T00:00:00.000Z")};function Te(){const r=(e,t)=>"",o={long:{timeZone:"UTC",weekday:"long"},short:{timeZone:"UTC",weekday:"short"},narrow:{timeZone:"UTC",weekday:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?r:e;function e(t,e,a){try{const n=new Intl.DateTimeFormat(a||void 0,o[e]||o["long"]);return n.format(_e[t])}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> day of week: `+t),r}}}function Ie(t,a){const e=Object.keys(_e),n=Te();return e.map(e=>n(e,t,a))}function Ce(){const o=(e,t)=>"",u={long:{timeZone:"UTC",month:"long"},short:{timeZone:"UTC",month:"short"},narrow:{timeZone:"UTC",month:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?o:e;function e(t,e,a){try{const n=new Intl.DateTimeFormat(a||void 0,u[e]||u["long"]),r=new Date;return r.setDate(1),r.setMonth(t),n.format(r)}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> month: `+t),o}}}function Se(t,a){const n=Ce();return[...Array(12).keys()].map(e=>n(e,t,a))}function xe(e,t="px"){if(null!=e&&""!==e)return isNaN(e)?String(e):"auto"===e?e:""+Number(e)+t}function Ee(t,a){for(let e=0;e<t.length;e++)if(!0===a(t[e],e))return e;return-1}function We(e,t){return 0===t?e:e.slice(0,t)}var Ne={name:"ResizeObserver",mounted(e,{value:t}){if(t){const a={};a.callback=t,a.size={width:0,height:0},a.observer=new ResizeObserver(e=>{const t=e[0].contentRect;t.width===a.size.width&&t.height===a.size.height||(a.size.width=t.width,a.size.height=t.height,a.callback(a.size))}),a.observer.observe(e),e.__onResizeObserver=a}},beforeUnmount(e){if(e.__onResizeObserver){const t=e.__onResizeObserver["observer"];t.unobserve(e),delete e.__onResizeObserver}}};function He(t,a,{scrollArea:e,pane:n}){if(!a){const s="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(s),new Error(s)}const r=Fe.reactive({width:0,height:0}),o=Fe.ref(null);function u({width:e,height:t}){r.width=e,r.height=t}const l=Fe.computed(()=>{return!0!==t.noScroll&&e.value&&n.value&&r.height?e.value.offsetWidth-n.value.offsetWidth:0});function d(){}function i(){const e={ref:o,role:"complementary",lang:t.locale,class:{"q-calendar--dark":!0===t.dark,"q-calendar":!0,"q-calendar__bordered":!0===t.bordered}};return Fe.withDirectives(Fe.h("div",e,[a()]),[[Ne,u]])}return{rootRef:o,scrollWidth:l,__initCalendar:d,__renderCalendar:i}}const Le={modelValue:{type:String,default:Oe(),validator:e=>""===e||k(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>2===e.length},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;e.forEach(e=>{!0!==["day","date","weekday","interval","time","resource","task"].includes(e)&&(t=!1)});return t}}};function Re(r,{startDate:e,endDate:t,times:a}){const n=Fe.computed(()=>ae(r.weekdays)),o=Fe.computed(()=>qe(e.value)),u=Fe.computed(()=>{if("0000-00-00"===t.value)return f(o.value);return qe(t.value)}),l=Fe.computed(()=>{const a={timeZone:"UTC",day:"numeric"};return oe(r.locale,(e,t)=>a)}),d=Fe.computed(()=>{const a={timeZone:"UTC",weekday:"long"};const n={timeZone:"UTC",weekday:"short"};return oe(r.locale,(e,t)=>t?n:a)}),i=Fe.computed(()=>{const t={timeZone:"UTC",dateStyle:"full"};return oe(r.locale,e=>t)});function s(e,t){return e&&e.length>0&&e.includes(t.date)}function c(e,t){const a={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=Me(t),r=Me(Ae(e[0])),o=Me(Ae(e[1]));a.firstDay=r===n,a.lastDay=o===n,a.betweenDays=r<n&&o>n}return a}function v(e,t=!1,a=[],n=[],r=!1){const o=s(a,e),{firstDay:u,lastDay:l,betweenDays:d}=c(n,e);return{"q-past-day":!0!==u&&!0!==d&&!0!==l&&!0!==o&&!0!==t&&e.past,"q-future-day":!0!==u&&!0!==d&&!0!==l&&!0!==o&&!0!==t&&e.future,"q-outside":t,"q-current-day":e.current,"q-selected":o,"q-range-first":!0===u,"q-range":!0===d,"q-range-last":!0===l,"q-range-hover":!0===r&&(!0===u||!0===l||!0===d),"q-disabled-day disabled":!0===e.disabled}}function m(e){return z(e,r.weekdays,a.today)}function f(e){return $(e,r.weekdays,a.today)}function y(e){}return{weekdaySkips:n,parsedStart:o,parsedEnd:u,dayFormatter:l,weekdayFormatter:d,ariaDateFormatter:i,arrayHasDate:s,checkDays:c,getRelativeClasses:v,startOfWeek:m,endOfWeek:f,dayStyleDefault:y}}function Ue(e,t){e!==window?e.scrollTop=t:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t)}function Be(e,t){e!==window?e.scrollLeft=t:window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)}function Ve(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Ye(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Ze(n,r,o=0){const u=void 0===arguments[3]?performance.now():arguments[3],l=Ve(n);o<=0?l!==r&&Ue(n,r):requestAnimationFrame(e=>{const t=e-u;const a=l+(r-l)/Math.max(t,o)*t;Ue(n,a);a!==r&&Ze(n,r,o-t,e)})}function ze(n,r,o=0){const u=void 0===arguments[3]?performance.now():arguments[3],l=Ye(n);o<=0?l!==r&&Be(n,r):requestAnimationFrame(e=>{const t=e-u;const a=l+(r-l)/Math.max(t,o)*t;setHorizontalScroll(n,a);a!==r&&ze(n,r,o-t,e)})}const $e={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:de},dayMinHeight:{type:[Number,String],default:40,validator:de}};function Pe(o,{weekdaySkips:e,times:t,scrollArea:n,parsedStart:a,parsedEnd:r,maxDays:u,size:l,headerColumnRef:d}){const i=Fe.computed(()=>parseInt(o.intervalStart,10)),v=Fe.computed(()=>parseInt(o.intervalMinutes,10)),s=Fe.computed(()=>parseInt(o.intervalCount,10)),m=Fe.computed(()=>parseFloat(o.intervalHeight)),f=Fe.computed(()=>{let e=0;o.cellWidth?e=o.cellWidth:l.width>0&&d.value&&(e=d.value.offsetWidth/(o.columnCount>1?o.columnCount:u.value));return e}),c=Fe.computed(()=>i.value*v.value),y=Fe.computed(()=>s.value*m.value),h=Fe.computed(()=>s.value*f.value),p=Fe.computed(()=>b(a.value)),g=Fe.computed(()=>D(r.value)),w=Fe.computed(()=>{return ne(a.value,r.value,t.today,e.value,o.disabledBefore,o.disabledAfter,o.disabledWeekdays,o.disabledDays,u.value)}),k=Fe.computed(()=>{return w.value.map(e=>re(e,i.value,v.value,s.value,t.now))});function b(e){return z(e,o.weekdays,t.today)}function D(e){return $(e,o.weekdays,t.today)}function _(e,t){return e&&e.length>0&&e.includes(Q(t))}function T(e,t){const a={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=X(t),r=X(Ae(e[0])),o=X(Ae(e[1]));a.firstDay=r===n,a.lastDay=o===n,a.betweenDays=r<n&&o>n}return a}function I(e,t=[],a=[]){const n=_(t,e),{firstDay:r,lastDay:o,betweenDays:u}=T(a,e);return{"q-selected":n,"q-range-first":!0===r,"q-range":!0===u,"q-range-last":!0===o,"q-disabled-interval disabled":!0===e.disabled}}function C(e,t=0,a){return[]}const S=Fe.computed(()=>{const a={timeZone:"UTC",hour12:!o.hour24Format,hour:"2-digit",minute:"2-digit"};const n={timeZone:"UTC",hour12:!o.hour24Format,hour:"numeric",minute:"2-digit"};const r={timeZone:"UTC",hour12:!o.hour24Format,hour:"numeric"};return oe(o.locale,(e,t)=>t?0===e.minute?r:n:a)}),F=Fe.computed(()=>{const t={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return oe(o.locale,e=>t)});function O(e){const t=k.value[0][0],a=t.hour===e.hour&&t.minute===e.minute;return!a&&0===e.minute}function A(e){}function q(e){}function M(e,t,a=!1,n=void 0){let r=K(t);const o=e.currentTarget.getBoundingClientRect(),u=e,l=e,d=u.changedTouches||u.touches,i=(d&&d[0]?d[0]:l).clientY,s=(i-o.top)/m.value,c=Math.floor((a?Math.floor(s):s)*v.value);return 0!==c&&(r=me(r,{minute:c})),n&&j(r,n,!0),r}function x(e,t,a=!1,n=void 0){let r=K(t);const o=e.currentTarget.getBoundingClientRect(),u=e,l=e,d=u.changedTouches||u.touches,i=(d&&d[0]?d[0]:l).clientY,s=(i-o.top)/m.value,c=Math.floor((a?Math.floor(s):s)*v.value);return 0!==c&&(r=me(r,{minute:c})),n&&j(r,n,!0),r}function E(e,t,a=!1,n=void 0){let r=K(t);const o=e.currentTarget.getBoundingClientRect(),u=e,l=e,d=u.changedTouches||u.touches,i=(d&&d[0]?d[0]:l).clientX,s=(i-o.left)/f.value,c=Math.floor((a?Math.floor(s):s)*v.value);return 0!==c&&(r=me(r,{minute:c})),n&&j(r,n,!0),r}function W(e,t){const a={timestamp:e};return a.timeStartPos=Y,a.timeDurationHeight=R,void 0!==t&&(a.columnIndex=t),a}function N(e,t){const a={timestamp:K(e)};return a.timeStartPosX=Z,a.timeDurationWidth=U,void 0!==t&&(a.index=t),a}function H(e,t=0){const a=Y(e);return!(!1===a||!n.value)&&(Ze(n.value,a,t),!0)}function L(e,t=0){const a=Z(e);return!(!1===a||!n.value)&&(ze(n.value,a,t),!0)}function R(e){return e/v.value*m.value}function U(e){return e/v.value*f.value}function B(e){return parseInt(e,10)*v.value/m.value}function V(e){return parseInt(e,10)*v.value/f.value}function Y(e,t=!0){const a=P(e);if(!1===a)return!1;const n=c.value,r=s.value*v.value,o=(a-n)/r;let u=o*y.value;return t&&(u<0&&(u=0),u>y.value&&(u=y.value)),u}function Z(e,t=!0){const a=P(e);if(!1===a)return!1;const n=c.value,r=s.value*v.value,o=(a-n)/r;let u=o*h.value;return t&&(u<0&&(u=0),u>h.value&&(u=h.value)),u}return{parsedIntervalStart:i,parsedIntervalMinutes:v,parsedIntervalCount:s,parsedIntervalHeight:m,parsedCellWidth:f,parsedStartMinute:c,bodyHeight:y,bodyWidth:h,parsedWeekStart:p,parsedWeekEnd:g,days:w,intervals:k,intervalFormatter:S,ariaDateTimeFormatter:F,arrayHasDateTime:_,checkIntervals:T,getIntervalClasses:I,getResourceClasses:C,showIntervalLabelDefault:O,showResourceLabelDefault:A,styleDefault:q,getTimestampAtEventInterval:M,getTimestampAtEvent:x,getTimestampAtEventX:E,getScopeForSlot:W,getScopeForSlotX:N,scrollToTime:H,scrollToTimeX:L,timeDurationHeight:R,timeDurationWidth:U,heightToMinutes:B,widthToMinutes:V,timeStartPos:Y,timeStartPosX:Z}}const Xe={columnCount:{type:[Number,String],default:0,validator:de},columnIndexStart:{type:[Number,String],default:0,validator:de}},je={maxDays:{type:Number,default:1}},Ke={now:{type:String,validator:e=>""===e||k(e),default:""}};function Qe(e){const t=Fe.reactive({now:qe("0000-00-00 00:00"),today:qe("0000-00-00")}),a=Fe.computed(()=>e.now?qe(e.now):o());function n(){t.now.current=t.today.current=!0,t.now.past=t.today.past=!1,t.now.future=t.today.future=!1}function r(){const e=a.value||o();u(e,t.now),l(e,t.now),u(e,t.today)}function o(){return S(new Date)}function u(e,t){e.date!==t.date&&(t.year=e.year,t.month=e.month,t.day=e.day,t.weekday=e.weekday,t.date=e.date)}function l(e,t){e.time!==t.time&&(t.hour=e.hour,t.minute=e.minute,t.time=e.time)}return Fe.watch(()=>a,e=>r()),{times:t,parsedNow:a,setCurrent:n,updateCurrent:r,getNow:o,updateDay:u,updateTime:l}}function Je(r,{parsedView:o,parsedValue:u,times:l}){const e=Fe.computed(()=>{const e=u.value;let t=r.maxDays;let a=e;let n=e;switch(o.value){case"month":a=I(e),n=C(e),t=U(a.year,a.month);break;case"week":case"week-agenda":case"week-scheduler":a=z(e,r.weekdays,l.today),n=$(a,r.weekdays,l.today),t=r.weekdays.length;break;case"day":case"scheduler":case"agenda":n=G(K(n),Z,t>1?t-1:t,r.weekdays),W(n);break;case"month-interval":case"month-scheduler":case"month-agenda":a=I(e),n=C(e),W(n),t=U(a.year,a.month);break;case"resource":t=1,n=G(K(n),Z,t,r.weekdays),W(n);break}return{start:a,end:n,maxDays:t}});return{renderValues:e}}const Ge=e=>e.replace(/(-\w)/g,e=>e[1].toUpperCase());let et,tt;function at(e,a){const t={};for(const n in e){const r=e[n],o=Ge("on-"+n);if(void 0===et)return void console.warn("$listeners has not been set up");if(void 0!==et.value[o]){const u="on"+r.event.charAt(0).toUpperCase()+r.event.slice(1),l=e=>{const t=e;(void 0===r.button||t.buttons>0&&t.button===r.button)&&(r.prevent&&t.preventDefault(),r.stop&&t.stopPropagation(),tt(n,a(t,n)));return r.result};u in t?Array.isArray(t[u])?t[u].push(l):t[u]=[t[u],l]:t[u]=l}}return t}function nt(e,t){return at(rt(e),t)}function rt(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function ot(e){return Object.keys(rt(e))}function ut(e,t){return tt=e,et=t,{getMouseEventHandlers:at,getDefaultMouseEventHandlers:nt,getMouseEventName:rt,getRawMouseEvents:ot}}const lt=["moved"];function dt(l,{parsedView:d,parsedValue:i,weekdaySkips:s,direction:c,maxDays:v,times:m,emittedValue:f,emit:y}){function e(a=1){if(0!==a){let e=K(i.value);const n=a>0,r=n?Z:J,o=n?h:p;let t=n?a:-a;c.value=n?"next":"prev";const u=s.value.filter(e=>0!==e).length;while(--t>=0)switch(d.value){case"month":e.day=o,r(e),q(e);while(0===s.value[e.weekday])e=me(e,{day:!0===n?1:-1});break;case"week":case"week-agenda":case"week-scheduler":ee(e,r,u,l.weekdays);break;case"day":case"scheduler":case"agenda":ee(e,r,v.value,l.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":e.day=o,r(e);break;case"resource":ee(e,r,v.value,l.weekdays);break}q(e),W(e),M(e),j(e,m.now),f.value=e.date,y("moved",e)}else f.value=Oe()}return{move:e}}const it=/^on[A-Z]/;function st(e=Fe.getCurrentInstance()){return{emitListeners:Fe.computed(()=>{const t={};void 0!==e.vnode&&null!==e.vnode&&null!==e.vnode.props&&Object.keys(e.vnode.props).forEach(e=>{!0===it.test(e)&&(t[e]=!0)});return t})}}function ct(){return[Fe.h("span",{ariaHidden:"true",class:"q-calendar__focus-helper"})]}function vt(e,t,a){const n=!0===e.focusable&&!0===e.focusType.includes("date");return t.tabindex=!0===n?0:-1,Fe.h("button",t,[a,!0===n&&ct()])}const mt={cellWidth:[Number,String]};function ft(e){const t=Fe.computed(()=>void 0!==e.cellWidth);return{isSticky:t}}const yt=["change"];function ht(a,{days:n,lastStart:r,lastEnd:o}){function e(){if(n.value&&n.value.length>0){const e=n.value[0].date,t=n.value[n.value.length-1].date;if(null===r.value||null===o.value||e!==r.value||t!==o.value)return r.value=e,o.value=t,a("change",{start:e,end:t,days:n.value}),!0}return!1}return{checkChange:e}}function pt(){function e(t,{bubbles:a=!1,cancelable:n=!1}={}){try{return new CustomEvent(t,{bubbles:a,cancelable:n})}catch(e){const r=document.createEvent("Event");return r.initEvent(t,a,n),r}}function t(e,t){return[].concat(t).includes(e.keyCode)}return{createEvent:e,isKeyCode:t}}const gt=pt()["isKeyCode"],wt={useNavigation:Boolean};function kt(a,{rootRef:n,focusRef:r,focusValue:o,datesRef:u,parsedView:l,emittedValue:d,weekdaySkips:i,direction:s,times:c}){let e=!1;function t(){!0!==e&&document&&(e=!0,document.addEventListener("keyup",h),document.addEventListener("keydown",y))}function v(){document&&(document.removeEventListener("keyup",h),document.removeEventListener("keydown",y),e=!1)}function m(e){if(void 0===e)return!1;if(document){const t=document.activeElement;if(t!==document.body&&!0===n.value.contains(t))return!0}return!1}function f(){let e=0;const t=setInterval(()=>{u.value[r.value]?(u.value[r.value].focus(),50!==++e&&document.activeElement!==u.value[r.value]||clearInterval(t)):clearInterval(t)},250)}function y(e){m(e)&&gt(e,[33,34,35,36,37,38,39,40])&&(e.stopPropagation(),e.preventDefault())}function h(e){if(m(e)&&gt(e,[33,34,35,36,37,38,39,40]))switch(e.keyCode){case 33:b();break;case 34:D();break;case 35:T();break;case 36:_();break;case 37:w();break;case 38:p();break;case 39:k();break;case 40:g();break}}function p(e){let t=K(o.value);if("month"===l.value){if(t=me(t,{day:-7}),o.value.month!==t.month)return s.value="prev",void(d.value=t.date)}else"day"!==l.value&&"week"!==l.value&&"month-interval"!==l.value||(t=me(t,{minute:parseInt(a.intervalMinutes)}));s.value="prev",r.value=t.date}function g(e){let t=K(o.value);if("month"===l.value){if(t=me(t,{day:7}),o.value.month!==t.month)return s.value="next",void(d.value=t.date)}else"day"!==l.value&&"week"!==l.value&&"month-interval"!==l.value||(t=me(t,{minute:parseInt(a.intervalMinutes)}));s.value="next",r.value=t.date}function w(e){let t=K(o.value);s.value="prev";do{t=me(t,{day:-1})}while(0===i.value[t.weekday]);if("month"===l.value||"month-interval"===l.value){if(o.value.month!==t.month)return void(d.value=t.date)}else if("week"===l.value){if(t.weekday>o.value.weekday)return void(d.value=t.date)}else if("day"===l.value)return void(d.value=t.date);r.value=t.date}function k(e){let t=K(o.value);s.value="next";do{t=me(t,{day:1})}while(0===i.value[t.weekday]);if("month"===l.value||"month-interval"===l.value){if(o.value.month!==t.month)return void(d.value=t.date)}else if("week"===l.value){if(t.weekday<o.value.weekday)return void(d.value=t.date)}else if("day"===l.value)return void(d.value=t.date);r.value=t.date}function b(e){let t=K(o.value);if("month"===l.value||"month-interval"===l.value){t=me(t,{month:-1});const a=t.day<=15?1:-1;while(0===i.value[t.weekday])t=me(t,{day:a})}else"day"===l.value?t=me(t,{day:-1}):"week"===l.value&&(t=me(t,{day:-7}));s.value="prev",r.value=t.date}function D(e){let t=K(o.value);if("month"===l.value||"month-interval"===l.value){t=me(t,{month:1});const a=t.day<=15?1:-1;while(0===i.value[t.weekday])t=me(t,{day:a})}else"day"===l.value?t=me(t,{day:1}):"week"===l.value&&(t=me(t,{day:7}));s.value="next",r.value=t.date}function _(e){let t=K(o.value);"month"===l.value||"month-interval"===l.value?t=I(t):"week"===l.value&&(t=z(t,a.weekdays,c.today));while(0===i.value[t.weekday])t=me(t,{day:-1});r.value=t.date}function T(e){let t=K(o.value);"month"===l.value||"month-interval"===l.value?t=C(t):"week"===l.value&&(t=$(t,a.weekdays,c.today));while(0===i.value[t.weekday])t=me(t,{day:-1});r.value=t.date}return Fe.onBeforeUnmount(()=>{v()}),Fe.watch(()=>a.useNavigation,e=>{(!0===e?t:v)()}),!0===a.useNavigation&&t(),{startNavigation:t,endNavigation:v,tryFocus:f}}var bt=Fe.defineComponent({name:"QCalendarAgenda",directives:[Ne],props:{...Le,...$e,...Xe,...je,...Ke,...mt,...wt},emits:["update:model-value",...yt,...lt,...ot("-date"),...ot("-head-day"),...ot("-time")],setup(v,{slots:m,emit:l,expose:e}){const t=Fe.ref(null),a=Fe.ref(null),n=Fe.ref(null),f=Fe.ref(null),r=Fe.ref(null),y=Fe.ref({}),o=Fe.ref({}),u=Fe.ref({}),d=Fe.ref("next"),i=Fe.ref(Oe()),s=Fe.ref("0000-00-00"),c=Fe.ref(0),h=Fe.ref(v.modelValue),p=Fe.reactive({width:0,height:0}),g=Fe.ref(!1),w=Fe.ref(null),k=Fe.ref(null);Fe.watch(()=>v.view,()=>{c.value=0});const b=Fe.computed(()=>{if("month"===v.view)return"month-interval";return v.view}),D=Fe.getCurrentInstance();if(null===D)throw new Error("current instance is null");const _=st(D)["emitListeners"],T=ft(v)["isSticky"];Fe.watch(T,e=>{});const{times:I,setCurrent:C,updateCurrent:S}=Qe(v);S(),C();const{weekdaySkips:F,parsedStart:O,parsedEnd:A,dayFormatter:q,weekdayFormatter:M,ariaDateFormatter:x,dayStyleDefault:E,getRelativeClasses:W}=Re(v,{startDate:i,endDate:s,times:I}),N=Fe.computed(()=>{return qe(v.modelValue,I.now)||O.value||I.today});r.value=N.value,f.value=N.value.date;const H=Je(v,{parsedView:b,parsedValue:N,times:I})["renderValues"],{rootRef:L,scrollWidth:R,__initCalendar:U,__renderCalendar:B}=He(v,Se,{scrollArea:t,pane:a}),{days:V,parsedCellWidth:Y,getScopeForSlot:Z}=Pe(v,{weekdaySkips:F,times:I,scrollArea:t,parsedStart:O,parsedEnd:A,maxDays:c,size:p,headerColumnRef:n}),z=dt(v,{parsedView:b,parsedValue:N,weekdaySkips:F,direction:d,maxDays:c,times:I,emittedValue:h,emit:l})["move"],$=ut(l,_)["getDefaultMouseEventHandlers"],P=ht(l,{days:V,lastStart:w,lastEnd:k})["checkChange"],X=pt()["isKeyCode"],j=kt(v,{rootRef:L,focusRef:f,focusValue:r,datesRef:y,days:V,parsedView:b,parsedValue:N,emittedValue:h,weekdaySkips:F,direction:d,times:I})["tryFocus"],K=Fe.computed(()=>{return V.value.length+(!0===Q.value?v.leftColumnOptions.length:0)+(!0===J.value?v.rightColumnOptions.length:0)+V.value.length===1&&parseInt(v.columnCount,10)>0?parseInt(v.columnCount,10):0}),Q=Fe.computed(()=>{return void 0!==v.leftColumnOptions&&Array.isArray(v.leftColumnOptions)}),J=Fe.computed(()=>{return void 0!==v.rightColumnOptions&&Array.isArray(v.rightColumnOptions)}),G=Fe.computed(()=>{if(L.value){const e=p.width||L.value.getBoundingClientRect().width;if(e&&K.value)return(e-R.value)/K.value+"px"}return 100/K.value+"%"});function ee(){h.value=Oe()}function te(e=1){z(e)}function ae(e=1){z(-e)}function ne({width:e,height:t}){p.width=e,p.height=t}function re(e){return e.date===h.value}function oe(a,n){const e=m["head-column"],t={column:a,index:n,days:V.value},r=!0===T.value?v.cellWidth:G.value,o=!0===v.focusable&&v.focusType.includes("weekday"),u=void 0!==v.columnOptionsId?a[v.columnOptionsId]:void 0,l={maxWidth:r,width:r};return Fe.h("div",{key:u,tabindex:!0===o?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===o},style:l,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-column",t)?g.value=u:g.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-column",t)?g.value=u:g.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-column",t)?g.value=u:g.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-column",t)?g.value=u:g.value="")},...$("-head-column",(e,t)=>{return{scope:{column:a,index:n},event:e}})},[!0!==v.noDefaultHeaderText&&ue(a),e&&e(t),ct()])}function ue(e){const t=m["head-column-label"],a={column:e},n=void 0!==v.columnOptionsLabel?e[v.columnOptionsLabel]:e.label,r=Fe.h("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[t&&t({scope:a}),!t&&Fe.h("span",{class:"ellipsis"},n)]);return"stacked"===v.dateHeader?r:Fe.h("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[r])}function le(){return Fe.h("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":!0===T.value},style:{marginRight:R.value+"px"}},[de()])}function de(){return Fe.h("div",{ref:n,class:{"q-calendar-agenda__head--days__column":!0}},[ie(),se()])}function ie(){return Fe.h("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ce()])}function se(){const e=m["head-days-events"];return Fe.nextTick(()=>{if(u.value&&0===v.columnCount&&window)try{const e=window.getComputedStyle(u.value);o.value.parentElement.style.height=e.height,o.value.style.height=e.height}catch(e){}}),Fe.h("div",{class:{"q-calendar-agenda__head--days__event":!0}},[e&&Fe.h("div",{ref:o,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:V.value,ref:u}})]),...ve()])}function ce(){return 1===V.value.length&&parseInt(v.columnCount,10)>0?[!0===Q.value&&v.leftColumnOptions.map((e,t)=>oe(e,t)),Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,t)=>t+parseInt(v.columnIndexStart,10)).map(e=>me(V.value[0],e)),!0===J.value&&v.rightColumnOptions.map((e,t)=>oe(e,t))]:[!0===Q.value&&v.leftColumnOptions.map((e,t)=>oe(e,t)),V.value.map(e=>me(e)),!0===J.value&&v.rightColumnOptions.map((e,t)=>oe(e,t))]}function ve(){return 1===V.value.length&&parseInt(v.columnCount,10)>0?[Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,t)=>t+parseInt(v.columnIndexStart,10)).map(e=>ye(V.value[0],e))]:V.value.map(e=>ye(e))}function me(t,e){const a=m["head-day"],n=m["head-date"],r=!0!==v.noActiveDate&&re(t),o=Z(t,e);o.activeDate=r,o.droppable=g.value===t.date,o.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(t.weekday);const u=!0===T.value?v.cellWidth:G.value,l=v.weekdayStyle||E,d={width:u,maxWidth:u,...l({scope:o})};!0===T.value&&(d.minWidth=u);const i="function"===typeof v.weekdayClass?v.weekdayClass({scope:o}):{},s=!0===v.focusable&&v.focusType.includes("weekday"),c={key:t.date+(void 0!==e?"-"+e:""),ref:e=>{y.value[t.date]=e},tabindex:!0===s?0:-1,class:{"q-calendar-agenda__head--day":!0,...i,...W(t),"q-active-date":r,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===s},style:d,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-day",o)?g.value=t.date:g.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-day",o)?g.value=t.date:g.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-day",o)?g.value=t.date:g.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-day",o)?g.value=t.date:g.value="")},onFocus:e=>{!0===s&&(f.value=t.date)},...$("-head-day",e=>{return{scope:o,event:e}})};return Fe.h("div",c,[void 0!==a&&a({scope:o}),void 0===a&&fe(t),void 0===a&&n&&n({scope:o}),ct()])}function fe(e){return"stacked"===v.dateHeader?[!0!==v.noDefaultHeaderText&&he(e),!0!==v.noDefaultHeaderBtn&&ge(e)]:"inline"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,Fe.h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderText&&he(e),!0!==v.noDefaultHeaderBtn&&ge(e)])):"inverted"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,Fe.h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderBtn&&ge(e),!0!==v.noDefaultHeaderText&&he(e)])):void 0}function ye(e,t){const a=m["head-day-event"],n=!0!==v.noActiveDate&&re(e),r=Z(e,t);r.activeDate=n,r.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(e.weekday);const o=!0===T.value?v.cellWidth:G.value,u={width:o,maxWidth:o};return!0===T.value&&(u.minWidth=o),Fe.h("div",{key:"event-"+e.date+(void 0!==t?"-"+t:""),class:{"q-calendar-agenda__head--day__event":!0,...W(e),"q-active-date":n},style:u},[a&&a({scope:r})])}function he(e){const t=m["head-weekday-label"],a=Z(e);a.shortWeekdayLabel=v.shortWeekdayLabel;const n={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return Fe.h("div",n,t&&t({scope:a})||pe(e,v.shortWeekdayLabel))}function pe(e,t){const a=M.value(e,t||v.weekdayBreakpoints[0]>0&&Y.value<=v.weekdayBreakpoints[0]);return Fe.h("span",{class:"q-calendar__ellipsis"},v.weekdayBreakpoints[1]>0&&Y.value<=v.weekdayBreakpoints[1]?We(a,v.minWeekdayLabel):a)}function ge(e){const t={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+v.dateAlign]:!0}};return Fe.h("div",t,we(e))}function we(a){const e=!0!==v.noActiveDate&&re(a),t=q.value(a,!1),n=m["head-day-label"],r=m["head-day-button"],o={dayLabel:t,timestamp:a,activeDate:e,disabled:!!v.disabledWeekdays&&v.disabledWeekdays.includes(a.weekday)},u={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===v.dateType,"q-calendar__button--rounded":"rounded"===v.dateType,"q-calendar__button--bordered":!0===a.current,"q-calendar__focusable":!0},disabled:a.disabled,onKeydown:e=>{!0!==a.disabled&&X(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&X(e,[13,32])&&(h.value=a.date,void 0!==_.value.onClickDate&&l("click-date",{scope:o}))},...$("-date",(e,t)=>{"click-date"!==t&&"contextmenu-date"!==t||(h.value=a.date,"click-date"===t&&e.preventDefault());return{scope:o,event:e}})};return!0!==v.noAria&&(u.ariaLabel=x.value(a)),r?r({scope:o}):vt(v,u,n?n({scope:o}):t)}function ke(){return Fe.h("div",{class:"q-calendar-agenda__body"},[be()])}function be(){return!0===T.value?Fe.h("div",{ref:t,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[_e()]):!0===v.noScroll?De():Fe.h("div",{ref:t,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[De()])}function De(){return Fe.h("div",{ref:a,class:"q-calendar-agenda__pane"},[_e()])}function _e(){const e=m["day-container"];return Fe.h("div",{class:"q-calendar-agenda__day-container"},[!0===T.value&&!0!==v.noHeader&&le(),Fe.h("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...Te()]),e&&e({scope:{days:V.value}})])}function Te(){return 1===V.value.length&&parseInt(v.columnCount,10)>0?[!0===Q.value&&v.leftColumnOptions.map((e,t)=>Ie(e,t)),Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,t)=>t+parseInt(v.columnIndexStart,10)).map(e=>Ce(V.value[0],0,e)),!0===J.value&&v.rightColumnOptions.map((e,t)=>Ie(e,t))]:[!0===Q.value&&v.leftColumnOptions.map((e,t)=>Ie(e,t)),V.value.map((e,t)=>Ce(e)),!0===J.value&&v.rightColumnOptions.map((e,t)=>Ie(e,t))]}function Ie(e,t){const a=m.column,n={column:e,days:V.value,index:t},r=!0===T.value?v.cellWidth:G.value,o=!0===v.focusable&&v.focusType.includes("day"),u=void 0!==v.columnOptionsId?e[v.columnOptionsId]:void 0;return Fe.h("div",{key:u,tabindex:!0===o?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===o},style:{maxWidth:r,width:r},onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"column",n)?g.value=u:g.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"column",n)?g.value=u:g.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"column",n)?g.value=u:g.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"column",n)?g.value=u:g.value="")},...$("-column",(e,t)=>{return{scope:n,event:e}})},[a&&a({scope:n})])}function Ce(e,t,a){const n=m.day,r=Z(e,a),o=!0===T.value?v.cellWidth:G.value,u={width:o,maxWidth:o};return!0===T.value&&(u.minWidth=o),u.height=parseInt(v.dayHeight,10)>0?xe(parseInt(v.dayHeight,10)):"auto",parseInt(v.dayMinHeight,10)>0&&(u.minHeight=xe(parseInt(v.dayMinHeight,10))),Fe.h("div",{key:e.date+(void 0!==a?":"+a:""),class:{"q-calendar-agenda__day":!0,...W(e)},style:u},[n&&n({scope:r})])}function Se(){const{start:e,end:t,maxDays:a}=H.value;i.value===e.date&&s.value===t.date&&c.value===a||(i.value=e.date,s.value=t.date,c.value=a);const n=p.width>0,r=Fe.withDirectives(Fe.h("div",{class:"q-calendar-agenda",key:i.value},[!0===n&&!0!==T.value&&!0!==v.noHeader&&le(),!0===n&&ke()]),[[Ne,ne]]);if(!0!==v.animated)return r;{const o="q-calendar--"+("prev"===d.value?v.transitionPrev:v.transitionNext);return Fe.h(Fe.Transition,{name:o,appear:!0},()=>r)}}return Fe.watch([V],P,{deep:!0,immediate:!0}),Fe.watch(()=>v.modelValue,(e,t)=>{if(h.value!==e){if(!0===v.animated){const a=Me(Ae(e)),n=Me(Ae(t));d.value=a>=n?"next":"prev"}h.value=e}f.value=e}),Fe.watch(h,(e,t)=>{if(h.value!==v.modelValue){if(!0===v.animated){const a=Me(Ae(e)),n=Me(Ae(t));d.value=a>=n?"next":"prev"}l("update:model-value",e)}}),Fe.watch(f,e=>{e&&(r.value=qe(e))}),Fe.watch(r,e=>{y.value[f.value]?y.value[f.value].focus():j()}),Fe.watch(()=>v.maxDays,e=>{c.value=e}),Fe.onBeforeUpdate(()=>{y.value={}}),Fe.onMounted(()=>{U()}),e({prev:ae,next:te,move:z,moveToToday:ee,updateCurrent:S}),()=>B()}});const Dt="4.0.0-beta.12";var _t={version:Dt,QCalendarAgenda:bt,PARSE_REGEX:a,PARSE_DATE:e,PARSE_TIME:n,DAYS_IN_MONTH:r,DAYS_IN_MONTH_LEAP:o,DAYS_IN_MONTH_MIN:t,DAYS_IN_MONTH_MAX:h,MONTH_MAX:l,MONTH_MIN:u,DAY_MIN:p,DAYS_IN_WEEK:d,MINUTES_IN_HOUR:i,HOURS_IN_DAY:s,FIRST_HOUR:c,MILLISECONDS_IN_MINUTE:v,MILLISECONDS_IN_HOUR:m,MILLISECONDS_IN_DAY:f,MILLISECONDS_IN_WEEK:y,Timestamp:g,TimeObject:w,today:Oe,getStartOfWeek:z,getEndOfWeek:$,getStartOfMonth:I,getEndOfMonth:C,parseTime:P,validateTimestamp:k,parsed:Ae,parseTimestamp:qe,parseDate:S,getDayIdentifier:Me,getTimeIdentifier:F,getDayTimeIdentifier:X,diffTimestamp:O,updateRelative:j,updateMinutes:A,updateWeekday:q,updateDayOfYear:M,updateWorkWeek:x,updateDisabled:E,updateFormatted:W,getDayOfYear:N,getWorkWeek:H,getWeekday:L,isLeapYear:R,daysInMonth:U,copyTimestamp:K,padNumber:B,getDate:V,getTime:Y,getDateTime:Q,nextDay:Z,prevDay:J,moveRelativeDays:G,relativeDays:ee,findWeekday:te,getWeekdaySkips:ae,createDayList:ne,createIntervalList:re,createNativeLocaleFormatter:oe,makeDate:ue,makeDateTime:le,validateNumber:de,maxTimestamp:ie,minTimestamp:se,isBetweenDates:ce,isOverlappingDates:ve,daysBetween:be,weeksBetween:De,addToDate:me,compareTimestamps:b,compareDate:D,compareTime:_,compareDateTime:T,getWeekdayFormatter:Te,getWeekdayNames:Ie,getMonthFormatter:Ce,getMonthNames:Se,convertToUnit:xe,indexOf:Ee,install(e){e.component(bt.name,bt)}};return _t});