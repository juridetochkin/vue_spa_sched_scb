/*!
 * @quasar/quasar-ui-qcalendar v4.0.0-beta.12
 * (c) 2021 Jeff Galbraith <jeff@quasar.dev>
 * Released under the MIT License.
 */
(function(e,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a(require("vue")):"function"===typeof define&&define.amd?define(["vue"],a):(e="undefined"!==typeof globalThis?globalThis:e||self,e.index=a(e.Vue))})(this,function(ze){"use strict";const t=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,e=/^(\d{4})-(\d{1,2})(-(\d{1,2}))/,n=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31],d=[0,31,29,31,30,31,30,31,31,30,31,30,31],a=28,f=31,o=12,l=1,m=1,u=7,i=60,s=24,c=0,v=6e4,y=36e5,p=864e5,h=6048e5,g={date:"",time:"",year:0,month:0,day:0,weekday:0,hour:0,minute:0,doy:0,workweek:0,hasDay:!1,hasTime:!1,past:!1,current:!1,future:!1,disabled:!1,currentWeekday:!1},w={hour:0,minute:0};function Xe(){const e=new Date,a=""+(e.getMonth()+1),t=""+e.getDate(),n=e.getFullYear();return[n,N(a,2),N(t,2)].join("-")}function z(e,a,t){let n=$(e);if(1===n.day||0===n.weekday)while(!a.includes(n.weekday))n=U(n);return n=J(n,a[0],j),n=E(n),t&&(n=Z(n,t,n.hasTime)),n}function X(e,a,t){let n=$(e);const r=R(n.year,n.month);if(r===n.day||6===n.weekday)while(!a.includes(n.weekday))n=j(n);return n=J(n,a[a.length-1],U),n=E(n),t&&(n=Z(n,t,n.hasTime)),n}function F(e){const a=$(e);return a.day=m,E(a),a}function x(e){const a=$(e);return a.day=R(a.year,a.month),E(a),a}function Y(e){const a=Object.prototype.toString.call(e);switch(a){case"[object Number]":return e;case"[object String]":{const t=n.exec(e);return t?60*parseInt(t[1],10)+parseInt(t[3]||0,10):!1}case"[object Object]":return"number"!==typeof e.hour||"number"!==typeof e.minute?!1:60*e.hour+e.minute}return!1}function k(e){return!!t.exec(e)}function _(e,a){return JSON.stringify(e)===JSON.stringify(a)}function b(e,a){return P(e)===P(a)}function D(e,a){return K(e)===K(a)}function q(e,a){return Qe(e)===Qe(a)}function Ye(e){const a=t.exec(e);return a?{date:e,time:N(parseInt(a[6],10)||0,2)+":"+N(parseInt(a[8],10)||0,2),year:parseInt(a[1],10),month:parseInt(a[2],10),day:parseInt(a[4],10)||1,hour:isNaN(parseInt(a[6],10))?0:parseInt(a[6],10),minute:isNaN(parseInt(a[8],10))?0:parseInt(a[8],10),weekday:0,doy:0,workweek:0,hasDay:!!a[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function Ze(e,a){let t=Ye(e);return null===t?null:(t=E(t),a&&Z(t,a,t.hasTime),t)}function C(e,a=!1){const t=a?"UTC":"";return E({date:N(e[`get${t}FullYear`](),4)+"-"+N(e[`get${t}Month`]()+1,2)+"-"+N(e[`get${t}Date`](),2),time:N(e[`get${t}Hours`]()||0,2)+":"+N(e[`get${t}Minutes`]()||0,2),year:e[`get${t}FullYear`](),month:e[`get${t}Month`]()+1,day:e[`get${t}Date`](),hour:e[`get${t}Hours`](),minute:e[`get${t}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function $e(e){return 1e8*e.year+1e6*e.month+1e4*e.day}function S(e){return 100*e.hour+e.minute}function je(e){return $e(e)+S(e)}function T(e,a,t){const n=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute),r=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute);return!0===t&&r<n?0:r-n}function Z(e,a,t=!1){let n=$e(a),r=$e(e),d=n===r;return e.hasTime&&t&&d&&(n=S(a),r=S(e),d=n===r),e.past=r<n,e.current=d,e.future=r>n,e.currentWeekday=e.weekday===a.weekday,e}function I(e,a,t){return e.hasTime=!0,e.hour=Math.floor(a/i),e.minute=a%i,e.time=K(e),t&&Z(e,t,!0),e}function W(e){return e.weekday=V(e),e}function A(e){return e.doy=O(e),e}function H(e){return e.workweek=M(e),e}function L(e,a,t,n,r){const d=$e(e);if(void 0!==a){const l=$e(Ye(a));d<=l&&(e.disabled=!0)}if(!0!==e.disabled&&void 0!==t){const o=$e(Ye(t));d>=o&&(e.disabled=!0)}if(!0!==e.disabled&&Array.isArray(n)&&n.length>0)for(const u in n)if(n[u]===e.weekday){e.disabled=!0;break}if(!0!==e.disabled&&Array.isArray(r)&&r.length>0)for(const i in r)if(Array.isArray(r[i])&&2===r[i].length){const s=Ye(r[i][0]),c=Ye(r[i][1]);if(ie(e,s,c)){e.disabled=!0;break}}else{const v=$e(Ze(r[i]+" 00:00"));if(v===d){e.disabled=!0;break}}return e}function E(e){return e.hasTime=!0,e.time=K(e),e.date=P(e),e.weekday=V(e),e.doy=O(e),e.workweek=M(e),e}function O(e){if(0!==e.year)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function M(e){0===e.year&&(e=Ze(Xe()));const a=re(e);if(isNaN(a))return 0;const t=new Date(a.getFullYear(),a.getMonth(),a.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);const d=(t-n)/h;return 1+Math.floor(d)}function V(e){let a=e.weekday;if(e.hasDay){const t=Math.floor,n=e.day,r=(e.month+9)%o+1,d=t(e.year/100),l=e.year%100-(e.month<=2?1:0);a=((n+t(2.6*r-.2)-2*d+l+t(l/4)+t(d/4))%7+7)%7}return a}function B(e){return 1===(e%4===0^e%100===0^e%400===0)}function R(e,a){return(B(e)?d:r)[a]}function $(e){return{...e}}function N(e,a){let t=String(e);while(t.length<a)t="0"+t;return t}function P(e){let a=N(e.year,4)+"-"+N(e.month,2);return e.hasDay&&(a+="-"+N(e.day,2)),a}function K(e){return e.hasTime?N(e.hour,2)+":"+N(e.minute,2):""}function Qe(e){return P(e)+" "+(e.hasTime?K(e):"00:00")}function U(e){return++e.day,e.weekday=(e.weekday+1)%u,e.day>a&&e.day>R(e.year,e.month)&&(e.day=m,++e.month,e.month>o&&(e.month=l,++e.year)),e}function j(e){return e.day--,e.weekday=(e.weekday+6)%u,e.day<m&&(e.month--,e.month<l&&(e.year--,e.month=o),e.day=R(e.year,e.month)),e}function Q(e,a=U,t=1,n=[0,1,2,3,4,5,6]){return G(e,a,t,n)}function G(e,a=U,t=1,n=[0,1,2,3,4,5,6]){n.includes(e.weekday)||0!==e.weekday||a!==U||++t;while(--t>=0)e=a(e),n.length<7&&!n.includes(e.weekday)&&++t;return e}function J(e,a,t=U,n=6){while(e.weekday!==a&&--n>=0)e=t(e);return e}function ee(a){const e=[1,1,1,1,1,1,1],n=[0,0,0,0,0,0,0];for(let e=0;e<a.length;++e)n[a[e]]=1;for(let t=0;t<u;++t){let a=1;for(let e=1;e<u;++e){const r=(t+e)%u;if(n[r])break;++a}e[t]=n[t]*a}return e}function ae(e,a,t,n,r,d,l=[],o=[],u=42,i=0){const s=$e(a),c=[];let v=$(e),y=0,p=y===s;if(s<$e(e))return c;while((!p||c.length<i)&&c.length<u){if(y=$e(v),p=p||y>s&&c.length>=i,p)break;if(0!==n[v.weekday]){const h=$(v);E(h),Z(h,t),L(h,r,d,l,o),c.push(h),v=G(v,U)}else v=G(v,U)}return c}function te(a,t,n,r,d){const l=[];for(let e=0;e<r;++e){const o=(t+e)*n,u=$(a);l.push(I(u,o,d))}return l}function ne(n,r){const d=(e,a)=>"";return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?d:(a,e)=>{try{const t=new Intl.DateTimeFormat(n||void 0,r(a,e));return t.format(de(a))}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> `+Qe(a)),d}}}function re(e,a=!0){return a?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function de(e,a=!0){return a?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function le(e){return isFinite(parseInt(e,10))}function oe(e,a=!1){const t=!0===a?je:$e;return e.reduce((e,a)=>{return Math.max(t(e),t(a))===t(e)?e:a})}function ue(e,a=!1){const t=!0===a?je:$e;return e.reduce((e,a)=>{return Math.min(t(e),t(a))===t(e)?e:a})}function ie(e,a,t,n){const r=$e(e)+(!0===n?S(e):0),d=$e(a)+(!0===n?S(a):0),l=$e(t)+(!0===n?S(t):0);return r>=d&&r<=l}function se(e,a,t,n){const r=$e(e),d=$e(a),l=$e(t),o=$e(n);return r>=l&&r<=o||d>=l&&d<=o||l>=r&&d>=o}function ce(e,a){const n=$(e);let r;return ye(a,(e,a)=>{if(void 0!==n[a]){n[a]+=parseInt(e,10);const t=ve.indexOf(a);-1!==t&&(r=void 0===r?t:Math.min(t,r))}}),void 0!==r&&ge(n,ve[r]),E(n),n}const ve=["minute","hour","day","month"];function ye(a,t){Object.keys(a).forEach(e=>t(a[e],e))}function pe(e){if(e.minute>=i||e.minute<0){const a=Math.floor(e.minute/i);e.minute-=a*i,e.hour+=a,he(e)}return e}function he(e){if(e.hour>=s||e.hour<0){const a=Math.floor(e.hour/s);e.hour-=a*s,e.day+=a,fe(e)}return e}function fe(a){me(a);let t=R(a.year,a.month);if(a.day>t){++a.month,a.month>o&&me(a);let e=a.day-t;t=R(a.year,a.month);do{e>t&&(++a.month,a.month>o&&me(a),e-=t,t=R(a.year,a.month))}while(e>t);a.day=e}else if(a.day<=0){let e=-1*a.day;--a.month,a.month<=0&&me(a),t=R(a.year,a.month);do{e>t&&(e-=t,--a.month,a.month<=0&&me(a),t=R(a.year,a.month))}while(e>t);a.day=t-e}return a}function me(e){if(e.month>o){const a=Math.floor(e.month/o);e.month=e.month%o,e.year+=a}else e.month<l&&(e.month+=o,--e.year);return e}function ge(e,a){switch(a){case"minute":return pe(e);case"hour":return he(e);case"day":return fe(e);case"month":return me(e)}}function we(e,a){const t=T(e,a,!0);return Math.floor(t/p)}function ke(e,a){let t=$(e),n=$(a);return t=J(t,0),n=J(n,6),Math.ceil(we(t,n)/u)}const _e={Sun:new Date("2020-01-05T00:00:00.000Z"),Mon:new Date("2020-01-06T00:00:00.000Z"),Tue:new Date("2020-01-07T00:00:00.000Z"),Wed:new Date("2020-01-08T00:00:00.000Z"),Thu:new Date("2020-01-09T00:00:00.000Z"),Fri:new Date("2020-01-10T00:00:00.000Z"),Sat:new Date("2020-01-11T00:00:00.000Z")};function be(){const r=(e,a)=>"",d={long:{timeZone:"UTC",weekday:"long"},short:{timeZone:"UTC",weekday:"short"},narrow:{timeZone:"UTC",weekday:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?r:e;function e(a,e,t){try{const n=new Intl.DateTimeFormat(t||void 0,d[e]||d["long"]);return n.format(_e[a])}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> day of week: `+a),r}}}function De(a,t){const e=Object.keys(_e),n=be();return e.map(e=>n(e,a,t))}function qe(){const d=(e,a)=>"",l={long:{timeZone:"UTC",month:"long"},short:{timeZone:"UTC",month:"short"},narrow:{timeZone:"UTC",month:"narrow"}};return"undefined"===typeof Intl||"undefined"===typeof Intl.DateTimeFormat?d:e;function e(a,e,t){try{const n=new Intl.DateTimeFormat(t||void 0,l[e]||l["long"]),r=new Date;return r.setDate(1),r.setMonth(a),n.format(r)}catch(e){return console.error(`Intl.DateTimeFormat: ${e.message} -> month: `+a),d}}}function Fe(a,t){const n=qe();return[...Array(12).keys()].map(e=>n(e,a,t))}function Ge(e,a="px"){if(null!=e&&""!==e)return isNaN(e)?String(e):"auto"===e?e:""+Number(e)+a}function xe(a,t){for(let e=0;e<a.length;e++)if(!0===t(a[e],e))return e;return-1}function Je(e,a){return 0===a?e:e.slice(0,a)}var ea={name:"ResizeObserver",mounted(e,{value:a}){if(a){const t={};t.callback=a,t.size={width:0,height:0},t.observer=new ResizeObserver(e=>{const a=e[0].contentRect;a.width===t.size.width&&a.height===t.size.height||(t.size.width=a.width,t.size.height=a.height,t.callback(t.size))}),t.observer.observe(e),e.__onResizeObserver=t}},beforeUnmount(e){if(e.__onResizeObserver){const a=e.__onResizeObserver["observer"];a.unobserve(e),delete e.__onResizeObserver}}};function aa(a,t,{scrollArea:e,pane:n}){if(!t){const s="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(s),new Error(s)}const r=ze.reactive({width:0,height:0}),d=ze.ref(null);function l({width:e,height:a}){r.width=e,r.height=a}const o=ze.computed(()=>{return!0!==a.noScroll&&e.value&&n.value&&r.height?e.value.offsetWidth-n.value.offsetWidth:0});function u(){}function i(){const e={ref:d,role:"complementary",lang:a.locale,class:{"q-calendar--dark":!0===a.dark,"q-calendar":!0,"q-calendar__bordered":!0===a.bordered}};return ze.withDirectives(ze.h("div",e,[t()]),[[ea,l]])}return{rootRef:d,scrollWidth:o,__initCalendar:u,__renderCalendar:i}}const Ce={modelValue:{type:String,default:Xe(),validator:e=>""===e||k(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>2===e.length},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let a=!0;e.forEach(e=>{!0!==["day","date","weekday","interval","time","resource","task"].includes(e)&&(a=!1)});return a}}};function ta(r,{startDate:e,endDate:a,times:t}){const n=ze.computed(()=>ee(r.weekdays)),d=ze.computed(()=>Ze(e.value)),l=ze.computed(()=>{if("0000-00-00"===a.value)return p(d.value);return Ze(a.value)}),o=ze.computed(()=>{const t={timeZone:"UTC",day:"numeric"};return ne(r.locale,(e,a)=>t)}),u=ze.computed(()=>{const t={timeZone:"UTC",weekday:"long"};const n={timeZone:"UTC",weekday:"short"};return ne(r.locale,(e,a)=>a?n:t)}),i=ze.computed(()=>{const a={timeZone:"UTC",dateStyle:"full"};return ne(r.locale,e=>a)});function s(e,a){return e&&e.length>0&&e.includes(a.date)}function c(e,a){const t={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=$e(a),r=$e(Ye(e[0])),d=$e(Ye(e[1]));t.firstDay=r===n,t.lastDay=d===n,t.betweenDays=r<n&&d>n}return t}function v(e,a=!1,t=[],n=[],r=!1){const d=s(t,e),{firstDay:l,lastDay:o,betweenDays:u}=c(n,e);return{"q-past-day":!0!==l&&!0!==u&&!0!==o&&!0!==d&&!0!==a&&e.past,"q-future-day":!0!==l&&!0!==u&&!0!==o&&!0!==d&&!0!==a&&e.future,"q-outside":a,"q-current-day":e.current,"q-selected":d,"q-range-first":!0===l,"q-range":!0===u,"q-range-last":!0===o,"q-range-hover":!0===r&&(!0===l||!0===o||!0===u),"q-disabled-day disabled":!0===e.disabled}}function y(e){return z(e,r.weekdays,t.today)}function p(e){return X(e,r.weekdays,t.today)}function h(e){}return{weekdaySkips:n,parsedStart:d,parsedEnd:l,dayFormatter:o,weekdayFormatter:u,ariaDateFormatter:i,arrayHasDate:s,checkDays:c,getRelativeClasses:v,startOfWeek:y,endOfWeek:p,dayStyleDefault:h}}function Se(e,a){e!==window?e.scrollTop=a:window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a)}function Te(e,a){e!==window?e.scrollLeft=a:window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)}function Ie(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function We(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function Ae(n,r,d=0){const l=void 0===arguments[3]?performance.now():arguments[3],o=Ie(n);d<=0?o!==r&&Se(n,r):requestAnimationFrame(e=>{const a=e-l;const t=o+(r-o)/Math.max(a,d)*a;Se(n,t);t!==r&&Ae(n,r,d-a,e)})}function He(n,r,d=0){const l=void 0===arguments[3]?performance.now():arguments[3],o=We(n);d<=0?o!==r&&Te(n,r):requestAnimationFrame(e=>{const a=e-l;const t=o+(r-o)/Math.max(a,d)*a;setHorizontalScroll(n,t);t!==r&&He(n,r,d-a,e)})}const Le={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:le},intervalMinutes:{type:[Number,String],default:60,validator:le},intervalStart:{type:[Number,String],default:0,validator:le},intervalCount:{type:[Number,String],default:24,validator:le},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Ee={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:le},resourceMinHeight:{type:[Number,String],default:70,validator:le},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},Oe={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:le},dayMinHeight:{type:[Number,String],default:40,validator:le}},Me={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:le},resourceMinHeight:{type:[Number,String],default:70,validator:le},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:le},noSticky:Boolean};function na(d,{weekdaySkips:e,times:a,scrollArea:n,parsedStart:t,parsedEnd:r,maxDays:l,size:o,headerColumnRef:u}){const i=ze.computed(()=>parseInt(d.intervalStart,10)),v=ze.computed(()=>parseInt(d.intervalMinutes,10)),s=ze.computed(()=>parseInt(d.intervalCount,10)),y=ze.computed(()=>parseFloat(d.intervalHeight)),p=ze.computed(()=>{let e=0;d.cellWidth?e=d.cellWidth:o.width>0&&u.value&&(e=u.value.offsetWidth/(d.columnCount>1?d.columnCount:l.value));return e}),c=ze.computed(()=>i.value*v.value),h=ze.computed(()=>s.value*y.value),f=ze.computed(()=>s.value*p.value),m=ze.computed(()=>_(t.value)),g=ze.computed(()=>b(r.value)),w=ze.computed(()=>{return ae(t.value,r.value,a.today,e.value,d.disabledBefore,d.disabledAfter,d.disabledWeekdays,d.disabledDays,l.value)}),k=ze.computed(()=>{return w.value.map(e=>te(e,i.value,v.value,s.value,a.now))});function _(e){return z(e,d.weekdays,a.today)}function b(e){return X(e,d.weekdays,a.today)}function D(e,a){return e&&e.length>0&&e.includes(Qe(a))}function q(e,a){const t={firstDay:!1,betweenDays:!1,lastDay:!1};if(e&&2===e.length){const n=je(a),r=je(Ye(e[0])),d=je(Ye(e[1]));t.firstDay=r===n,t.lastDay=d===n,t.betweenDays=r<n&&d>n}return t}function F(e,a=[],t=[]){const n=D(a,e),{firstDay:r,lastDay:d,betweenDays:l}=q(t,e);return{"q-selected":n,"q-range-first":!0===r,"q-range":!0===l,"q-range-last":!0===d,"q-disabled-interval disabled":!0===e.disabled}}function x(e,a=0,t){return[]}const C=ze.computed(()=>{const t={timeZone:"UTC",hour12:!d.hour24Format,hour:"2-digit",minute:"2-digit"};const n={timeZone:"UTC",hour12:!d.hour24Format,hour:"numeric",minute:"2-digit"};const r={timeZone:"UTC",hour12:!d.hour24Format,hour:"numeric"};return ne(d.locale,(e,a)=>a?0===e.minute?r:n:t)}),S=ze.computed(()=>{const a={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return ne(d.locale,e=>a)});function T(e){const a=k.value[0][0],t=a.hour===e.hour&&a.minute===e.minute;return!t&&0===e.minute}function I(e){}function W(e){}function A(e,a,t=!1,n=void 0){let r=$(a);const d=e.currentTarget.getBoundingClientRect(),l=e,o=e,u=l.changedTouches||l.touches,i=(u&&u[0]?u[0]:o).clientY,s=(i-d.top)/y.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=ce(r,{minute:c})),n&&Z(r,n,!0),r}function H(e,a,t=!1,n=void 0){let r=$(a);const d=e.currentTarget.getBoundingClientRect(),l=e,o=e,u=l.changedTouches||l.touches,i=(u&&u[0]?u[0]:o).clientY,s=(i-d.top)/y.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=ce(r,{minute:c})),n&&Z(r,n,!0),r}function L(e,a,t=!1,n=void 0){let r=$(a);const d=e.currentTarget.getBoundingClientRect(),l=e,o=e,u=l.changedTouches||l.touches,i=(u&&u[0]?u[0]:o).clientX,s=(i-d.left)/p.value,c=Math.floor((t?Math.floor(s):s)*v.value);return 0!==c&&(r=ce(r,{minute:c})),n&&Z(r,n,!0),r}function E(e,a){const t={timestamp:e};return t.timeStartPos=K,t.timeDurationHeight=B,void 0!==a&&(t.columnIndex=a),t}function O(e,a){const t={timestamp:$(e)};return t.timeStartPosX=U,t.timeDurationWidth=R,void 0!==a&&(t.index=a),t}function M(e,a=0){const t=K(e);return!(!1===t||!n.value)&&(Ae(n.value,t,a),!0)}function V(e,a=0){const t=U(e);return!(!1===t||!n.value)&&(He(n.value,t,a),!0)}function B(e){return e/v.value*y.value}function R(e){return e/v.value*p.value}function N(e){return parseInt(e,10)*v.value/y.value}function P(e){return parseInt(e,10)*v.value/p.value}function K(e,a=!0){const t=Y(e);if(!1===t)return!1;const n=c.value,r=s.value*v.value,d=(t-n)/r;let l=d*h.value;return a&&(l<0&&(l=0),l>h.value&&(l=h.value)),l}function U(e,a=!0){const t=Y(e);if(!1===t)return!1;const n=c.value,r=s.value*v.value,d=(t-n)/r;let l=d*f.value;return a&&(l<0&&(l=0),l>f.value&&(l=f.value)),l}return{parsedIntervalStart:i,parsedIntervalMinutes:v,parsedIntervalCount:s,parsedIntervalHeight:y,parsedCellWidth:p,parsedStartMinute:c,bodyHeight:h,bodyWidth:f,parsedWeekStart:m,parsedWeekEnd:g,days:w,intervals:k,intervalFormatter:C,ariaDateTimeFormatter:S,arrayHasDateTime:D,checkIntervals:q,getIntervalClasses:F,getResourceClasses:x,showIntervalLabelDefault:T,showResourceLabelDefault:I,styleDefault:W,getTimestampAtEventInterval:A,getTimestampAtEvent:H,getTimestampAtEventX:L,getScopeForSlot:E,getScopeForSlotX:O,scrollToTime:M,scrollToTimeX:V,timeDurationHeight:B,timeDurationWidth:R,heightToMinutes:N,widthToMinutes:P,timeStartPos:K,timeStartPosX:U}}const Ve={columnCount:{type:[Number,String],default:0,validator:le},columnIndexStart:{type:[Number,String],default:0,validator:le}},Be={maxDays:{type:Number,default:1}},Re={now:{type:String,validator:e=>""===e||k(e),default:""}};function ra(e){const a=ze.reactive({now:Ze("0000-00-00 00:00"),today:Ze("0000-00-00")}),t=ze.computed(()=>e.now?Ze(e.now):d());function n(){a.now.current=a.today.current=!0,a.now.past=a.today.past=!1,a.now.future=a.today.future=!1}function r(){const e=t.value||d();l(e,a.now),o(e,a.now),l(e,a.today)}function d(){return C(new Date)}function l(e,a){e.date!==a.date&&(a.year=e.year,a.month=e.month,a.day=e.day,a.weekday=e.weekday,a.date=e.date)}function o(e,a){e.time!==a.time&&(a.hour=e.hour,a.minute=e.minute,a.time=e.time)}return ze.watch(()=>t,e=>r()),{times:a,parsedNow:t,setCurrent:n,updateCurrent:r,getNow:d,updateDay:l,updateTime:o}}function da(r,{parsedView:d,parsedValue:l,times:o}){const e=ze.computed(()=>{const e=l.value;let a=r.maxDays;let t=e;let n=e;switch(d.value){case"month":t=F(e),n=x(e),a=R(t.year,t.month);break;case"week":case"week-agenda":case"week-scheduler":t=z(e,r.weekdays,o.today),n=X(t,r.weekdays,o.today),a=r.weekdays.length;break;case"day":case"scheduler":case"agenda":n=Q($(n),U,a>1?a-1:a,r.weekdays),E(n);break;case"month-interval":case"month-scheduler":case"month-agenda":t=F(e),n=x(e),E(n),a=R(t.year,t.month);break;case"resource":a=1,n=Q($(n),U,a,r.weekdays),E(n);break}return{start:t,end:n,maxDays:a}});return{renderValues:e}}const Ne=e=>e.replace(/(-\w)/g,e=>e[1].toUpperCase());let Pe,Ke;function Ue(e,t){const a={};for(const n in e){const r=e[n],d=Ne("on-"+n);if(void 0===Pe)return void console.warn("$listeners has not been set up");if(void 0!==Pe.value[d]){const l="on"+r.event.charAt(0).toUpperCase()+r.event.slice(1),o=e=>{const a=e;(void 0===r.button||a.buttons>0&&a.button===r.button)&&(r.prevent&&a.preventDefault(),r.stop&&a.stopPropagation(),Ke(n,t(a,n)));return r.result};l in a?Array.isArray(a[l])?a[l].push(o):a[l]=[a[l],o]:a[l]=o}}return a}function la(e,a){return Ue(oa(e),a)}function oa(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function ua(e){return Object.keys(oa(e))}function ia(e,a){return Ke=e,Pe=a,{getMouseEventHandlers:Ue,getDefaultMouseEventHandlers:la,getMouseEventName:oa,getRawMouseEvents:ua}}const sa=["moved"];function ca(o,{parsedView:u,parsedValue:i,weekdaySkips:s,direction:c,maxDays:v,times:y,emittedValue:p,emit:h}){function e(t=1){if(0!==t){let e=$(i.value);const n=t>0,r=n?U:j,d=n?f:m;let a=n?t:-t;c.value=n?"next":"prev";const l=s.value.filter(e=>0!==e).length;while(--a>=0)switch(u.value){case"month":e.day=d,r(e),W(e);while(0===s.value[e.weekday])e=ce(e,{day:!0===n?1:-1});break;case"week":case"week-agenda":case"week-scheduler":G(e,r,l,o.weekdays);break;case"day":case"scheduler":case"agenda":G(e,r,v.value,o.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":e.day=d,r(e);break;case"resource":G(e,r,v.value,o.weekdays);break}W(e),E(e),A(e),Z(e,y.now),p.value=e.date,h("moved",e)}else p.value=Xe()}return{move:e}}const va=/^on[A-Z]/;function ya(e=ze.getCurrentInstance()){return{emitListeners:ze.computed(()=>{const a={};void 0!==e.vnode&&null!==e.vnode&&null!==e.vnode.props&&Object.keys(e.vnode.props).forEach(e=>{!0===va.test(e)&&(a[e]=!0)});return a})}}function pa(){return[ze.h("span",{ariaHidden:"true",class:"q-calendar__focus-helper"})]}function ha(e,a,t){const n=!0===e.focusable&&!0===e.focusType.includes("date");return a.tabindex=!0===n?0:-1,ze.h("button",a,[t,!0===n&&pa()])}const fa={cellWidth:[Number,String]};function ma(e){const a=ze.computed(()=>void 0!==e.cellWidth);return{isSticky:a}}const ga=["change"];function wa(t,{days:n,lastStart:r,lastEnd:d}){function e(){if(n.value&&n.value.length>0){const e=n.value[0].date,a=n.value[n.value.length-1].date;if(null===r.value||null===d.value||e!==r.value||a!==d.value)return r.value=e,d.value=a,t("change",{start:e,end:a,days:n.value}),!0}return!1}return{checkChange:e}}function ka(){function e(a,{bubbles:t=!1,cancelable:n=!1}={}){try{return new CustomEvent(a,{bubbles:t,cancelable:n})}catch(e){const r=document.createEvent("Event");return r.initEvent(a,t,n),r}}function a(e,a){return[].concat(a).includes(e.keyCode)}return{createEvent:e,isKeyCode:a}}const _a=ka()["isKeyCode"],ba={useNavigation:Boolean};function Da(t,{rootRef:n,focusRef:r,focusValue:d,datesRef:l,parsedView:o,emittedValue:u,weekdaySkips:i,direction:s,times:c}){let e=!1;function a(){!0!==e&&document&&(e=!0,document.addEventListener("keyup",f),document.addEventListener("keydown",h))}function v(){document&&(document.removeEventListener("keyup",f),document.removeEventListener("keydown",h),e=!1)}function y(e){if(void 0===e)return!1;if(document){const a=document.activeElement;if(a!==document.body&&!0===n.value.contains(a))return!0}return!1}function p(){let e=0;const a=setInterval(()=>{l.value[r.value]?(l.value[r.value].focus(),50!==++e&&document.activeElement!==l.value[r.value]||clearInterval(a)):clearInterval(a)},250)}function h(e){y(e)&&_a(e,[33,34,35,36,37,38,39,40])&&(e.stopPropagation(),e.preventDefault())}function f(e){if(y(e)&&_a(e,[33,34,35,36,37,38,39,40]))switch(e.keyCode){case 33:_();break;case 34:b();break;case 35:q();break;case 36:D();break;case 37:w();break;case 38:m();break;case 39:k();break;case 40:g();break}}function m(e){let a=$(d.value);if("month"===o.value){if(a=ce(a,{day:-7}),d.value.month!==a.month)return s.value="prev",void(u.value=a.date)}else"day"!==o.value&&"week"!==o.value&&"month-interval"!==o.value||(a=ce(a,{minute:parseInt(t.intervalMinutes)}));s.value="prev",r.value=a.date}function g(e){let a=$(d.value);if("month"===o.value){if(a=ce(a,{day:7}),d.value.month!==a.month)return s.value="next",void(u.value=a.date)}else"day"!==o.value&&"week"!==o.value&&"month-interval"!==o.value||(a=ce(a,{minute:parseInt(t.intervalMinutes)}));s.value="next",r.value=a.date}function w(e){let a=$(d.value);s.value="prev";do{a=ce(a,{day:-1})}while(0===i.value[a.weekday]);if("month"===o.value||"month-interval"===o.value){if(d.value.month!==a.month)return void(u.value=a.date)}else if("week"===o.value){if(a.weekday>d.value.weekday)return void(u.value=a.date)}else if("day"===o.value)return void(u.value=a.date);r.value=a.date}function k(e){let a=$(d.value);s.value="next";do{a=ce(a,{day:1})}while(0===i.value[a.weekday]);if("month"===o.value||"month-interval"===o.value){if(d.value.month!==a.month)return void(u.value=a.date)}else if("week"===o.value){if(a.weekday<d.value.weekday)return void(u.value=a.date)}else if("day"===o.value)return void(u.value=a.date);r.value=a.date}function _(e){let a=$(d.value);if("month"===o.value||"month-interval"===o.value){a=ce(a,{month:-1});const t=a.day<=15?1:-1;while(0===i.value[a.weekday])a=ce(a,{day:t})}else"day"===o.value?a=ce(a,{day:-1}):"week"===o.value&&(a=ce(a,{day:-7}));s.value="prev",r.value=a.date}function b(e){let a=$(d.value);if("month"===o.value||"month-interval"===o.value){a=ce(a,{month:1});const t=a.day<=15?1:-1;while(0===i.value[a.weekday])a=ce(a,{day:t})}else"day"===o.value?a=ce(a,{day:1}):"week"===o.value&&(a=ce(a,{day:7}));s.value="next",r.value=a.date}function D(e){let a=$(d.value);"month"===o.value||"month-interval"===o.value?a=F(a):"week"===o.value&&(a=z(a,t.weekdays,c.today));while(0===i.value[a.weekday])a=ce(a,{day:-1});r.value=a.date}function q(e){let a=$(d.value);"month"===o.value||"month-interval"===o.value?a=x(a):"week"===o.value&&(a=X(a,t.weekdays,c.today));while(0===i.value[a.weekday])a=ce(a,{day:-1});r.value=a.date}return ze.onBeforeUnmount(()=>{v()}),ze.watch(()=>t.useNavigation,e=>{(!0===e?a:v)()}),!0===t.useNavigation&&a(),{startNavigation:a,endNavigation:v,tryFocus:p}}var qa=ze.defineComponent({name:"QCalendarAgenda",directives:[ea],props:{...Ce,...Oe,...Ve,...Be,...Re,...fa,...ba},emits:["update:model-value",...ga,...sa,...ua("-date"),...ua("-head-day"),...ua("-time")],setup(v,{slots:y,emit:o,expose:e}){const a=ze.ref(null),t=ze.ref(null),n=ze.ref(null),p=ze.ref(null),r=ze.ref(null),h=ze.ref({}),d=ze.ref({}),l=ze.ref({}),u=ze.ref("next"),i=ze.ref(Xe()),s=ze.ref("0000-00-00"),c=ze.ref(0),f=ze.ref(v.modelValue),m=ze.reactive({width:0,height:0}),g=ze.ref(!1),w=ze.ref(null),k=ze.ref(null);ze.watch(()=>v.view,()=>{c.value=0});const _=ze.computed(()=>{if("month"===v.view)return"month-interval";return v.view}),b=ze.getCurrentInstance();if(null===b)throw new Error("current instance is null");const D=ya(b)["emitListeners"],q=ma(v)["isSticky"];ze.watch(q,e=>{});const{times:F,setCurrent:x,updateCurrent:C}=ra(v);C(),x();const{weekdaySkips:S,parsedStart:T,parsedEnd:I,dayFormatter:W,weekdayFormatter:A,ariaDateFormatter:H,dayStyleDefault:L,getRelativeClasses:E}=ta(v,{startDate:i,endDate:s,times:F}),O=ze.computed(()=>{return Ze(v.modelValue,F.now)||T.value||F.today});r.value=O.value,p.value=O.value.date;const M=da(v,{parsedView:_,parsedValue:O,times:F})["renderValues"],{rootRef:V,scrollWidth:B,__initCalendar:R,__renderCalendar:N}=aa(v,Ce,{scrollArea:a,pane:t}),{days:P,parsedCellWidth:K,getScopeForSlot:U}=na(v,{weekdaySkips:S,times:F,scrollArea:a,parsedStart:T,parsedEnd:I,maxDays:c,size:m,headerColumnRef:n}),z=ca(v,{parsedView:_,parsedValue:O,weekdaySkips:S,direction:u,maxDays:c,times:F,emittedValue:f,emit:o})["move"],X=ia(o,D)["getDefaultMouseEventHandlers"],Y=wa(o,{days:P,lastStart:w,lastEnd:k})["checkChange"],Z=ka()["isKeyCode"],$=Da(v,{rootRef:V,focusRef:p,focusValue:r,datesRef:h,days:P,parsedView:_,parsedValue:O,emittedValue:f,weekdaySkips:S,direction:u,times:F})["tryFocus"],j=ze.computed(()=>{return P.value.length+(!0===Q.value?v.leftColumnOptions.length:0)+(!0===G.value?v.rightColumnOptions.length:0)+P.value.length===1&&parseInt(v.columnCount,10)>0?parseInt(v.columnCount,10):0}),Q=ze.computed(()=>{return void 0!==v.leftColumnOptions&&Array.isArray(v.leftColumnOptions)}),G=ze.computed(()=>{return void 0!==v.rightColumnOptions&&Array.isArray(v.rightColumnOptions)}),J=ze.computed(()=>{if(V.value){const e=m.width||V.value.getBoundingClientRect().width;if(e&&j.value)return(e-B.value)/j.value+"px"}return 100/j.value+"%"});function ee(){f.value=Xe()}function ae(e=1){z(e)}function te(e=1){z(-e)}function ne({width:e,height:a}){m.width=e,m.height=a}function re(e){return e.date===f.value}function de(t,n){const e=y["head-column"],a={column:t,index:n,days:P.value},r=!0===q.value?v.cellWidth:J.value,d=!0===v.focusable&&v.focusType.includes("weekday"),l=void 0!==v.columnOptionsId?t[v.columnOptionsId]:void 0,o={maxWidth:r,width:r};return ze.h("div",{key:l,tabindex:!0===d?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===d},style:o,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-column",a)?g.value=l:g.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-column",a)?g.value=l:g.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-column",a)?g.value=l:g.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-column",a)?g.value=l:g.value="")},...X("-head-column",(e,a)=>{return{scope:{column:t,index:n},event:e}})},[!0!==v.noDefaultHeaderText&&le(t),e&&e(a),pa()])}function le(e){const a=y["head-column-label"],t={column:e},n=void 0!==v.columnOptionsLabel?e[v.columnOptionsLabel]:e.label,r=ze.h("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[a&&a({scope:t}),!a&&ze.h("span",{class:"ellipsis"},n)]);return"stacked"===v.dateHeader?r:ze.h("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[r])}function oe(){return ze.h("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":!0===q.value},style:{marginRight:B.value+"px"}},[ue()])}function ue(){return ze.h("div",{ref:n,class:{"q-calendar-agenda__head--days__column":!0}},[ie(),se()])}function ie(){return ze.h("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ce()])}function se(){const e=y["head-days-events"];return ze.nextTick(()=>{if(l.value&&0===v.columnCount&&window)try{const e=window.getComputedStyle(l.value);d.value.parentElement.style.height=e.height,d.value.style.height=e.height}catch(e){}}),ze.h("div",{class:{"q-calendar-agenda__head--days__event":!0}},[e&&ze.h("div",{ref:d,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:P.value,ref:l}})]),...ve()])}function ce(){return 1===P.value.length&&parseInt(v.columnCount,10)>0?[!0===Q.value&&v.leftColumnOptions.map((e,a)=>de(e,a)),Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,a)=>a+parseInt(v.columnIndexStart,10)).map(e=>ye(P.value[0],e)),!0===G.value&&v.rightColumnOptions.map((e,a)=>de(e,a))]:[!0===Q.value&&v.leftColumnOptions.map((e,a)=>de(e,a)),P.value.map(e=>ye(e)),!0===G.value&&v.rightColumnOptions.map((e,a)=>de(e,a))]}function ve(){return 1===P.value.length&&parseInt(v.columnCount,10)>0?[Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,a)=>a+parseInt(v.columnIndexStart,10)).map(e=>he(P.value[0],e))]:P.value.map(e=>he(e))}function ye(a,e){const t=y["head-day"],n=y["head-date"],r=!0!==v.noActiveDate&&re(a),d=U(a,e);d.activeDate=r,d.droppable=g.value===a.date,d.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(a.weekday);const l=!0===q.value?v.cellWidth:J.value,o=v.weekdayStyle||L,u={width:l,maxWidth:l,...o({scope:d})};!0===q.value&&(u.minWidth=l);const i="function"===typeof v.weekdayClass?v.weekdayClass({scope:d}):{},s=!0===v.focusable&&v.focusType.includes("weekday"),c={key:a.date+(void 0!==e?"-"+e:""),ref:e=>{h.value[a.date]=e},tabindex:!0===s?0:-1,class:{"q-calendar-agenda__head--day":!0,...i,...E(a),"q-active-date":r,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===s},style:u,onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"head-day",d)?g.value=a.date:g.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"head-day",d)?g.value=a.date:g.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"head-day",d)?g.value=a.date:g.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"head-day",d)?g.value=a.date:g.value="")},onFocus:e=>{!0===s&&(p.value=a.date)},...X("-head-day",e=>{return{scope:d,event:e}})};return ze.h("div",c,[void 0!==t&&t({scope:d}),void 0===t&&pe(a),void 0===t&&n&&n({scope:d}),pa()])}function pe(e){return"stacked"===v.dateHeader?[!0!==v.noDefaultHeaderText&&fe(e),!0!==v.noDefaultHeaderBtn&&ge(e)]:"inline"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderText&&fe(e),!0!==v.noDefaultHeaderBtn&&ge(e)])):"inverted"===v.dateHeader?("left"===v.weekdayAlign&&"right"===v.dateAlign||"right"===v.weekdayAlign&&v.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==v.noDefaultHeaderBtn&&ge(e),!0!==v.noDefaultHeaderText&&fe(e)])):void 0}function he(e,a){const t=y["head-day-event"],n=!0!==v.noActiveDate&&re(e),r=U(e,a);r.activeDate=n,r.disabled=!!v.disabledWeekdays&&v.disabledWeekdays.includes(e.weekday);const d=!0===q.value?v.cellWidth:J.value,l={width:d,maxWidth:d};return!0===q.value&&(l.minWidth=d),ze.h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-agenda__head--day__event":!0,...E(e),"q-active-date":n},style:l},[t&&t({scope:r})])}function fe(e){const a=y["head-weekday-label"],t=U(e);t.shortWeekdayLabel=v.shortWeekdayLabel;const n={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+v.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return ze.h("div",n,a&&a({scope:t})||me(e,v.shortWeekdayLabel))}function me(e,a){const t=A.value(e,a||v.weekdayBreakpoints[0]>0&&K.value<=v.weekdayBreakpoints[0]);return ze.h("span",{class:"q-calendar__ellipsis"},v.weekdayBreakpoints[1]>0&&K.value<=v.weekdayBreakpoints[1]?Je(t,v.minWeekdayLabel):t)}function ge(e){const a={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+v.dateAlign]:!0}};return ze.h("div",a,we(e))}function we(t){const e=!0!==v.noActiveDate&&re(t),a=W.value(t,!1),n=y["head-day-label"],r=y["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e,disabled:!!v.disabledWeekdays&&v.disabledWeekdays.includes(t.weekday)},l={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===v.dateType,"q-calendar__button--rounded":"rounded"===v.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&Z(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&Z(e,[13,32])&&(f.value=t.date,void 0!==D.value.onClickDate&&o("click-date",{scope:d}))},...X("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(f.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==v.noAria&&(l.ariaLabel=H.value(t)),r?r({scope:d}):ha(v,l,n?n({scope:d}):a)}function ke(){return ze.h("div",{class:"q-calendar-agenda__body"},[_e()])}function _e(){return!0===q.value?ze.h("div",{ref:a,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[De()]):!0===v.noScroll?be():ze.h("div",{ref:a,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[be()])}function be(){return ze.h("div",{ref:t,class:"q-calendar-agenda__pane"},[De()])}function De(){const e=y["day-container"];return ze.h("div",{class:"q-calendar-agenda__day-container"},[!0===q.value&&!0!==v.noHeader&&oe(),ze.h("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...qe()]),e&&e({scope:{days:P.value}})])}function qe(){return 1===P.value.length&&parseInt(v.columnCount,10)>0?[!0===Q.value&&v.leftColumnOptions.map((e,a)=>Fe(e,a)),Array.apply(null,new Array(parseInt(v.columnCount,10))).map((e,a)=>a+parseInt(v.columnIndexStart,10)).map(e=>xe(P.value[0],0,e)),!0===G.value&&v.rightColumnOptions.map((e,a)=>Fe(e,a))]:[!0===Q.value&&v.leftColumnOptions.map((e,a)=>Fe(e,a)),P.value.map((e,a)=>xe(e)),!0===G.value&&v.rightColumnOptions.map((e,a)=>Fe(e,a))]}function Fe(e,a){const t=y.column,n={column:e,days:P.value,index:a},r=!0===q.value?v.cellWidth:J.value,d=!0===v.focusable&&v.focusType.includes("day"),l=void 0!==v.columnOptionsId?e[v.columnOptionsId]:void 0;return ze.h("div",{key:l,tabindex:!0===d?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":!0===v.hoverable,"q-calendar__focusable":!0===d},style:{maxWidth:r,width:r},onDragenter:e=>{void 0!==v.dragEnterFunc&&"function"===typeof v.dragEnterFunc&&(!0===v.dragEnterFunc(e,"column",n)?g.value=l:g.value="")},onDragover:e=>{void 0!==v.dragOverFunc&&"function"===typeof v.dragOverFunc&&(!0===v.dragOverFunc(e,"column",n)?g.value=l:g.value="")},onDragleave:e=>{void 0!==v.dragLeaveFunc&&"function"===typeof v.dragLeaveFunc&&(!0===v.dragLeaveFunc(e,"column",n)?g.value=l:g.value="")},onDrop:e=>{void 0!==v.dropFunc&&"function"===typeof v.dropFunc&&(!0===v.dropFunc(e,"column",n)?g.value=l:g.value="")},...X("-column",(e,a)=>{return{scope:n,event:e}})},[t&&t({scope:n})])}function xe(e,a,t){const n=y.day,r=U(e,t),d=!0===q.value?v.cellWidth:J.value,l={width:d,maxWidth:d};return!0===q.value&&(l.minWidth=d),l.height=parseInt(v.dayHeight,10)>0?Ge(parseInt(v.dayHeight,10)):"auto",parseInt(v.dayMinHeight,10)>0&&(l.minHeight=Ge(parseInt(v.dayMinHeight,10))),ze.h("div",{key:e.date+(void 0!==t?":"+t:""),class:{"q-calendar-agenda__day":!0,...E(e)},style:l},[n&&n({scope:r})])}function Ce(){const{start:e,end:a,maxDays:t}=M.value;i.value===e.date&&s.value===a.date&&c.value===t||(i.value=e.date,s.value=a.date,c.value=t);const n=m.width>0,r=ze.withDirectives(ze.h("div",{class:"q-calendar-agenda",key:i.value},[!0===n&&!0!==q.value&&!0!==v.noHeader&&oe(),!0===n&&ke()]),[[ea,ne]]);if(!0!==v.animated)return r;{const d="q-calendar--"+("prev"===u.value?v.transitionPrev:v.transitionNext);return ze.h(ze.Transition,{name:d,appear:!0},()=>r)}}return ze.watch([P],Y,{deep:!0,immediate:!0}),ze.watch(()=>v.modelValue,(e,a)=>{if(f.value!==e){if(!0===v.animated){const t=$e(Ye(e)),n=$e(Ye(a));u.value=t>=n?"next":"prev"}f.value=e}p.value=e}),ze.watch(f,(e,a)=>{if(f.value!==v.modelValue){if(!0===v.animated){const t=$e(Ye(e)),n=$e(Ye(a));u.value=t>=n?"next":"prev"}o("update:model-value",e)}}),ze.watch(p,e=>{e&&(r.value=Ze(e))}),ze.watch(r,e=>{h.value[p.value]?h.value[p.value].focus():$()}),ze.watch(()=>v.maxDays,e=>{c.value=e}),ze.onBeforeUpdate(()=>{h.value={}}),ze.onMounted(()=>{R()}),e({prev:te,next:ae,move:z,moveToToday:ee,updateCurrent:C}),()=>N()}}),Fa=ze.defineComponent({name:"QCalendarDay",directives:[ea],props:{...Ce,...Le,...Ve,...Be,...Re,...fa,...ba},emits:["update:model-value",...ga,...sa,...ua("-date"),...ua("-interval"),...ua("-head-intervals"),...ua("-head-day"),...ua("-time")],setup(y,{slots:p,emit:c,expose:e}){const a=ze.ref(null),t=ze.ref(null),n=ze.ref(null),h=ze.ref(null),r=ze.ref(null),f=ze.ref({}),d=ze.ref({}),l=ze.ref({}),o=ze.ref("next"),u=ze.ref(y.modelValue||Xe()),i=ze.ref("0000-00-00"),s=ze.ref(0),m=ze.ref(y.modelValue),v=ze.reactive({width:0,height:0}),g=ze.ref(!1),w=ze.ref(!1),k=ze.ref(null),_=ze.ref(null);ze.watch(()=>y.view,()=>{s.value=0});const b=ze.computed(()=>{if("month"===y.view)return"month-interval";return y.view}),D=ze.getCurrentInstance();if(null===D)throw new Error("current instance is null");const q=ya(D)["emitListeners"],F=ma(y)["isSticky"],{times:x,setCurrent:C,updateCurrent:S}=ra(y);S(),C();const{weekdaySkips:T,parsedStart:I,parsedEnd:W,dayFormatter:A,weekdayFormatter:H,ariaDateFormatter:L,dayStyleDefault:E,getRelativeClasses:O}=ta(y,{startDate:u,endDate:i,times:x}),M=ze.computed(()=>{return Ze(y.modelValue,x.now)||I.value||x.today});r.value=M.value,h.value=M.value.date;const V=da(y,{parsedView:b,parsedValue:M,times:x})["renderValues"],{rootRef:B,scrollWidth:R,__initCalendar:N,__renderCalendar:P}=aa(y,Ue,{scrollArea:a,pane:t}),{days:K,intervals:U,intervalFormatter:z,ariaDateTimeFormatter:X,parsedCellWidth:Y,getIntervalClasses:Z,showIntervalLabelDefault:$,styleDefault:j,getTimestampAtEventInterval:Q,getTimestampAtEvent:G,getScopeForSlot:J,scrollToTime:ee,heightToMinutes:ae,timeDurationHeight:te,timeStartPos:ne}=na(y,{weekdaySkips:T,times:x,scrollArea:a,parsedStart:I,parsedEnd:W,maxDays:s,size:v,headerColumnRef:n}),re=ca(y,{parsedView:b,parsedValue:M,weekdaySkips:T,direction:o,maxDays:s,times:x,emittedValue:m,emit:c})["move"],de=ia(c,q)["getDefaultMouseEventHandlers"],le=wa(c,{days:K,lastStart:k,lastEnd:_})["checkChange"],oe=ka()["isKeyCode"],ue=Da(y,{rootRef:B,focusRef:h,focusValue:r,datesRef:f,days:K,parsedView:b,parsedValue:M,emittedValue:m,weekdaySkips:T,direction:o,times:x})["tryFocus"],ie=ze.computed(()=>{{if("day"===b.value&&parseInt(y.columnCount,10)>1)return parseInt(y.columnCount,10);if("day"===b.value&&y.maxDays&&y.maxDays>1)return y.maxDays}return K.value.length}),se=ze.computed(()=>{if(B.value)return parseInt(getComputedStyle(B.value).getPropertyValue("--calendar-intervals-width"),10);return 0}),ce=ze.computed(()=>{if(B.value){const e=v.width||B.value.getBoundingClientRect().width;if(e&&se.value&&ie.value)return(e-R.value-se.value)/ie.value+"px"}return 100/ie.value+"%"});function ve(){m.value=Xe()}function ye(e=1){re(e)}function pe(e=1){re(-e)}function he({width:e,height:a}){v.width=e,v.height=a}function fe(e){return e.date===m.value}function me(){return ze.h("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":!0===F.value},style:{marginRight:R.value+"px"}},[ge(),we()])}function ge(){const e=p["head-intervals"],a={timestamps:K.value,days:K.value,date:y.modelValue};return ze.h("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":!0===F.value},...de("-head-intervals",e=>{return{scope:a,event:e}})},[e&&e({scope:a})])}function we(){return ze.h("div",{ref:n,class:{"q-calendar-day__head--days__column":!0}},[ke(),_e()])}function ke(){return ze.h("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...be()])}function _e(){const e=p["head-days-events"];return ze.nextTick(()=>{if(l.value&&0===parseInt(y.columnCount,10)&&window)try{const e=window.getComputedStyle(l.value);d.value.parentElement.style.height=e.height,d.value.style.height=e.height}catch(e){}}),ze.h("div",{class:{"q-calendar-day__head--days__event":!0}},[e&&ze.h("div",{ref:d,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{days:K.value,ref:l}})]),...De()])}function be(){return 1===K.value.length&&parseInt(y.columnCount,10)>0?Array.apply(null,new Array(parseInt(y.columnCount,10))).map((e,a)=>a+parseInt(y.columnIndexStart,10)).map(e=>qe(K.value[0],e)):K.value.map(e=>qe(e))}function De(){return 1===K.value.length&&parseInt(y.columnCount,10)>0?Array.apply(null,new Array(parseInt(y.columnCount,10))).map((e,a)=>a+parseInt(y.columnIndexStart,10)).map(e=>xe(K.value[0],e)):K.value.map(e=>xe(e))}function qe(a,e){const t=p["head-day"],n=p["head-date"],r=!0!==y.noActiveDate&&fe(a),d=J(a,e);d.activeDate=r,d.droppable=g.value===a.date,d.disabled=!!y.disabledWeekdays&&y.disabledWeekdays.includes(a.weekday);const l=!0===F.value?y.cellWidth:ce.value,o=y.weekdayStyle||E,u={width:l,maxWidth:l,minWidth:l,...o({scope:d})};!0===F.value&&(u.minWidth=l);const i="function"===typeof y.weekdayClass?y.weekdayClass({scope:d}):{},s=!0===y.focusable&&y.focusType.includes("weekday"),c=a.date+(void 0!==e?"-"+e:""),v={key:c,ref:e=>{f.value[c]=e},tabindex:!0===s?0:-1,class:{"q-calendar-day__head--day":!0,...i,...O(a),"q-active-date":r,"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===s},style:u,onFocus:e=>{!0===s&&(h.value=c)},onKeydown:e=>{!0!==a.disabled&&oe(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&oe(e,[13,32])&&(m.value=a.date)},...de("-head-day",e=>{return{scope:d,event:e}}),onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"head-day",d)?g.value=a.date:g.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"head-day",d)?g.value=a.date:g.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"head-day",d)?g.value=a.date:g.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"head-day",d)?g.value=a.date:g.value="")}};return ze.h("div",v,[void 0!==t&&t({scope:d}),void 0===t&&We(a,e),void 0===t&&Fe(a),void 0===t&&n&&n({scope:d}),void 0===t&&Ae(a,e),pa()])}function Fe(e){return"stacked"===y.dateHeader?[!0!==y.noDefaultHeaderText&&Ce(e),!0!==y.noDefaultHeaderBtn&&Te(e)]:"inline"===y.dateHeader?("left"===y.weekdayAlign&&"right"===y.dateAlign||"right"===y.weekdayAlign&&y.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==y.noDefaultHeaderText&&Ce(e),!0!==y.noDefaultHeaderBtn&&Te(e)])):"inverted"===y.dateHeader?("left"===y.weekdayAlign&&"right"===y.dateAlign||"right"===y.weekdayAlign&&y.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==y.noDefaultHeaderBtn&&Te(e),!0!==y.noDefaultHeaderText&&Ce(e)])):void 0}function xe(e,a){const t=p["head-day-event"],n=!0!==y.noActiveDate&&fe(e),r=J(e,a);r.activeDate=n,r.disabled=!!y.disabledWeekdays&&y.disabledWeekdays.includes(e.weekday);const d=!0===F.value?Ge(Y.value):ce.value,l={width:d,maxWidth:d,minWidth:d};return!0===F.value&&(l.minWidth=d),ze.h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-day__head--day__event":!0,...O(e),"q-active-date":n},style:l},[t&&t({scope:r})])}function Ce(e){const a=p["head-weekday-label"],t=!0===y.shortWeekdayLabel,n=J(e);n.shortWeekdayLabel=y.shortWeekdayLabel,n.disabled=!!y.disabledWeekdays&&y.disabledWeekdays.includes(e.weekday);const r={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+y.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return ze.h("div",r,a&&a({scope:n})||Se(e,t))}function Se(e,a){const t=H.value(e,a||y.weekdayBreakpoints[0]>0&&Y.value<=y.weekdayBreakpoints[0]);return ze.h("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},y.weekdayBreakpoints[1]>0&&Y.value<=y.weekdayBreakpoints[1]?Je(t,y.minWeekdayLabel):t)}function Te(e){const a={class:{"q-calendar-day__head--date":!0,["q-calendar__"+y.dateAlign]:!0}};return ze.h("div",a,Ie(e))}function Ie(t){const e=!0!==y.noActiveDate&&fe(t),a=A.value(t,!1),n=p["head-day-label"],r=p["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e,disabled:!!y.disabledWeekdays&&y.disabledWeekdays.includes(t.weekday)},l={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===y.dateType,"q-calendar__button--rounded":"rounded"===y.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&oe(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&oe(e,[13,32])&&(m.value=t.date,void 0!==q.value.onClickDate&&c("click-date",{scope:d}))},...de("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(m.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==y.noAria&&(l.ariaLabel=L.value(t)),r?r({scope:d}):ha(y,l,n?n({scope:d}):a)}function We(e,a){const t=p["column-header-before"];if(t){const n={timestamp:e,columnIndex:a};return ze.h("div",{class:"q-calendar-day__column-header--before"},[t({scope:n})])}}function Ae(e,a){const t=p["column-header-after"];if(t){const n={timestamp:e,columnIndex:a};return ze.h("div",{class:"q-calendar-day__column-header--after"},[t({scope:n})])}}function He(){return ze.h("div",{class:"q-calendar-day__body"},[Le()])}function Le(){return!0===F.value?ze.h("div",{ref:a,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[!0!==F.value&&Ne(),Oe()]):!0===y.noScroll?Ee():ze.h("div",{ref:a,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[Ee()])}function Ee(){return ze.h("div",{ref:t,class:"q-calendar-day__pane"},[Ne(),Oe()])}function Oe(){const e=p["day-container"];return ze.h("div",{class:"q-calendar-day__day-container"},[!0===F.value&&!0!==y.noHeader&&me(),ze.h("div",{style:{display:"flex",flexDirection:"row"}},[!0===F.value&&Ne(),...Me()]),e&&e({scope:{days:K.value}})])}function Me(){return 1===K.value.length&&parseInt(y.columnCount,10)>0?Array.apply(null,new Array(parseInt(y.columnCount,10))).map((e,a)=>a+parseInt(y.columnIndexStart,10)).map(e=>Ve(K.value[0],0,e)):K.value.map((e,a)=>Ve(e,a))}function Ve(e,a,t){const n=p["day-body"],r=J(e,t),d=!0===F.value?y.cellWidth:ce.value,l={width:d,maxWidth:d,minWidth:d};return!0===F.value&&(l.minWidth=d),ze.h("div",{key:e.date+(void 0!==t?":"+t:""),class:{"q-calendar-day__day":!0,...O(e)},style:l},[...Be(a,t),n&&n({scope:r})])}function Be(e,a){return U.value[e].map(e=>Re(e,a))}function Re(t,n){const e=Ge(y.intervalHeight),a=y.intervalStyle||j,r=p["day-interval"],d=J(t,n);d.droppable=w.value===je(t);const l="function"===typeof y.intervalClass?y.intervalClass({scope:d}):{},o=!0===y.focusable&&y.focusType.includes("interval"),u=Qe(t),i={key:u,tabindex:!0===o?0:-1,class:{"q-calendar-day__day-interval":0===t.minute,"q-calendar-day__day-interval--section":0!==t.minute,...l,...Z(t,y.selectedDates,y.selectedStartEndDates),"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===o},style:{height:e,...a({scope:d})},onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"interval",d)?w.value=je(t):w.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"interval",d)?w.value=je(t):w.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"interval",d)?w.value=je(t):w.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"interval",d)?w.value=je(t):w.value="")},onKeydown:e=>{oe(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{if(oe(e,[13,32])){const a=J(t,n);m.value=a.timestamp.date,void 0!==q.value.onClickTime&&c("click-time",{scope:a,event:e})}},...de("-time",e=>{const a=J(Q(e,t,y.timeClicksClamped,x.now),n);return{scope:a,event:e}})};!0!==y.noAria&&(i.ariaLabel=X.value(t));const s=r?r({scope:d}):void 0;return ze.h("div",i,[s,pa()])}function Ne(){const e={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":!0===F.value},...de("-interval",e=>{const a=G(e,I.value,y.timeClicksClamped,x.now);return{scope:{timestamp:a},event:e}})};return ze.h("div",e,Pe())}function Pe(){return U.value[0].map(e=>Ke(e))}function Ke(e){const a=p["interval-label"],t=Ge(y.intervalHeight),n=y.shortIntervalLabel,r=y.showIntervalLabel||$,d=r(e),l=d?z.value(e,n):void 0;return ze.h("div",{key:e.time,class:{"q-calendar-day__interval":0===e.minute,"q-calendar-day__interval--section":0!==e.minute},style:{height:t}},[ze.h("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[a?a({scope:{timestamp:e,label:l}}):l])])}function Ue(){const{start:e,end:a,maxDays:t}=V.value;u.value===e.date&&i.value===a.date&&s.value===t||(u.value=e.date,i.value=a.date,s.value=t);const n=v.width>0,r=ze.withDirectives(ze.h("div",{key:u.value,class:"q-calendar-day"},[!0===n&&!0!==F.value&&!0!==y.noHeader&&me(),n&&He()]),[[ea,he]]);if(!0!==y.animated)return r;{const d="q-calendar--"+("prev"===o.value?y.transitionPrev:y.transitionNext);return ze.h(ze.Transition,{name:d,appear:!0},()=>r)}}return ze.watch([K],le,{deep:!0,immediate:!0}),ze.watch(()=>y.modelValue,(e,a)=>{if(m.value!==y.modelValue){if(!0===y.animated){const t=$e(Ye(e)),n=$e(Ye(a));o.value=t>=n?"next":"prev"}m.value=e}h.value=e}),ze.watch(m,(e,a)=>{if(m.value!==y.modelValue){if(!0===y.animated){const t=$e(Ye(e)),n=$e(Ye(a));o.value=t>=n?"next":"prev"}c("update:model-value",e)}}),ze.watch(h,e=>{e&&(r.value=Ze(e))}),ze.watch(r,e=>{f.value[h.value]?f.value[h.value].focus():ue()}),ze.watch(()=>y.maxDays,e=>{s.value=e}),ze.onBeforeUpdate(()=>{f.value={};d.value={};l.value={}}),ze.onMounted(()=>{N()}),e({prev:pe,next:ye,move:re,moveToToday:ve,updateCurrent:S,timeStartPos:ne,timeDurationHeight:te,heightToMinutes:ae,scrollToTime:ee}),()=>P()}});const xa={dayHeight:{type:[Number,String],default:0,validator:le},dayMinHeight:{type:[Number,String],default:0,validator:le},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:le,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||le(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function Ca(r,a,{weekdaySkips:n,times:d,parsedStart:t,parsedEnd:l,size:o,headerColumnRef:u}){const e=ze.computed(()=>parseInt(r.minWeeks,10)),i=ze.computed(()=>e.value*r.weekdays.length),s=ze.computed(()=>k(b(t.value))),c=ze.computed(()=>_(D(l.value))),v=ze.computed(()=>{let e=0;r.cellWidth?e=r.cellWidth:o.width>0&&u.value&&(e=u.value.offsetWidth/r.weekdays.length);return e}),y=ze.computed(()=>{return ae(s.value,c.value,d.today,n.value,r.disabledBefore,r.disabledAfter,r.disabledWeekdays,r.disabledDays,Number.MAX_SAFE_INTEGER,i.value)}),p=ze.computed(()=>{const e=d.today;const a=k(e);const t=_(e);return ae(a,t,e,n,r.disabledBefore,r.disabledAfter,r.disabledWeekdays,r.disabledDays,r.weekdays.length,r.weekdays.length)}),h=ze.computed(()=>{const t={timeZone:"UTC",month:"long"};const n={timeZone:"UTC",month:"short"};return ne(r.locale,(e,a)=>a?n:t)}),f=ze.computed(()=>{switch(r.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(r.breakpoint,10)}}),m=ze.computed(()=>{switch(r.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return r.monthLabelSize}});let g=!0;const w=ze.computed(()=>{const e=!0===r.miniMode||"auto"===r.miniMode&&void 0!==r.breakpoint&&o.width<f.value;!0===g&&(g=!1,a("mini-mode",e));return e});function k(e){return z(e,r.weekdays,d.today)}function _(e){return X(e,r.weekdays,d.today)}function b(e){return F(e)}function D(e){return x(e)}function q(e){const a=$e(e);return a<$e(t.value)||a>$e(l.value)}return ze.watch(w,e=>{a("mini-mode",e)}),{parsedCellWidth:v,parsedMinWeeks:e,parsedMinDays:i,parsedMonthStart:s,parsedMonthEnd:c,parsedBreakpoint:f,parsedMonthLabelSize:m,days:y,todayWeek:p,isMiniMode:w,monthFormatter:h,isOutside:q}}var Sa=ze.defineComponent({name:"QCalendarMonth",directives:[ea],props:{...Ce,...xa,...Re,...fa,...ba},emits:["update:model-value",...ga,...sa,"mini-mode",...ua("-date"),...ua("-day"),...ua("-head-workweek"),...ua("-head-day"),...ua("-workweek")],setup(y,{slots:p,emit:c,expose:e}){const a=ze.ref(null),t=ze.ref(null),n=ze.ref(null),h=ze.ref(null),r=ze.ref(null),v=ze.ref({}),l=ze.ref([]),o=ze.ref([]),d=ze.ref("next"),u=ze.ref(y.modelValue||Xe()),i=ze.ref("0000-00-00"),s=ze.ref(0),f=ze.ref(y.modelValue),m=ze.reactive({width:0,height:0}),g=ze.ref(!1),w=ze.ref(!1),k=ze.ref(null),_=ze.ref(null),b=ze.computed(()=>{return"month"}),D=ze.getCurrentInstance();if(null===D)throw new Error("current instance is null");const q=ya(D)["emitListeners"],F=ma(y)["isSticky"];ze.watch(F,e=>{});const{times:x,setCurrent:C,updateCurrent:S}=ra(y);S(),C();const{weekdaySkips:T,parsedStart:I,parsedEnd:W,dayFormatter:A,weekdayFormatter:H,ariaDateFormatter:L,dayStyleDefault:E,getRelativeClasses:O}=ta(y,{startDate:u,endDate:i,times:x}),M=ze.computed(()=>{return Ze(y.modelValue,x.now)||I.value||x.today});r.value=M.value,h.value=M.value.date;const V=ze.computed(()=>{const e={};void 0!==y.dayPadding&&(e.padding=y.dayPadding);e.minWidth=ne.value;e.maxWidth=ne.value;e.width=ne.value;return e}),B=da(y,{parsedView:b,times:x,parsedValue:M})["renderValues"],{rootRef:R,__initCalendar:N,__renderCalendar:P}=aa(y,Te,{scrollArea:a,pane:t}),{days:K,todayWeek:U,isMiniMode:z,parsedCellWidth:X,parsedMonthLabelSize:Y,isOutside:Z,monthFormatter:$}=Ca(y,c,{weekdaySkips:T,times:x,parsedStart:I,parsedEnd:W,size:m,headerColumnRef:n}),j=ca(y,{parsedView:b,parsedValue:M,weekdaySkips:T,direction:d,maxDays:s,times:x,emittedValue:f,emit:c})["move"],Q=ia(c,q)["getDefaultMouseEventHandlers"],G=wa(c,{days:K,lastStart:k,lastEnd:_})["checkChange"],J=ka()["isKeyCode"],ee=Da(y,{rootRef:R,focusRef:h,focusValue:r,datesRef:v,days:K,parsedView:b,parsedValue:M,emittedValue:f,weekdaySkips:T,direction:d,times:x})["tryFocus"],ae=ze.computed(()=>{if(R.value)return!0===y.showWorkWeeks?parseInt(getComputedStyle(R.value).getPropertyValue(!0===z.value?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0;return 0}),te=ze.computed(()=>{return y.weekdays.length}),ne=ze.computed(()=>{if(R.value){const e=m.width||R.value.getBoundingClientRect().width;if(e&&te.value)return(e-ae.value)/te.value+"px"}return 100/te.value+"%"}),re=ze.computed(()=>{return!0===y.focusable&&y.focusType.includes("day")&&!0!==z.value}),de=ze.computed(()=>{return!0===y.focusable&&y.focusType.includes("date")&&!0!==re.value});function le(){f.value=Xe()}function oe(e=1){j(e)}function ue(e=1){j(-e)}function ie({width:e,height:a}){m.width=e,m.height=a}function se(e){return e.date===f.value}function ce(a){for(let e=0;e<a.length;++e)if(!0===a[e].current)return{timestamp:a[e]};return{timestamp:!1}}function ve(){if(!0!==z.value&&0===y.dayHeight){const e=p.week;if(void 0!==e&&window)for(const a in l.value){const t=l.value[a];if(void 0!==t){const n=o.value[a];if(void 0!==n){const r=window.getComputedStyle(t),d=parseFloat(r.marginTop,10)+parseFloat(r.marginBottom,10);t.clientHeight+d>n.clientHeight&&(n.style.height=t.clientHeight+d+"px")}}}}}function ye(){return ze.h("div",{class:"q-calendar-month__body"},[..._e()])}function pe(){return ze.h("div",{role:"presentation",class:"q-calendar-month__head"},[!0===y.showWorkWeeks&&fe(),ze.h("div",{class:"q-calendar-month__head--wrapper"},[he()])])}function he(){return ze.h("div",{ref:n,class:{"q-calendar-month__head--weekdays":!0}},[...me()])}function fe(){const e=p["head-workweek"],a={start:I.value,end:W.value,miniMode:z.value};return ze.h("div",{class:"q-calendar-month__head--workweek",...Q("-head-workweek",e=>{return{scope:a,event:e}})},e?e({scope:a}):"#")}function me(){return U.value.map((e,a)=>ge(e,a))}function ge(a,e){const t=p["head-day"],n=K.value.filter(e=>e.weekday===a.weekday),r=n[0].weekday,d=!0!==y.noActiveDate&&se(a),l={activeDate:d,weekday:r,timestamp:a,days:n,index:e,miniMode:z.value,droppable:g.value===a.weekday,disabled:!!y.disabledWeekdays&&y.disabledWeekdays.includes(a.weekday)},o="function"===typeof y.weekdayClass?y.weekdayClass({scope:l}):{},u=!0===y.focusable&&y.focusType.includes("weekday"),i=ne.value,s=y.weekdayStyle||E,c={width:i,maxWidth:i,minWidth:i,...s({scope:l})},v={key:a.date+(void 0!==e?"-"+e:""),tabindex:!0===u?0:-1,class:{"q-calendar-month__head--weekday":!0,...o,"q-disabled-day disabled":!0===l.disabled,["q-calendar__"+y.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":!0===u},style:c,onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"head-day",l)?g.value=a.weekday:g.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"head-day",l)?g.value=a.weekday:g.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"head-day",l)?g.value=a.weekday:g.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"head-day",l)?g.value=a.weekday:g.value="")},onFocus:e=>{!0===u&&(h.value=a.date)},...Q("-head-day",e=>{return{scope:l,event:e}})};return!0!==y.noAria&&(v.ariaLabel=H.value(a,!1)),ze.h("div",v,[void 0===t&&ke(a,y.shortWeekdayLabel||z.value),void 0!==t&&t({scope:l}),we(a,e),!0===u&&pa()])}function we(a,e){const t=p["head-day-event"],n=!0!==y.noActiveDate&&se(a),r=K.value.filter(e=>e.weekday===a.weekday),d=r[0].weekday,l={weekday:d,timestamp:a,days:r,index:e,miniMode:z.value,activeDate:n,disabled:!!y.disabledWeekdays&&y.disabledWeekdays.includes(a.weekday)},o=ne.value,u=y.weekdayStyle||E,i={width:o,maxWidth:o,minWidth:o,...u({scope:l})};return ze.h("div",{key:"event-"+a.date+(void 0!==e?"-"+e:""),class:{"q-calendar-month__head--event":!0},style:i},[void 0!==t&&t({scope:l})])}function ke(e,a){const t=H.value(e,a||y.weekdayBreakpoints[0]>0&&X.value<=y.weekdayBreakpoints[0]);return ze.h("span",{class:"q-calendar__ellipsis"},!0===z.value&&!0===y.shortWeekdayLabel||y.weekdayBreakpoints[1]>0&&X.value<=y.weekdayBreakpoints[1]?Je(t,y.minWeekdayLabel):t)}function _e(){const a=y.weekdays.length,t=[];for(let e=0;e<K.value.length;e+=a)t.push(be(K.value.slice(e,e+a),e/a));return t}function be(e,a){const t=p.week,n=y.weekdays,r={week:e,weekdays:n,miniMode:z.value},d={};return d.height=y.dayHeight>0&&!0!==z.value?Ge(parseInt(y.dayHeight,10)):"auto",y.dayMinHeight>0&&!0!==z.value&&(d.minHeight=Ge(parseInt(y.dayMinHeight,10))),ze.h("div",{key:e[0].date,ref:e=>{o.value[a]=e},class:"q-calendar-month__week--wrapper",style:d},[!0===y.showWorkWeeks?De(e):void 0,ze.h("div",{class:"q-calendar-month__week"},[ze.h("div",{class:"q-calendar-month__week--days"},e.map((e,a)=>qe(e))),!0!==z.value&&void 0!==t?ze.h("div",{ref:e=>{l.value[a]=e},class:"q-calendar-month__week--events"},t({scope:r})):void 0])])}function De(e){const a=p.workweek,t=e.length>2?e[2]:e[0],n=ce(e)["timestamp"],r=Number(t.workweek).toLocaleString(y.locale),d={workweekLabel:r,week:e,miniMode:z.value};return ze.h("div",{key:t.workweek,class:{"q-calendar-month__workweek":!0,...O(!1!==n?n:t,!1)},...Q("-workweek",e=>{return{scope:d,event:e}})},a?a({scope:d}):r)}function qe(a){const e=p.day,t=y.dayStyle||E,n=Z(a),r=!0!==y.noActiveDate&&M.value.date===a.date,d=!1===n&&!0===y.showMonthLabel&&K.value.find(e=>e.month===a.month).day===a.day,l={outside:n,timestamp:a,miniMode:z.value,activeDate:r,hasMonth:d,droppable:w.value===a.date,disabled:!!y.disabledWeekdays&&y.disabledWeekdays.includes(a.weekday)},o=Object.assign({...V.value},t({scope:l})),u="function"===typeof y.dayClass?y.dayClass({scope:l}):{},i={key:a.date,ref:e=>{!0===re.value&&(v.value[a.date]=e)},tabindex:!0===re.value?0:-1,class:{"q-calendar-month__day":!0,...u,...O(a,n,y.selectedDates,y.selectedStartEndDates,y.hover),"q-active-date":!0===r,disabled:!0!==y.enableOutsideDays&&!0===n,"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===re.value},style:o,onFocus:e=>{!0===re.value&&(h.value=a.date)},onKeydown:e=>{!0!==n&&!0!==a.disabled&&J(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==n&&!0!==a.disabled&&J(e,[13,32])&&(e.stopPropagation(),e.preventDefault(),void 0!==q.value.onClickDay&&!0!==z.value&&c("click-day",{scope:l,event:e}))},...Q("-day",e=>{return{scope:l,event:e}})},s={onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"day",l)?w.value=a.date:w.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"day",l)?w.value=a.date:w.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"day",l)?w.value=a.date:w.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"day",l)?w.value=a.date:w.value="")}};return!0!==n&&Object.assign(i,s),!0!==y.noAria&&(i.ariaLabel=L.value(a)),ze.h("div",i,[Fe(a,n,d),ze.h("div",{class:{"q-calendar-month__day--content":!0}},e?e({scope:l}):void 0),!0===re.value&&pa()])}function Fe(e,a,t){let n,r;const d=[xe(e,a)];!0!==z.value&&!0===t&&m.width>340&&(r=Se(e,a)),!0!==z.value&&!0===y.showDayOfYearLabel&&void 0===r&&m.width>300&&(n=Ce(e,a)),"left"===y.dateAlign?(void 0!==n&&d.push(n),void 0!==r&&d.push(r)):"right"===y.dateAlign?(void 0!==n&&d.unshift(n),void 0!==r&&d.unshift(r)):(n=void 0,r=void 0);const l={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+y.dateAlign]:void 0===n&&void 0===r,"q-calendar__justify":void 0!==n||void 0!==r}};return ze.h("div",l,d)}function xe(t,a){if(!0!==a||!0!==y.noOutsideDays){const e=A.value(t,!1),n=p["head-day-label"],r=p["head-day-button"],d=y.selectedDates&&y.selectedDates.length>0&&y.selectedDates.includes(t.date),l=!0!==y.noActiveDate&&se(t),o={dayLabel:e,timestamp:t,outside:a,activeDate:l,selectedDate:d,miniMode:z.value,disabled:!!y.disabledWeekdays&&y.disabledWeekdays.includes(t.weekday)},u={key:t.date,ref:e=>{!0===de.value&&(v.value[t.date]=e)},tabindex:!0===de.value?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===y.dateType,"q-calendar__button--rounded":"rounded"===y.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===de.value},disabled:!0===t.disabled||!0!==y.enableOutsideDays&&!0===a,onFocus:e=>{!0===de.value&&(h.value=t.date)},onKeydown:e=>{!0!==a&&!0!==t.disabled&&J(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0===de.value&&!0!==a&&!0!==t.disabled&&J(e,[13,32])&&(e.stopPropagation(),e.preventDefault(),f.value=t.date,void 0!==q.value.onClickDate&&c("click-date",{scope:o,event:e}))},...Q("-date",(e,a)=>{e.stopPropagation();"click-date"!==a&&"contextmenu-date"!==a||(f.value=t.date);return{scope:o,event:e}})};return!0!==y.noAria&&(u.ariaLabel=L.value(t)),[r?r({scope:o}):ha(y,u,n?n({scope:o}):e),!0===de.value&&pa()]}}function Ce(e,a){if(!0!==a||!0!==y.noOutsideDays){const t=p["day-of-year"],n={timestamp:e};return ze.h("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},t?t({scope:n}):e.doy)}}function Se(e,a){if(!0!==a||!0!==y.noOutsideDays){const t=p["month-label"],n=$.value(e,y.shortMonthLabel||m.width<500),r={monthLabel:n,timestamp:e,miniMode:z.value},d={};return!0!==z.value&&void 0!==Y.value&&(d.fontSize=Y.value),ze.h("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:d},[t?t({scope:r}):!0!==z.value?n:void 0])}}function Te(){const{start:e,end:a}=B.value;u.value=e.date,i.value=a.date;const t=m.width>0,n=ze.withDirectives(ze.h("div",{class:{"q-calendar-mini":!0===z.value,"q-calendar-month":!0},key:u.value},[!0===t&&!0!==y.noHeader&&pe(),!0===t&&ye()]),[[ea,ie]]);if(!0!==y.animated)return n;{const r="q-calendar--"+("prev"===d.value?y.transitionPrev:y.transitionNext);return ze.h(ze.Transition,{name:r,appear:!0},()=>n)}}return ze.watch([K],G,{deep:!0,immediate:!0}),ze.watch(()=>y.modelValue,(e,a)=>{if(f.value!==e){if(!0===y.animated){const t=$e(Ye(e)),n=$e(Ye(a));d.value=t>=n?"next":"prev"}f.value=e}h.value=e}),ze.watch(f,(e,a)=>{if(f.value!==y.modelValue){if(!0===y.animated){const t=$e(Ye(e)),n=$e(Ye(a));d.value=t>=n?"next":"prev"}c("update:model-value",e)}}),ze.watch(h,e=>{e&&(r.value=Ze(e),f.value!==e&&(f.value=e))}),ze.watch(r,e=>{v.value[h.value]?v.value[h.value].focus():ee()}),ze.onBeforeUpdate(()=>{v.value={};l.value=[];o.value=[];ze.nextTick(()=>{ve()})}),ze.onMounted(()=>{N();ve()}),e({prev:ue,next:oe,move:j,moveToToday:le,updateCurrent:S}),()=>P()}}),Ta=ze.defineComponent({name:"QCalendarResource",props:{...Ce,...Me,...Le,...Ve,...Be,...Re,...ba},emits:["update:model-value","update:model-resources","resource-expanded",...ga,...sa,...ua("-date"),...ua("-interval"),...ua("-head-day"),...ua("-time"),...ua("-head-resources"),...ua("-resource")],setup(y,{slots:p,emit:v,expose:e}){const a=ze.ref(null),t=ze.ref(null),n=ze.ref(null),r=ze.ref(null),h=ze.ref(null),d=ze.ref(null),f=ze.ref({}),m=ze.ref({}),l=ze.ref("next"),o=ze.ref(Xe()),u=ze.ref("0000-00-00"),i=ze.ref(0),s=ze.ref(y.modelValue),c=ze.reactive({width:0,height:0}),g=ze.ref(!1),w=ze.ref(!1),k=ze.ref(!1),_=ze.ref(null),b=ze.ref(null);ze.watch(()=>y.view,()=>{i.value=0});const D=ze.computed(()=>{if("month"===y.view)return"month-interval";return y.view}),q=ze.computed(()=>{return parseInt(y.cellWidth,10)}),F=ze.getCurrentInstance();if(null===F)throw new Error("current instance is null");const x=ya(F)["emitListeners"],{times:C,setCurrent:S,updateCurrent:T}=ra(y);T(),S();const{weekdaySkips:I,parsedStart:W,parsedEnd:A,dayStyleDefault:H}=ta(y,{startDate:o,endDate:u,times:C}),L=ze.computed(()=>{return Ze(y.modelValue,C.now)||W.value||C.today});d.value=L.value,h.value=L.value.date;const E=da(y,{parsedView:D,times:C,parsedValue:L})["renderValues"],{rootRef:O,__initCalendar:M,__renderCalendar:V}=aa(y,ke,{scrollArea:a,pane:t}),{days:B,intervals:R,intervalFormatter:N,styleDefault:P,scrollToTimeX:K,timeDurationWidth:U,timeStartPosX:z,widthToMinutes:X}=na(y,{weekdaySkips:I,times:C,scrollArea:a,parsedStart:W,parsedEnd:A,maxDays:i,size:c,headerColumnRef:r}),Y=ca(y,{parsedView:D,parsedValue:L,weekdaySkips:I,direction:l,maxDays:i,times:C,emittedValue:s,emit:v})["move"],Z=ia(v,x)["getDefaultMouseEventHandlers"],$=wa(v,{days:B,lastStart:_,lastEnd:b})["checkChange"],j=ka()["isKeyCode"],Q=Da(y,{rootRef:O,focusRef:h,focusValue:d,datesRef:f,days:B,parsedView:D,parsedValue:L,emittedValue:s,weekdaySkips:I,direction:l,times:C})["tryFocus"],G=ze.computed(()=>{const e=parseInt(y.resourceHeight,10);if(0===e)return"auto";return e}),J=ze.computed(()=>{return parseInt(y.resourceMinHeight,10)}),ee=ze.computed(()=>{return parseInt(y.intervalHeaderHeight,10)});function ae(){s.value=Xe()}function te(e=1){Y(e)}function ne(e=1){Y(-e)}function re({width:e,height:a}){c.width=e,c.height=a}function de(e){return e.date===s.value}function le(){const e={height:Ge(ee.value)};return ze.h("div",{ref:n,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":!0!==y.noSticky},style:e},[oe(),ue()])}function oe(){const e=p["head-resources"],a=Ge(ee.value),t={timestamps:R,date:y.modelValue,resources:y.modelResources};return ze.h("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":!0!==y.noSticky},style:{height:a},...Z("-head-resources",e=>{return{scope:t,event:e}})},[e&&e({scope:t})])}function ue(){return ze.h("div",{ref:r,class:{"q-calendar-resource__head--intervals":!0}},[R.value.map(e=>e.map((e,a)=>ie(e,a)))])}function ie(e,a){const t=p["interval-label"],n=!0!==y.noActiveDate&&de(e),r=Ge(q.value),d=Ge(ee.value),l=y.shortIntervalLabel,o=N.value(e,l),u={timestamp:e,index:a,label:o};u.droppable=g.value===o;const i=y.intervalStyle||H,s={width:r,maxWidth:r,minWidth:r,height:d,...i({scope:u})},c="function"===typeof y.intervalClass?y.intervalClass({scope:u}):{},v=!0===y.focusable&&y.focusType.includes("interval");return ze.h("div",{key:o,tabindex:!0===v?0:-1,class:{"q-calendar-resource__head--interval":!0,...c,"q-active-date":n,"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===v},style:s,onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"interval",u)?g.value=o:g.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"interval",u)?g.value=o:g.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"interval",u)?g.value=o:g.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"interval",u)?g.value=o:g.value="")},onFocus:e=>{!0===v&&(h.value=o)},...Z("-interval",e=>{return{scope:u,event:e}})},[t?t({scope:u}):o,pa()])}function se(){return ze.h("div",{class:"q-calendar-resource__body"},[ce()])}function ce(){return ze.h("div",{ref:a,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[ye()])}function ve(){return ze.h("div",{},"No resources have been defined")}function ye(){return ze.h("div",{class:"q-calendar-resource__day--container"},[le(),void 0===y.modelResources&&ve(),void 0!==y.modelResources&&pe()])}function pe(){const e={class:"q-calendar-resource__resources--body"};return ze.h("div",e,he())}function he(e=void 0,t=0,n=!0){return void 0===e&&(e=y.modelResources),e.map((e,a)=>{return fe(e,a,t,void 0!==e.children?e.expanded:n)})}function fe(e,a,t=0,n=!0){const r={};r.height="auto"===G.value?G.value:Ge(G.value),J.value>0&&(r.minHeight=Ge(J.value));const d=ze.h("div",{key:e[y.resourceKey]+"-"+a,class:{"q-calendar-resource__resource--row":!0},style:r},[me(e,a,t,n),ge(e,a)]);return void 0!==e.children?[d,ze.h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[he(e.children,t+1,!1===n?n:e.expanded)])]:[d]}function me(a,e,t=0,n=!0){const r=p["resource-label"],d={};d.height=void 0!==a.height?Ge(parseInt(a.height,10)):G.value?Ge(G.value):"auto",J.value>0&&(d.minHeight=Ge(J.value));const l=y.resourceStyle||P,o=a[y.resourceLabel],u=!0===y.focusable&&y.focusType.includes("resource")&&!0===n,i={resource:a,timestamps:R,resourceIndex:e,indentLevel:t,label:o},s=a[y.resourceKey];i.droppable=w.value===s;const c="function"===typeof y.resourceClass?y.resourceClass({scope:i}):{};return ze.h("div",{key:a[y.resourceKey]+"-"+e,ref:e=>{m.value[a[y.resourceKey]]=e},tabindex:!0===u?0:-1,class:{"q-calendar-resource__resource":0===t,"q-calendar-resource__resource--section":0!==t,...c,"q-calendar__sticky":!0!==y.noSticky,"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===u},style:{...d,...l({scope:i})},onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"resource",i)?w.value=s:w.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"resource",i)?w.value=s:w.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"resource",i)?w.value=s:w.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"resource",i)?w.value=s:w.value="")},onKeydown:e=>{j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{j(e,[13,32])&&void 0!==x.value.onClickResource&&v("click-resource",{scope:i,event:e})},...Z("-resource",e=>{return{scope:i,event:e}})},[[ze.h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation();a.expanded=!a.expanded;v("resource-expanded",{expanded:a.expanded,scope:i})}}),ze.h("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*t+2+"px"}},[r?r({scope:i}):o]),pa()]])}function ge(a,t){const e=p["resource-intervals"],n={resource:a,timestamps:R,resourceIndex:t,timeStartPosX:z,timeDurationWidth:U};return ze.h("div",{class:"q-calendar-resource__resource--intervals"},[R.value.map(e=>e.map(e=>we(a,e,t))),e&&e({scope:n})])}function we(a,e,t){const n=p["resource-interval"],r=!0!==y.noActiveDate&&de(e),d={activeDate:r,resource:a,timestamp:e,resourceIndex:t},l=a[y.resourceKey],o=e.time+"-"+l;d.droppable=k.value===o;const u=!0===y.focusable&&y.focusType.includes("time"),i=y.intervalStyle||H,s=Ge(q.value),c={width:s,maxWidth:s,minWidth:s,...i({scope:d})};return c.height=void 0!==a.height?Ge(parseInt(a.height,10)):G.value>0?Ge(G.value):"auto",J.value>0&&(c.minHeight=Ge(J.value)),ze.h("div",{key:o,ref:e=>{f.value[a[y.resourceKey]]=e},tabindex:!0===u?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":r,"q-calendar__hoverable":!0===y.hoverable,"q-calendar__focusable":!0===u},style:c,onDragenter:e=>{void 0!==y.dragEnterFunc&&"function"===typeof y.dragEnterFunc&&(!0===y.dragEnterFunc(e,"time",d)?k.value=o:k.value="")},onDragover:e=>{void 0!==y.dragOverFunc&&"function"===typeof y.dragOverFunc&&(!0===y.dragOverFunc(e,"time",d)?k.value=o:k.value="")},onDragleave:e=>{void 0!==y.dragLeaveFunc&&"function"===typeof y.dragLeaveFunc&&(!0===y.dragLeaveFunc(e,"time",d)?k.value=o:k.value="")},onDrop:e=>{void 0!==y.dropFunc&&"function"===typeof y.dropFunc&&(!0===y.dropFunc(e,"time",d)?k.value=o:k.value="")},onFocus:e=>{!0===u&&(h.value=o)},...Z("-time",e=>{return{scope:d,event:e}})},[n&&n({scope:d}),pa()])}function ke(){const{start:e,end:a,maxDays:t}=E.value;o.value===e.date&&u.value===a.date&&i.value===t||(o.value=e.date,u.value=a.date,i.value=t);const n=c.width>0,r=ze.withDirectives(ze.h("div",{class:"q-calendar-resource",key:o.value},[!0===n&&se()]),[[ea,re]]);if(!0!==y.animated)return r;{const d="q-calendar--"+("prev"===l.value?y.transitionPrev:y.transitionNext);return ze.h(ze.Transition,{name:d,appear:!0},()=>r)}}return ze.watch([B],$,{deep:!0,immediate:!0}),ze.watch(()=>y.modelValue,(e,a)=>{if(s.value!==e){if(!0===y.animated){const t=$e(Ye(e)),n=$e(Ye(a));l.value=t>=n?"next":"prev"}s.value=e}h.value=e}),ze.watch(s,(e,a)=>{if(s.value!==y.modelValue){if(!0===y.animated){const t=$e(Ye(e)),n=$e(Ye(a));l.value=t>=n?"next":"prev"}v("update:model-value",e)}}),ze.watch(h,e=>{e&&(d.value=Ze(e))}),ze.watch(d,e=>{f.value[h.value]?f.value[h.value].focus():Q()}),ze.onBeforeUpdate(()=>{f.value={};m.value={}}),ze.onMounted(()=>{M()}),e({prev:ne,next:te,move:Y,moveToToday:ae,updateCurrent:T,timeStartPosX:z,timeDurationWidth:U,widthToMinutes:X,scrollToTimeX:K}),()=>V()}}),Ia=ze.defineComponent({name:"QCalendarScheduler",directives:[ea],props:{...Ce,...Ee,...Ve,...Be,...Re,...fa,...ba},emits:["update:model-value","update:model-resources","resource-expanded",...ga,...sa,...ua("-date"),...ua("-day-resource"),...ua("-head-resources"),...ua("-head-day"),...ua("-resource")],setup(f,{slots:m,emit:g,expose:e}){const a=ze.ref(null),t=ze.ref(null),n=ze.ref(null),y=ze.ref(null),r=ze.ref(null),p=ze.ref({}),v=ze.ref({}),d=ze.ref({}),l=ze.ref({}),o=ze.ref("next"),u=ze.ref(f.modelValue||Xe()),i=ze.ref("0000-00-00"),s=ze.ref(0),w=ze.ref(f.modelValue),c=ze.reactive({width:0,height:0}),h=ze.ref(!1),k=ze.ref(!1),_=ze.ref(null),b=ze.ref(null);ze.watch(()=>f.view,()=>{s.value=0});const D=ze.computed(()=>{if("month"===f.view)return"month-interval";return f.view}),q=ze.getCurrentInstance();if(null===q)throw new Error("current instance is null");const F=ya(q)["emitListeners"],x=ma(f)["isSticky"],{times:C,setCurrent:S,updateCurrent:T}=ra(f);T(),S();const{weekdaySkips:I,parsedStart:W,parsedEnd:A,dayFormatter:H,weekdayFormatter:L,ariaDateFormatter:E,dayStyleDefault:O,getRelativeClasses:M}=ta(f,{startDate:u,endDate:i,times:C}),V=ze.computed(()=>{return Ze(f.modelValue,C.now)||W.value||C.today});r.value=V.value,y.value=V.value.date;const B=da(f,{parsedView:D,parsedValue:V,times:C})["renderValues"],{rootRef:R,scrollWidth:N,__initCalendar:P,__renderCalendar:K}=aa(f,Ee,{scrollArea:a,pane:t}),{days:U,parsedCellWidth:z,styleDefault:X}=na(f,{weekdaySkips:I,times:C,scrollArea:a,parsedStart:W,parsedEnd:A,maxDays:s,size:c,headerColumnRef:n}),Y=ca(f,{parsedView:D,parsedValue:V,weekdaySkips:I,direction:o,maxDays:s,times:C,emittedValue:w,emit:g})["move"],Z=ia(g,F)["getDefaultMouseEventHandlers"],$=wa(g,{days:U,lastStart:_,lastEnd:b})["checkChange"],j=ka()["isKeyCode"],Q=Da(f,{rootRef:R,focusRef:y,focusValue:r,datesRef:p,days:U,parsedView:D,parsedValue:V,emittedValue:w,weekdaySkips:I,direction:o,times:C})["tryFocus"],G=ze.computed(()=>{{if("day"===D.value&&parseInt(f.columnCount,10)>1)return parseInt(f.columnCount,10);if("day"===D.value&&f.maxDays&&f.maxDays>1)return f.maxDays}return U.value.length}),J=ze.computed(()=>{if(R.value)return parseInt(getComputedStyle(R.value).getPropertyValue("--calendar-resources-width"),10);return 0}),ee=ze.computed(()=>{const e=parseInt(f.resourceHeight,10);if(0===e)return"auto";return e}),ae=ze.computed(()=>{return parseInt(f.resourceMinHeight,10)}),te=ze.computed(()=>{if(R.value){const e=c.width||R.value.getBoundingClientRect().width;if(e&&J.value&&G.value)return(e-N.value-J.value)/G.value+"px"}return 100/G.value+"%"});function ne(){w.value=Xe()}function re(e=1){Y(e)}function de(e=1){Y(-e)}function le({width:e,height:a}){c.width=e,c.height=a}function oe(e){return e.date===w.value}function ue(){return ze.h("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":!0===x.value},style:{marginRight:N.value+"px"}},[ie(),se()])}function ie(){const e=m["head-resources"],a={days:U.value,timestamps:U.value,date:f.modelValue,resources:f.modelResources};return ze.h("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":!0===x.value},...Z("-head-resources",e=>{return{scope:a,event:e}})},[e&&e({scope:a})])}function se(){return ze.h("div",{ref:n,class:{"q-calendar-scheduler__head--days__column":!0}},[ce(),ve()])}function ce(){return ze.h("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...ye()])}function ve(){const e=m["head-days-events"];return ze.nextTick(()=>{if(l.value&&0===parseInt(f.columnCount,10)&&window)try{const e=window.getComputedStyle(l.value);d.value.parentElement.style.height=e.height,d.value.style.height=e.height}catch(e){}}),ze.h("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[e&&ze.h("div",{ref:d,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[e({scope:{timestamps:U.value,days:U.value,ref:l}})]),...pe()])}function ye(){return 1===U.value.length&&parseInt(f.columnCount,10)>0?Array.apply(null,new Array(parseInt(f.columnCount,10))).map((e,a)=>a+parseInt(f.columnIndexStart,10)).map(e=>he(U.value[0],e)):U.value.map(e=>he(e))}function pe(){return 1===U.value.length&&parseInt(f.columnCount,10)>0?Array.apply(null,new Array(parseInt(f.columnCount,10))).map((e,a)=>a+parseInt(f.columnIndexStart,10)).map(e=>me(U.value[0],e)):U.value.map(e=>me(e))}function he(a,e){const t=m["head-day"],n=m["head-date"],r=!0!==f.noActiveDate&&oe(a),d={timestamp:a,activeDate:r,droppable:h.value===a.date,disabled:!!f.disabledWeekdays&&f.disabledWeekdays.includes(a.weekday)};void 0!==e&&(d.columnIndex=e);const l=!0===x.value?Ge(z.value):te.value,o=f.weekdayStyle||O,u={width:l,maxWidth:l,minWidth:l,...o({scope:d})};!0===x.value&&(u.minWidth=l);const i="function"===typeof f.weekdayClass?f.weekdayClass({scope:d}):{},s=!0===f.focusable&&f.focusType.includes("weekday"),c=a.date+(void 0!==e?"-"+e:""),v={key:c,ref:e=>{p.value[c]=e},tabindex:!0===s?0:-1,class:{"q-calendar-scheduler__head--day":!0,...i,...M(a),"q-active-date":r,"q-calendar__hoverable":!0===f.hoverable,"q-calendar__focusable":!0===s},style:u,onFocus:e=>{!0===s&&(y.value=c)},onKeydown:e=>{!0!==a.disabled&&j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&j(e,[13,32])&&(w.value=a.date)},...Z("-head-day",e=>{return{scope:d,event:e}}),onDragenter:e=>{void 0!==f.dragEnterFunc&&"function"===typeof f.dragEnterFunc&&(!0===f.dragEnterFunc(e,"head-day",d)?h.value=a.date:h.value="")},onDragover:e=>{void 0!==f.dragOverFunc&&"function"===typeof f.dragOverFunc&&(!0===f.dragOverFunc(e,"head-day",d)?h.value=a.date:h.value="")},onDragleave:e=>{void 0!==f.dragLeaveFunc&&"function"===typeof f.dragLeaveFunc&&(!0===f.dragLeaveFunc(e,"head-day",d)?h.value=a.date:h.value="")},onDrop:e=>{void 0!==f.dropFunc&&"function"===typeof f.dropFunc&&(!0===f.dropFunc(e,"head-day",d)?h.value=a.date:h.value="")}};return ze.h("div",v,[void 0!==t&&t({scope:d}),void 0===t&&be(a,e),void 0===t&&fe(a),void 0===t&&n&&n({scope:d}),void 0===t&&De(a,e),pa()])}function fe(e){return"stacked"===f.dateHeader?[!0!==f.noDefaultHeaderText&&ge(e),!0!==f.noDefaultHeaderBtn&&ke(e)]:"inline"===f.dateHeader?("left"===f.weekdayAlign&&"right"===f.dateAlign||"right"===f.weekdayAlign&&f.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==f.noDefaultHeaderText&&ge(e),!0!==f.noDefaultHeaderBtn&&ke(e)])):"inverted"===f.dateHeader?("left"===f.weekdayAlign&&"right"===f.dateAlign||"right"===f.weekdayAlign&&f.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==f.noDefaultHeaderBtn&&ke(e),!0!==f.noDefaultHeaderText&&ge(e)])):void 0}function me(e,a){const t=m["head-day-event"],n=!0!==f.noActiveDate&&oe(e),r={timestamp:e,activeDate:n,droppable:h.value===e.date,disabled:!!f.disabledWeekdays&&f.disabledWeekdays.includes(e.weekday)};void 0!==a&&(r.columnIndex=a);const d=!0===x.value?Ge(z.value):te.value,l={width:d,maxWidth:d,minWidth:d};return!0===x.value&&(l.minWidth=d),ze.h("div",{key:"event-"+e.date+(void 0!==a?"-"+a:""),class:{"q-calendar-scheduler__head--day__event":!0,...M(e),"q-active-date":n},style:l},[t&&t({scope:r})])}function ge(e){const a=m["head-weekday-label"],t=!0===f.shortWeekdayLabel,n={timestamp:e,shortWeekdayLabel:t},r={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+f.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return ze.h("div",r,a&&a({scope:n})||we(e,t))}function we(e,a){const t=L.value(e,a||f.weekdayBreakpoints[0]>0&&z.value<=f.weekdayBreakpoints[0]);return ze.h("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},f.weekdayBreakpoints[1]>0&&z.value<=f.weekdayBreakpoints[1]?Je(t,f.minWeekdayLabel):t)}function ke(e){const a={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+f.dateAlign]:!0}};return ze.h("div",a,_e(e))}function _e(t){const e=!0!==f.noActiveDate&&oe(t),a=H.value(t,!1),n=m["head-day-label"],r=m["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e},l={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===f.dateType,"q-calendar__button--rounded":"rounded"===f.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__focusable":!0},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&j(e,[13,32])&&(w.value=t.date,void 0!==F.value.onClickDate&&g("click-date",{scope:d}))},...Z("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(w.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==f.noAria&&(l.ariaLabel=E.value(t)),r?r({scope:d}):ha(f,l,n?n({scope:d}):a)}function be(e,a){const t=m["column-header-before"];if(t){const n={timestamp:e,columnIndex:a};return ze.h("div",{class:"q-calendar-scheduler__column-header--before"},[t({scope:n})])}}function De(e,a){const t=m["column-header-after"];if(t){const n={timestamp:e,columnIndex:a};return ze.h("div",{class:"q-calendar-scheduler__column-header--after"},[t({scope:n})])}}function qe(){return ze.h("div",{class:"q-calendar-scheduler__body"},[Fe()])}function Fe(){return!0===x.value?ze.h("div",{ref:a,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[!0!==x.value&&We(),Ce()]):!0===f.noScroll?xe():ze.h("div",{ref:a,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[xe()])}function xe(){return ze.h("div",{ref:t,class:"q-calendar-scheduler__pane"},[Ce()])}function Ce(){return ze.h("div",{class:"q-calendar-scheduler__day--container"},[!0===x.value&&!0!==f.noHeader&&ue(),Se()])}function Se(e=void 0,t=0,n=!0){return void 0===e&&(e=f.modelResources),e.map((e,a)=>{return Te(e,a,t,void 0!==e.children?e.expanded:n)})}function Te(e,a,t=0,n=!0){const r={};r.height=void 0!==e.height?Ge(parseInt(e.height,10)):ee.value?Ge(ee.value):"auto",ae.value>0&&(r.minHeight=Ge(ae.value));const d=ze.h("div",{key:e[f.resourceKey]+"-"+a,class:{"q-calendar-scheduler__resource--row":!0},style:r},[Ie(e,a,t,n),We(e,a,t,n)]);return void 0!==e.children?[d,ze.h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[Se(e.children,t+1,!1===n?n:e.expanded)])]:[d]}function Ie(a,e,t=0,n=!0){const r=m["resource-label"],d={};d.height=void 0!==a.height?Ge(parseInt(a.height,10)):ee.value?Ge(ee.value):"auto",parseInt(f.resourceMinHeight,10)>0&&(d.minHeight=Ge(parseInt(f.resourceMinHeight,10)));const l=f.resourceStyle||X,o=a[f.resourceLabel],u=!0===f.focusable&&f.focusType.includes("resource")&&!0===n,i={resource:a,timestamps:U.value,days:U.value,resourceIndex:e,indentLevel:t,label:o},s=a[f.resourceKey];i.droppable=k.value===s;const c="function"===typeof f.resourceClass?f.resourceClass({scope:i}):{};return ze.h("div",{key:a[f.resourceKey]+"-"+e,ref:e=>{v.value[a[f.resourceKey]]=e},tabindex:!0===u?0:-1,class:{"q-calendar-scheduler__resource":0===t,"q-calendar-scheduler__resource--section":0!==t,...c,"q-calendar__sticky":!0===x.value,"q-calendar__hoverable":!0===f.hoverable,"q-calendar__focusable":!0===u},style:{...d,...l({scope:i})},onDragenter:e=>{void 0!==f.dragEnterFunc&&"function"===typeof f.dragEnterFunc&&(!0===f.dragEnterFunc(e,"resource",i)?k.value=s:k.value="")},onDragover:e=>{void 0!==f.dragOverFunc&&"function"===typeof f.dragOverFunc&&(!0===f.dragOverFunc(e,"resource",i)?k.value=s:k.value="")},onDragleave:e=>{void 0!==f.dragLeaveFunc&&"function"===typeof f.dragLeaveFunc&&(!0===f.dragLeaveFunc(e,"resource",i)?k.value=s:k.value="")},onDrop:e=>{void 0!==f.dropFunc&&"function"===typeof f.dropFunc&&(!0===f.dropFunc(e,"resource",i)?k.value=s:k.value="")},onKeydown:e=>{j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{j(e,[13,32])&&void 0!==F.value.onClickResource&&g("click-resource",{scope:i,event:e})},...Z("-resource",e=>{return{scope:i,event:e}})},[[ze.h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation();a.expanded=!a.expanded;g("resource-expanded",{expanded:a.expanded,scope:i})}}),ze.h("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*t+2+"px"}},[r?r({scope:i}):o]),pa()]])}function We(e,a,t=0,n=!0){const r=m["resource-days"],d=!0===x.value?Ge(z.value):te.value,l={resource:e,resourceIndex:a,indentLevel:t,expanded:n,cellWidth:d,timestamps:U.value,days:U.value},o={};o.height=parseInt(f.resourceHeight,10)>0?Ge(parseInt(f.resourceHeight,10)):"auto",parseInt(f.resourceMinHeight,10)>0&&(o.minHeight=Ge(parseInt(f.resourceMinHeight,10)));const u={class:"q-calendar-scheduler__resource--days",style:o};return ze.h("div",u,[...Ae(e,a,t,n),r&&r({scope:l})])}function Ae(a,t,n=0,r=!0){return 1===U.value.length&&parseInt(f.columnCount,10)>0?Array.apply(null,new Array(parseInt(f.columnCount,10))).map((e,a)=>a+parseInt(f.columnIndexStart,10)).map(e=>He(U.value[0],e,a,t,n,r)):U.value.map(e=>He(e,void 0,a,t,n,r))}function He(e,a,t,n,r=0,d=!0){const l=m.day,o=f.dayStyle||O,u=!0!==f.noActiveDate&&V.value.date===e.date,i=e.date+":"+t[f.resourceKey]+(void 0!==a?":"+a:""),s=k.value===i,c={timestamp:e,columnIndex:a,resource:t,resourceIndex:n,indentLevel:r,activeDate:u,droppable:s},v=!0===x.value?Ge(z.value):te.value,y={width:v,maxWidth:v,...o({scope:c})};y.height=parseInt(f.resourceHeight,10)>0?Ge(parseInt(f.resourceHeight,10)):"auto",parseInt(f.resourceMinHeight,10)>0&&(y.minHeight=Ge(parseInt(f.resourceMinHeight,10)));const p="function"===typeof f.dayClass?f.dayClass({scope:c}):{},h=!0===f.focusable&&f.focusType.includes("day")&&!0===d;return ze.h("div",{key:e.date+(void 0!==a?":"+a:""),tabindex:!0===h?0:-1,class:{"q-calendar-scheduler__day":0===r,"q-calendar-scheduler__day--section":0!==r,...p,...M(e),"q-calendar__hoverable":!0===f.hoverable,"q-calendar__focusable":!0===h},style:y,onDragenter:e=>{void 0!==f.dragEnterFunc&&"function"===typeof f.dragEnterFunc&&(!0===f.dragEnterFunc(e,"day",c)?k.value=i:k.value="")},onDragover:e=>{void 0!==f.dragOverFunc&&"function"===typeof f.dragOverFunc&&(!0===f.dragOverFunc(e,"day",c)?k.value=i:k.value="")},onDragleave:e=>{void 0!==f.dragLeaveFunc&&"function"===typeof f.dragLeaveFunc&&(!0===f.dragLeaveFunc(e,"day",c)?k.value=i:k.value="")},onDrop:e=>{void 0!==f.dropFunc&&"function"===typeof f.dropFunc&&(!0===f.dropFunc(e,"day",c)?k.value=i:k.value="")},onKeydown:e=>{j(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{j(e,[13,32])&&(w.value=c.timestamp.date,void 0!==F.value.onClickResource&&g("click-resource",{scope:c,event:e}))},...Z("-day-resource",e=>{return{scope:c,event:e}})},[l&&l({scope:c}),pa()])}function Le(){return ze.h("div",{},"No resources have been defined")}function Ee(){const{start:e,end:a,maxDays:t}=B.value;u.value===e.date&&i.value===a.date&&s.value===t||(u.value=e.date,i.value=a.date,s.value=t);const n=c.width>0,r=f.modelResources&&f.modelResources.length>0,d=ze.withDirectives(ze.h("div",{key:u.value,class:"q-calendar-scheduler"},[!0===n&&!0===r&&!0!==x.value&&!0!==f.noHeader&&ue(),!0===n&&!0===r&&qe(),!1===r&&Le()]),[[ea,le]]);if(!0!==f.animated)return d;{const l="q-calendar--"+("prev"===o.value?f.transitionPrev:f.transitionNext);return ze.h(ze.Transition,{name:l,appear:!0},()=>d)}}return ze.watch([U],$,{deep:!0,immediate:!0}),ze.watch(()=>f.modelValue,(e,a)=>{if(w.value!==f.modelValue){if(!0===f.animated){const t=$e(Ye(e)),n=$e(Ye(a));o.value=t>=n?"next":"prev"}w.value=e}y.value=e}),ze.watch(w,(e,a)=>{if(w.value!==f.modelValue){if(!0===f.animated){const t=$e(Ye(e)),n=$e(Ye(a));o.value=t>=n?"next":"prev"}g("update:model-value",e)}}),ze.watch(y,e=>{e&&(r.value=Ze(e))}),ze.watch(r,e=>{p.value[y.value]?p.value[y.value].focus():Q()}),ze.watch(()=>f.maxDays,e=>{s.value=e}),ze.onBeforeUpdate(()=>{p.value={};d.value={};l.value={};v.value={}}),ze.onMounted(()=>{P()}),e({prev:de,next:re,move:Y,moveToToday:ne,updateCurrent:T}),()=>K()}});const Wa={modelValue:{type:String,default:Xe(),validator:e=>""===e||k(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>le(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>2===e.length},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let a=!0;e.forEach(e=>{!0!==["day","date","weekday","interval","resource","task"].includes(e)&&(a=!1)});return a}},taskWidth:{type:Number,default:200,validator:e=>le(e)&&e>0}};function Aa(a,e,{weekdaySkips:t,times:n}){const r=ze.computed(()=>{{if("day"===a.view)return Ze(a.modelValue);if("week"===a.view)return z(Ze(a.modelValue),a.weekdays,n.today);if("month"===a.view)return F(Ze(a.modelValue),a.weekdays,n.today);throw new Error(`QCalendarTask: unknown 'view' type (${a.view})`)}}),d=ze.computed(()=>{{if("day"===a.view){if(1===a.viewCount)return r.value;let e=$(r.value);return e=ce(e,{day:a.viewCount-1}),e}if("week"===a.view){if(1===a.viewCount)return X(Ze(a.modelValue),a.weekdays,n.today);{let e=$(r.value);return e=ce(e,{day:(a.viewCount-1)*u}),X(e,a.weekdays,n.today)}}if("month"!==a.view)throw new Error(`QCalendarTask: unknown 'view' type (${a.view})`);if(1===a.viewCount)return x(Ze(a.modelValue),a.weekdays,n.today);{let e=$(r.value);return e=ce(e,{month:a.viewCount}),x(e,a.weekdays,n.today)}}}),l=ze.computed(()=>{return ae(r.value,d.value,n.today,t.value,a.disabledBefore,a.disabledAfter,a.disabledWeekdays,a.disabledDays,Number.MAX_SAFE_INTEGER)});return{days:l,parsedStartDate:r,parsedEndDate:d}}var Ha=ze.defineComponent({name:"QCalendarTask",directives:[ea],props:{...Re,...ba,...Wa},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...ga,...sa,...ua("-date"),...ua("-day"),...ua("-head-day")],setup(c,{slots:v,emit:i,expose:e}){const a=ze.ref(null),t=ze.ref(null),d=ze.ref("next"),l=ze.ref(c.modelValue||Xe()),o=ze.ref("0000-00-00"),n=ze.ref(0),y=ze.ref(c.modelValue),p=ze.ref(null),r=ze.ref(null),h=ze.ref({}),u=ze.reactive({width:0,height:0}),f=ze.ref(!1),s=ze.ref(null),m=ze.ref(null);ze.watch(()=>c.view,()=>{n.value=0});const g=ze.computed(()=>{if("month"===c.view)return"month-interval";return c.view}),w=ze.getCurrentInstance();if(null===w)throw new Error("current instance is null");const k=ya(w)["emitListeners"],{times:_,setCurrent:b,updateCurrent:D}=ra(c);D(),b();const{weekdaySkips:q,parsedStart:F,dayFormatter:x,weekdayFormatter:C,ariaDateFormatter:S,dayStyleDefault:T,getRelativeClasses:I}=ta(c,{startDate:l,endDate:o,times:_}),W=ze.computed(()=>{return Ze(c.modelValue,_.now)||F.value||_.today});r.value=W.value,p.value=W.value.date;const A=da(c,{parsedView:g,times:_,parsedValue:W})["renderValues"],{rootRef:H,__initCalendar:L,__renderCalendar:E}=aa(c,We,{scrollArea:a,pane:t}),{days:O,parsedStartDate:M,parsedEndDate:V}=Aa(c,i,{weekdaySkips:q,times:_}),B=ca(c,{parsedView:g,parsedValue:W,weekdaySkips:q,direction:d,maxDays:n,times:_,emittedValue:y,emit:i})["move"],R=ia(i,k)["getDefaultMouseEventHandlers"],N=wa(i,{days:O,lastStart:s,lastEnd:m})["checkChange"],P=ka()["isKeyCode"],K=Da(c,{rootRef:H,focusRef:p,focusValue:r,datesRef:h,days:O,parsedView:g,parsedValue:W,emittedValue:y,weekdaySkips:q,direction:d,times:_})["tryFocus"],U=ze.ref(!0),z=ze.computed(()=>{if(void 0!==c.cellWidth)return parseInt(c.cellWidth,10);return 150}),X=ze.computed(()=>{return!0===c.focusable&&c.focusType.includes("day")&&!0!==isMiniMode.value}),Y=ze.computed(()=>{return!0===c.focusable&&c.focusType.includes("date")&&!0!==X.value}),Z=ze.computed(()=>{return!0===c.focusable&&c.focusType.includes("weekday")}),$=ze.computed(()=>{return parseInt(c.dayHeight,10)}),j=ze.computed(()=>{return parseInt(c.dayMinHeight,10)});function Q(){y.value=Xe()}function G(e=1){B(e)}function J(e=1){B(-e)}function ee({width:e,height:a}){u.width=e,u.height=a}function ae(e){return e.date===y.value}function te(e,a,t){const n=v.day,r=c.dayStyle||T,d=!0!==c.noActiveDate&&W.value.date===e.date,l={timestamp:e,task:a,taskIndex:t,activeDate:d},o=Ge(z.value),u={width:o,minWidth:o,maxWidth:o,...r({scope:l})},i="function"===typeof c.dayClass?c.dayClass({scope:l}):{};return ze.h("div",{tabindex:!0===X.value?0:-1,class:{"q-calendar-task__task--day":!0,...i,...I(e),"q-active-date":!0===d,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===X.value},style:u,onFocus:e=>{X.value},...R("-day",e=>{return{scope:l,event:e}}),onDragenter:e=>{void 0!==c.dragEnterFunc&&"function"===typeof c.dragEnterFunc&&(!0===c.dragEnterFunc(e,"day",l)?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:e=>{void 0!==c.dragOverFunc&&"function"===typeof c.dragOverFunc&&(!0===c.dragOverFunc(e,"day",l)?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:e=>{void 0!==c.dragLeaveFunc&&"function"===typeof c.dragLeaveFunc&&(!0===c.dragLeaveFunc(e,"day",l)?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:e=>{void 0!==c.dropFunc&&"function"===typeof c.dropFunc&&(!0===c.dropFunc(e,"day",l)?dragOverResource.value=dragValue:dragOverResource.value="")}},[n&&n({scope:l}),pa()])}function ne(a,t){return O.value.map(e=>te(e,a,t))}function re(e,a){const t=v.days,n={timestamps:O.value,days:O.value,task:e,taskIndex:a,cellWidth:z.value};return ze.h("div",{class:"q-calendar-task__task--days-row"},[ne(e,a),t&&t({scope:n})])}function de(a,e,t=0,n=!0){const r=v.task,d={start:M.value,end:V.value,task:a,taskIndex:e,expanded:n},l=Ge(c.taskWidth),o={width:l,minWidth:l,maxWidth:l},u=!0===c.focusable&&c.focusType.includes("task");return ze.h("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":!0===U.value,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===u},style:o},[ze.h("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*t+"px"}},[ze.h("div",{class:{"q-calendar__parent":void 0!==a.children,"q-calendar__parent--expanded":void 0!==a.children&&!0===a.expanded,"q-calendar__parent--collapsed":void 0!==a.children&&!0!==a.expanded},onClick:e=>{e.stopPropagation();a.expanded=!a.expanded;i("task-expanded",{expanded:a.expanded,scope:d})}})]),r&&r({scope:d}),pa()])}function le(e,a,t=0,n=!0){const r=void 0!==e.height?Ge(parseInt(e.height,10)):$.value>0?Ge($.value):"auto",d=j.value>0?Ge(j.value):void 0,l={height:r};void 0!==d&&(l.minHeight=d);const o=ze.h("div",{key:e[c.taskKey]+"-"+a,class:{"q-calendar-task__task":0===t,"q-calendar-task__task--section":0!==t},style:l},[de(e,a,t,n),re(e,a)]);return void 0!==e.children?[o,ze.h("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":!0===n,"q-calendar__child--collapsed":!0!==n}},[oe(e.children,t+1,!1===n?n:e.expanded)])]:[o]}function oe(e=void 0,t=0,n=!0){return void 0===e&&(e=c.modelTasks),e.map((e,a)=>{return le(e,a,t,void 0!==e.children?e.expanded:n)})}function ue(){return ze.h("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":!0===U.value}},[oe()])}function ie(e,a){const t=v["footer-task"],n={start:M.value,end:V.value,footer:e,index:a},r=Ge(c.taskWidth),d={width:r,minWidth:r,maxWidth:r};return ze.h("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":!0===U.value},style:d},[t&&t({scope:n})])}function se(e,a,t){const n=v["footer-day"],r={timestamp:e,footer:a,index:t},d=Ge(z.value),l={width:d,minWidth:d,maxWidth:d},o="function"===typeof c.footerDayClass?c.footerDayClass({scope:r}):{};return ze.h("div",{class:{"q-calendar-task__footer--day":!0,...o,...I(e),"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===X.value},style:l},[n&&n({scope:r})])}function ce(a,t){return ze.h("div",{class:"q-calendar-task__footer--day-wrapper"},[O.value.map(e=>se(e,a,t))])}function ve(){const t=!0===c.focusable&&c.focusType.includes("task");return c.modelFooter.map((e,a)=>{return ze.h("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===t}},{default:()=>[ie(e,a),ce(e,a)]})})}function ye(){return ze.h("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":!0===U.value}},ve())}function pe(){return ze.h("div",{class:{"q-calendar-task__container":!0}},[!0!==c.noHeader&&Se(),ue(),ye()])}function he(){const e=v["head-tasks"],a={start:M.value,end:V.value},t=Ge(parseInt(c.taskWidth,10)),n={width:t,minWidth:t,maxWidth:t};return ze.h("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":!0===U.value},style:n},[e&&e({scope:a})])}function fe(e,a){const t=v["title-task"],n=Ge(parseInt(c.taskWidth,10)),r={width:n,minWidth:n,maxWidth:n},d={start:M.value,end:V.value,cellWidth:n,title:e,index:a};return ze.h("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":!0===U.value},style:r},[t&&t({scope:d})])}function me(e){const a=v["head-weekday-label"],t=!0!==c.noActiveDate&&ae(e),n={activeDate:t,timestamp:e,disabled:!!c.disabledWeekdays&&c.disabledWeekdays.includes(e.weekday)},r={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+c.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return ze.h("div",r,a&&a({scope:n})||ge(e,c.shortWeekdayLabel))}function ge(e,a){const t=C.value(e,a||c.weekdayBreakpoints[0]>0&&z.value<=c.weekdayBreakpoints[0]);return ze.h("span",{class:"q-calendar__ellipsis"},c.weekdayBreakpoints[1]>0&&z.value<=c.weekdayBreakpoints[1]?Je(t,c.minWeekdayLabel):t)}function we(e){const a={class:{"q-calendar-task__head--date":!0,["q-calendar__"+c.dateAlign]:!0}};return ze.h("div",a,ke(e))}function ke(t){const e=!0!==c.noActiveDate&&ae(t),a=x.value(t,!1),n=v["head-day-label"],r=v["head-day-button"],d={dayLabel:a,timestamp:t,activeDate:e},l=t.date,o={key:l,tabindex:!0===Y.value?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":"round"===c.dateType,"q-calendar__button--rounded":"rounded"===c.dateType,"q-calendar__button--bordered":!0===t.current,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===Y.value},disabled:t.disabled,onKeydown:e=>{!0!==t.disabled&&P(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==t.disabled&&P(e,[13,32])&&(y.value=t.date,void 0!==k.value.onClickDate&&i("click-date",{scope:d}))},...R("-date",(e,a)=>{"click-date"!==a&&"contextmenu-date"!==a||(y.value=t.date,"click-date"===a&&e.preventDefault());return{scope:d,event:e}})};return!0!==c.noAria&&(o.ariaLabel=S.value(t)),r?r({scope:d}):ha(c,o,n?n({scope:d}):a)}function _e(e){return"stacked"===c.dateHeader?[!0!==c.noDefaultHeaderText&&me(e),!0!==c.noDefaultHeaderBtn&&we(e)]:"inline"===c.dateHeader?("left"===c.weekdayAlign&&"right"===c.dateAlign||"right"===c.weekdayAlign&&c.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==c.noDefaultHeaderText&&me(e),!0!==c.noDefaultHeaderBtn&&we(e)])):"inverted"===c.dateHeader?("left"===c.weekdayAlign&&"right"===c.dateAlign||"right"===c.weekdayAlign&&c.dateAlign,ze.h("div",{class:"q-calendar__header--inline"},[!0!==c.noDefaultHeaderBtn&&we(e),!0!==c.noDefaultHeaderText&&me(e)])):void 0}function be(e,a,t){const n=v["title-day"],r=Ge(z.value),d={width:r,minWidth:r,maxWidth:r},l={timestamp:e,title:a,index:t,cellWidth:z.value},o="function"===typeof c.dayClass?c.dayClass({scope:l}):{},u=!0===c.focusable&&c.focusType.includes("day");return ze.h("div",{class:{"q-calendar-task__title--day":!0,...o,...I(e),"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===u},style:d},[n&&n({scope:l}),pa()])}function De(a){const e=v["head-day"],t=v["head-date"],n=!0!==c.noActiveDate&&ae(a),r={timestamp:a,activeDate:n,droppable:f.value=a.date,disabled:!!c.disabledWeekdays&&c.disabledWeekdays.includes(a.weekday)},d=c.weekdayStyle||T,l="function"===typeof c.weekdayClass?c.weekdayClass({scope:r}):{},o=Ge(z.value),u={width:o,minWidth:o,maxWidth:o,...d({scope:r})},i=a.date,s={key:i,ref:e=>{h.value[i]=e},tabindex:!0===Z.value?0:-1,class:{"q-calendar-task__head--day":!0,...l,...I(a),"q-active-date":n,"q-calendar__hoverable":!0===c.hoverable,"q-calendar__focusable":!0===Z.value},style:u,onFocus:e=>{!0===Z.value&&(p.value=i)},onKeydown:e=>{!0!==a.disabled&&P(e,[13,32])&&(e.stopPropagation(),e.preventDefault())},onKeyup:e=>{!0!==a.disabled&&P(e,[13,32])&&(y.value=a.date)},...R("-head-day",e=>{return{scope:r,event:e}}),onDragenter:e=>{void 0!==c.dragEnterFunc&&"function"===typeof c.dragEnterFunc&&(!0===c.dragEnterFunc(e,"head-day",r)?f.value=a.date:f.value="")},onDragover:e=>{void 0!==c.dragOverFunc&&"function"===typeof c.dragOverFunc&&(!0===c.dragOverFunc(e,"head-day",r)?f.value=a.date:f.value="")},onDragleave:e=>{void 0!==c.dragLeaveFunc&&"function"===typeof c.dragLeaveFunc&&(!0===c.dragLeaveFunc(e,"head-day",r)?f.value=a.date:f.value="")},onDrop:e=>{void 0!==c.dropFunc&&"function"===typeof c.dropFunc&&(!0===c.dropFunc(e,"head-day",r)?f.value=a.date:f.value="")}};return ze.h("div",s,[void 0!==e&&e({scope:r}),void 0===e&&_e(a),void 0===e&&t&&t({scope:r}),pa()])}function qe(){return O.value.map(e=>De(e))}function Fe(a,t){return O.value.map(e=>be(e,a,t))}function xe(){return ze.h("div",{class:{"q-calendar-task__head--days":!0}},[...qe()])}function Ce(e,a){return ze.h("div",{class:{"q-calendar-task__title--days":!0}},[...Fe(e,a)])}function Se(){return ze.h("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":!0===U.value},style:{}},[ze.h("div",{style:{position:"relative",display:"flex"}},[he(),xe()]),c.modelTitle.map((e,a)=>ze.h("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[fe(e,a),Ce(e,a)]))])}function Te(){return ze.h("div",{class:"q-calendar-task__body"},[Ie()])}function Ie(){return ze.h("div",{ref:a,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[pe()])}function We(){const{start:e,end:a}=A.value;l.value=e.date,o.value=a.date;const t=u.width>0,n=ze.withDirectives(ze.h("div",{key:l.value,class:"q-calendar-task"},[!0===t&&Te()]),[[ea,ee]]);if(!0!==c.animated)return n;{const r="q-calendar--"+("prev"===d.value?c.transitionPrev:c.transitionNext);return ze.h(ze.Transition,{name:r,appear:!0},()=>n)}}return ze.watch([O],N,{deep:!0,immediate:!0}),ze.watch(()=>c.modelValue,(e,a)=>{if(y.value!==e){if(!0===c.animated){const t=$e(Ye(e)),n=$e(Ye(a));d.value=t>=n?"next":"prev"}y.value=e}p.value=e}),ze.watch(y,(e,a)=>{if(y.value!==c.modelValue){if(!0===c.animated){const t=$e(Ye(e)),n=$e(Ye(a));d.value=t>=n?"next":"prev"}i("update:model-value",e)}}),ze.watch(p,e=>{e&&(r.value=Ze(e))}),ze.watch(r,e=>{h.value[p.value]?h.value[p.value].focus():K()}),ze.onBeforeUpdate(()=>{h.value={}}),ze.onMounted(()=>{L()}),e({prev:J,next:G,move:B,moveToToday:Q,updateCurrent:D}),()=>E()}}),La=ze.defineComponent({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...Ce,...xa,...Re,...fa,...ba,...Le,...Ee,...Me,...Be,...Wa},setup(e,{attrs:a,slots:t,expose:n}){const r=ze.ref(null),d=ze.computed(()=>{switch(e.mode){case"agenda":return qa;case"resource":return Ta;case"scheduler":return Ia;case"month":return Sa;case"day":return Fa;case"task":return Ha;case"day":default:return Fa}});function l(){r.value.moveToToday()}function o(e=-1){r.value.move(e)}function u(e=1){r.value.next(e)}function i(e=1){r.value.prev(e)}function s(){r.value.updateCurrent()}function c(e,a=!0){return r.value.timeStartPos(e,a)}function v(e,a=!0){return r.value.timeStartPosX(e,a)}function y(e){return r.value.timeDurationWidth(e)}function p(e){return r.value.timeDurationHeight(e)}function h(e){return r.value.heightToMinutes(e)}function f(e){return r.value.widthToMinutes(minutes)}function m(e){return r.value.scrollToTime(e)}function g(e){return r.value.scrollToTimeX(e)}return n({prev:i,next:u,move:o,moveToToday:l,updateCurrent:s,timeStartPos:c,timeStartPosX:v,timeDurationWidth:y,timeDurationHeight:p,heightToMinutes:h,widthToMinutes:f,scrollToTime:m,scrollToTimeX:g}),()=>ze.h(d.value,{ref:r,...e,...a},t)}});const Ea="4.0.0-beta.12";var Oa={version:Ea,QCalendar:La,QCalendarAgenda:qa,QCalendarDay:Fa,QCalendarMonth:Sa,QCalendarResource:Ta,QCalendarScheduler:Ia,QCalendarTask:Ha,PARSE_REGEX:t,PARSE_DATE:e,PARSE_TIME:n,DAYS_IN_MONTH:r,DAYS_IN_MONTH_LEAP:d,DAYS_IN_MONTH_MIN:a,DAYS_IN_MONTH_MAX:f,MONTH_MAX:o,MONTH_MIN:l,DAY_MIN:m,DAYS_IN_WEEK:u,MINUTES_IN_HOUR:i,HOURS_IN_DAY:s,FIRST_HOUR:c,MILLISECONDS_IN_MINUTE:v,MILLISECONDS_IN_HOUR:y,MILLISECONDS_IN_DAY:p,MILLISECONDS_IN_WEEK:h,Timestamp:g,TimeObject:w,today:Xe,getStartOfWeek:z,getEndOfWeek:X,getStartOfMonth:F,getEndOfMonth:x,parseTime:Y,validateTimestamp:k,parsed:Ye,parseTimestamp:Ze,parseDate:C,getDayIdentifier:$e,getTimeIdentifier:S,getDayTimeIdentifier:je,diffTimestamp:T,updateRelative:Z,updateMinutes:I,updateWeekday:W,updateDayOfYear:A,updateWorkWeek:H,updateDisabled:L,updateFormatted:E,getDayOfYear:O,getWorkWeek:M,getWeekday:V,isLeapYear:B,daysInMonth:R,copyTimestamp:$,padNumber:N,getDate:P,getTime:K,getDateTime:Qe,nextDay:U,prevDay:j,moveRelativeDays:Q,relativeDays:G,findWeekday:J,getWeekdaySkips:ee,createDayList:ae,createIntervalList:te,createNativeLocaleFormatter:ne,makeDate:re,makeDateTime:de,validateNumber:le,maxTimestamp:oe,minTimestamp:ue,isBetweenDates:ie,isOverlappingDates:se,daysBetween:we,weeksBetween:ke,addToDate:ce,compareTimestamps:_,compareDate:b,compareTime:D,compareDateTime:q,getWeekdayFormatter:be,getWeekdayNames:De,getMonthFormatter:qe,getMonthNames:Fe,convertToUnit:Ge,indexOf:xe,install(e,a){e.component(La.name,La),e.component(qa.name,qa),e.component(Fa.name,Fa),e.component(Sa.name,Sa),e.component(Ta.name,Ta),e.component(Ia.name,Ia),e.component(Ha.name,Ha)}};return Oa});